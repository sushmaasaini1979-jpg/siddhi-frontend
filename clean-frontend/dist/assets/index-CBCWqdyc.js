function hg(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Lc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var cf={exports:{}},Uo={},uf={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),mg=Symbol.for("react.portal"),pg=Symbol.for("react.fragment"),gg=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),vg=Symbol.for("react.provider"),xg=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),bg=Symbol.for("react.suspense"),jg=Symbol.for("react.memo"),Ng=Symbol.for("react.lazy"),Ku=Symbol.iterator;function kg(t){return t===null||typeof t!="object"?null:(t=Ku&&t[Ku]||t["@@iterator"],typeof t=="function"?t:null)}var df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hf=Object.assign,ff={};function Fn(t,e,r){this.props=t,this.context=e,this.refs=ff,this.updater=r||df}Fn.prototype.isReactComponent={};Fn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mf(){}mf.prototype=Fn.prototype;function Ic(t,e,r){this.props=t,this.context=e,this.refs=ff,this.updater=r||df}var $c=Ic.prototype=new mf;$c.constructor=Ic;hf($c,Fn.prototype);$c.isPureReactComponent=!0;var Ju=Array.isArray,pf=Object.prototype.hasOwnProperty,Dc={current:null},gf={key:!0,ref:!0,__self:!0,__source:!0};function yf(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)pf.call(e,n)&&!gf.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ks,type:t,key:i,ref:a,props:s,_owner:Dc.current}}function _g(t,e){return{$$typeof:Ks,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ks}function Sg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Gu=/\/+/g;function ja(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Sg(""+t.key):e.toString(36)}function Ii(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ks:case mg:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+ja(a,0):n,Ju(s)?(r="",t!=null&&(r=t.replace(Gu,"$&/")+"/"),Ii(s,e,r,"",function(u){return u})):s!=null&&(Mc(s)&&(s=_g(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Gu,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Ju(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+ja(i,l);a+=Ii(i,e,r,c,s)}else if(c=kg(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+ja(i,l++),a+=Ii(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ci(t,e,r){if(t==null)return t;var n=[],s=0;return Ii(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Cg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ue={current:null},$i={transition:null},Eg={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:$i,ReactCurrentOwner:Dc};function vf(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:ci,forEach:function(t,e,r){ci(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ci(t,function(){e++}),e},toArray:function(t){return ci(t,function(e){return e})||[]},only:function(t){if(!Mc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=Fn;z.Fragment=pg;z.Profiler=yg;z.PureComponent=Ic;z.StrictMode=gg;z.Suspense=bg;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eg;z.act=vf;z.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=hf({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Dc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)pf.call(e,c)&&!gf.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ks,type:t.type,key:s,ref:i,props:n,_owner:a}};z.createContext=function(t){return t={$$typeof:xg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vg,_context:t},t.Consumer=t};z.createElement=yf;z.createFactory=function(t){var e=yf.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:wg,render:t}};z.isValidElement=Mc;z.lazy=function(t){return{$$typeof:Ng,_payload:{_status:-1,_result:t},_init:Cg}};z.memo=function(t,e){return{$$typeof:jg,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=$i.transition;$i.transition={};try{t()}finally{$i.transition=e}};z.unstable_act=vf;z.useCallback=function(t,e){return Ue.current.useCallback(t,e)};z.useContext=function(t){return Ue.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Ue.current.useDeferredValue(t)};z.useEffect=function(t,e){return Ue.current.useEffect(t,e)};z.useId=function(){return Ue.current.useId()};z.useImperativeHandle=function(t,e,r){return Ue.current.useImperativeHandle(t,e,r)};z.useInsertionEffect=function(t,e){return Ue.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Ue.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Ue.current.useMemo(t,e)};z.useReducer=function(t,e,r){return Ue.current.useReducer(t,e,r)};z.useRef=function(t){return Ue.current.useRef(t)};z.useState=function(t){return Ue.current.useState(t)};z.useSyncExternalStore=function(t,e,r){return Ue.current.useSyncExternalStore(t,e,r)};z.useTransition=function(){return Ue.current.useTransition()};z.version="18.3.1";uf.exports=z;var j=uf.exports;const ce=Lc(j),Og=hg({__proto__:null,default:ce},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg=j,Rg=Symbol.for("react.element"),Pg=Symbol.for("react.fragment"),Ag=Object.prototype.hasOwnProperty,Lg=Tg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ig={key:!0,ref:!0,__self:!0,__source:!0};function xf(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Ag.call(e,n)&&!Ig.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Rg,type:t,key:i,ref:a,props:s,_owner:Lg.current}}Uo.Fragment=Pg;Uo.jsx=xf;Uo.jsxs=xf;cf.exports=Uo;var o=cf.exports,ul={},wf={exports:{}},rt={},bf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,L){var $=T.length;T.push(L);e:for(;0<$;){var q=$-1>>>1,Q=T[q];if(0<s(Q,L))T[q]=L,T[$]=Q,$=q;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var L=T[0],$=T.pop();if($!==L){T[0]=$;e:for(var q=0,Q=T.length,kt=Q>>>1;q<kt;){var qe=2*(q+1)-1,Gt=T[qe],Lt=qe+1,en=T[Lt];if(0>s(Gt,$))Lt<Q&&0>s(en,Gt)?(T[q]=en,T[Lt]=$,q=Lt):(T[q]=Gt,T[qe]=$,q=qe);else if(Lt<Q&&0>s(en,$))T[q]=en,T[Lt]=$,q=Lt;else break e}}return L}function s(T,L){var $=T.sortIndex-L.sortIndex;return $!==0?$:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,g=!1,m=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=T)n(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=r(u)}}function b(T){if(w=!1,y(T),!m)if(r(c)!==null)m=!0,G(S);else{var L=r(u);L!==null&&ze(b,L.startTime-T)}}function S(T,L){m=!1,w&&(w=!1,v(E),E=-1),g=!0;var $=f;try{for(y(L),h=r(c);h!==null&&(!(h.expirationTime>L)||T&&!R());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var Q=q(h.expirationTime<=L);L=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(c)&&n(c),y(L)}else n(c);h=r(c)}if(h!==null)var kt=!0;else{var qe=r(u);qe!==null&&ze(b,qe.startTime-L),kt=!1}return kt}finally{h=null,f=$,g=!1}}var N=!1,_=null,E=-1,A=5,C=-1;function R(){return!(t.unstable_now()-C<A)}function J(){if(_!==null){var T=t.unstable_now();C=T;var L=!0;try{L=_(!0,T)}finally{L?ee():(N=!1,_=null)}}else N=!1}var ee;if(typeof p=="function")ee=function(){p(J)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Ee=Y.port2;Y.port1.onmessage=J,ee=function(){Ee.postMessage(null)}}else ee=function(){x(J,0)};function G(T){_=T,N||(N=!0,ee())}function ze(T,L){E=x(function(){T(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,G(S))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var $=f;f=L;try{return T()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=f;f=T;try{return L()}finally{f=$}},t.unstable_scheduleCallback=function(T,L,$){var q=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?q+$:q):$=q,T){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=$+Q,T={id:d++,callback:L,priorityLevel:T,startTime:$,expirationTime:Q,sortIndex:-1},$>q?(T.sortIndex=$,e(u,T),r(c)===null&&T===r(u)&&(w?(v(E),E=-1):w=!0,ze(b,$-q))):(T.sortIndex=Q,e(c,T),m||g||(m=!0,G(S))),T},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(T){var L=f;return function(){var $=f;f=L;try{return T.apply(this,arguments)}finally{f=$}}}})(jf);bf.exports=jf;var $g=bf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=j,tt=$g;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nf=new Set,Cs={};function Jr(t,e){On(t,e),On(t+"Capture",e)}function On(t,e){for(Cs[t]=e,t=0;t<e.length;t++)Nf.add(e[t])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dl=Object.prototype.hasOwnProperty,Mg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yu={},Xu={};function Fg(t){return dl.call(Xu,t)?!0:dl.call(Yu,t)?!1:Mg.test(t)?Xu[t]=!0:(Yu[t]=!0,!1)}function Ug(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bg(t,e,r,n){if(e===null||typeof e>"u"||Ug(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Be(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new Be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ce[e]=new Be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new Be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new Be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new Be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new Be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new Be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new Be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new Be(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fc=/[\-:]([a-z])/g;function Uc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fc,Uc);Ce[e]=new Be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fc,Uc);Ce[e]=new Be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fc,Uc);Ce[e]=new Be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new Be(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new Be(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bc(t,e,r,n){var s=Ce.hasOwnProperty(e)?Ce[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bg(e,r,s,n)&&(r=null),n||s===null?Fg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Jt=Dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ui=Symbol.for("react.element"),un=Symbol.for("react.portal"),dn=Symbol.for("react.fragment"),zc=Symbol.for("react.strict_mode"),hl=Symbol.for("react.profiler"),kf=Symbol.for("react.provider"),_f=Symbol.for("react.context"),qc=Symbol.for("react.forward_ref"),fl=Symbol.for("react.suspense"),ml=Symbol.for("react.suspense_list"),Wc=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),Sf=Symbol.for("react.offscreen"),Zu=Symbol.iterator;function Yn(t){return t===null||typeof t!="object"?null:(t=Zu&&t[Zu]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,Na;function ls(t){if(Na===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Na=e&&e[1]||""}return`
`+Na+t}var ka=!1;function _a(t,e){if(!t||ka)return"";ka=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{ka=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ls(t):""}function zg(t){switch(t.tag){case 5:return ls(t.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 2:case 15:return t=_a(t.type,!1),t;case 11:return t=_a(t.type.render,!1),t;case 1:return t=_a(t.type,!0),t;default:return""}}function pl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dn:return"Fragment";case un:return"Portal";case hl:return"Profiler";case zc:return"StrictMode";case fl:return"Suspense";case ml:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _f:return(t.displayName||"Context")+".Consumer";case kf:return(t._context.displayName||"Context")+".Provider";case qc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wc:return e=t.displayName||null,e!==null?e:pl(t.type)||"Memo";case er:e=t._payload,t=t._init;try{return pl(t(e))}catch{}}return null}function qg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pl(e);case 8:return e===zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wg(t){var e=Cf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function di(t){t._valueTracker||(t._valueTracker=Wg(t))}function Ef(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Cf(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function io(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gl(t,e){var r=e.checked;return oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ed(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=xr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Of(t,e){e=e.checked,e!=null&&Bc(t,"checked",e,!1)}function yl(t,e){Of(t,e);var r=xr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vl(t,e.type,r):e.hasOwnProperty("defaultValue")&&vl(t,e.type,xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function td(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function vl(t,e,r){(e!=="number"||io(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var cs=Array.isArray;function jn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+xr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function xl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rd(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(O(92));if(cs(r)){if(1<r.length)throw Error(O(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:xr(r)}}function Tf(t,e){var r=xr(e.value),n=xr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function nd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hi,Pf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hi=hi||document.createElement("div"),hi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Es(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vg=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(t){Vg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ms[e]=ms[t]})});function Af(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ms.hasOwnProperty(t)&&ms[t]?(""+e).trim():e+"px"}function Lf(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Af(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Hg=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bl(t,e){if(e){if(Hg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function jl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nl=null;function Vc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kl=null,Nn=null,kn=null;function sd(t){if(t=Ys(t)){if(typeof kl!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Vo(e),kl(t.stateNode,t.type,e))}}function If(t){Nn?kn?kn.push(t):kn=[t]:Nn=t}function $f(){if(Nn){var t=Nn,e=kn;if(kn=Nn=null,sd(t),e)for(t=0;t<e.length;t++)sd(e[t])}}function Df(t,e){return t(e)}function Mf(){}var Sa=!1;function Ff(t,e,r){if(Sa)return t(e,r);Sa=!0;try{return Df(t,e,r)}finally{Sa=!1,(Nn!==null||kn!==null)&&(Mf(),$f())}}function Os(t,e){var r=t.stateNode;if(r===null)return null;var n=Vo(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(O(231,e,typeof r));return r}var _l=!1;if(Wt)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){_l=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{_l=!1}function Qg(t,e,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var ps=!1,oo=null,ao=!1,Sl=null,Kg={onError:function(t){ps=!0,oo=t}};function Jg(t,e,r,n,s,i,a,l,c){ps=!1,oo=null,Qg.apply(Kg,arguments)}function Gg(t,e,r,n,s,i,a,l,c){if(Jg.apply(this,arguments),ps){if(ps){var u=oo;ps=!1,oo=null}else throw Error(O(198));ao||(ao=!0,Sl=u)}}function Gr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Uf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function id(t){if(Gr(t)!==t)throw Error(O(188))}function Yg(t){var e=t.alternate;if(!e){if(e=Gr(t),e===null)throw Error(O(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return id(s),t;if(i===n)return id(s),e;i=i.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?t:e}function Bf(t){return t=Yg(t),t!==null?zf(t):null}function zf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zf(t);if(e!==null)return e;t=t.sibling}return null}var qf=tt.unstable_scheduleCallback,od=tt.unstable_cancelCallback,Xg=tt.unstable_shouldYield,Zg=tt.unstable_requestPaint,ue=tt.unstable_now,ey=tt.unstable_getCurrentPriorityLevel,Hc=tt.unstable_ImmediatePriority,Wf=tt.unstable_UserBlockingPriority,lo=tt.unstable_NormalPriority,ty=tt.unstable_LowPriority,Vf=tt.unstable_IdlePriority,Bo=null,Rt=null;function ry(t){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Bo,t,void 0,(t.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:iy,ny=Math.log,sy=Math.LN2;function iy(t){return t>>>=0,t===0?32:31-(ny(t)/sy|0)|0}var fi=64,mi=4194304;function us(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function co(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=us(l):(i&=a,i!==0&&(n=us(i)))}else a=r&~s,a!==0?n=us(a):i!==0&&(n=us(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-wt(e),s=1<<r,n|=t[r],e&=~s;return n}function oy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ay(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-wt(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=oy(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Cl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hf(){var t=fi;return fi<<=1,!(fi&4194240)&&(fi=64),t}function Ca(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Js(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wt(e),t[e]=r}function ly(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-wt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Qc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-wt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var K=0;function Qf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kf,Kc,Jf,Gf,Yf,El=!1,pi=[],ur=null,dr=null,hr=null,Ts=new Map,Rs=new Map,nr=[],cy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ad(t,e){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Ts.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(e.pointerId)}}function Zn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ys(e),e!==null&&Kc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function uy(t,e,r,n,s){switch(e){case"focusin":return ur=Zn(ur,t,e,r,n,s),!0;case"dragenter":return dr=Zn(dr,t,e,r,n,s),!0;case"mouseover":return hr=Zn(hr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ts.set(i,Zn(Ts.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Rs.set(i,Zn(Rs.get(i)||null,t,e,r,n,s)),!0}return!1}function Xf(t){var e=Lr(t.target);if(e!==null){var r=Gr(e);if(r!==null){if(e=r.tag,e===13){if(e=Uf(r),e!==null){t.blockedOn=e,Yf(t.priority,function(){Jf(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Di(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ol(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Nl=n,r.target.dispatchEvent(n),Nl=null}else return e=Ys(r),e!==null&&Kc(e),t.blockedOn=r,!1;e.shift()}return!0}function ld(t,e,r){Di(t)&&r.delete(e)}function dy(){El=!1,ur!==null&&Di(ur)&&(ur=null),dr!==null&&Di(dr)&&(dr=null),hr!==null&&Di(hr)&&(hr=null),Ts.forEach(ld),Rs.forEach(ld)}function es(t,e){t.blockedOn===e&&(t.blockedOn=null,El||(El=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,dy)))}function Ps(t){function e(s){return es(s,t)}if(0<pi.length){es(pi[0],t);for(var r=1;r<pi.length;r++){var n=pi[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ur!==null&&es(ur,t),dr!==null&&es(dr,t),hr!==null&&es(hr,t),Ts.forEach(e),Rs.forEach(e),r=0;r<nr.length;r++)n=nr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)Xf(r),r.blockedOn===null&&nr.shift()}var _n=Jt.ReactCurrentBatchConfig,uo=!0;function hy(t,e,r,n){var s=K,i=_n.transition;_n.transition=null;try{K=1,Jc(t,e,r,n)}finally{K=s,_n.transition=i}}function fy(t,e,r,n){var s=K,i=_n.transition;_n.transition=null;try{K=4,Jc(t,e,r,n)}finally{K=s,_n.transition=i}}function Jc(t,e,r,n){if(uo){var s=Ol(t,e,r,n);if(s===null)Da(t,e,n,ho,r),ad(t,n);else if(uy(s,t,e,r,n))n.stopPropagation();else if(ad(t,n),e&4&&-1<cy.indexOf(t)){for(;s!==null;){var i=Ys(s);if(i!==null&&Kf(i),i=Ol(t,e,r,n),i===null&&Da(t,e,n,ho,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Da(t,e,n,null,r)}}var ho=null;function Ol(t,e,r,n){if(ho=null,t=Vc(n),t=Lr(t),t!==null)if(e=Gr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Uf(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ho=t,null}function Zf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ey()){case Hc:return 1;case Wf:return 4;case lo:case ty:return 16;case Vf:return 536870912;default:return 16}default:return 16}}var ar=null,Gc=null,Mi=null;function em(){if(Mi)return Mi;var t,e=Gc,r=e.length,n,s="value"in ar?ar.value:ar.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Mi=s.slice(t,1<n?1-n:void 0)}function Fi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gi(){return!0}function cd(){return!1}function nt(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gi:cd,this.isPropagationStopped=cd,this}return oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),e}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yc=nt(Un),Gs=oe({},Un,{view:0,detail:0}),my=nt(Gs),Ea,Oa,ts,zo=oe({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ts&&(ts&&t.type==="mousemove"?(Ea=t.screenX-ts.screenX,Oa=t.screenY-ts.screenY):Oa=Ea=0,ts=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),ud=nt(zo),py=oe({},zo,{dataTransfer:0}),gy=nt(py),yy=oe({},Gs,{relatedTarget:0}),Ta=nt(yy),vy=oe({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),xy=nt(vy),wy=oe({},Un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),by=nt(wy),jy=oe({},Un,{data:0}),dd=nt(jy),Ny={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_y[t])?!!e[t]:!1}function Xc(){return Sy}var Cy=oe({},Gs,{key:function(t){if(t.key){var e=Ny[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ky[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xc,charCode:function(t){return t.type==="keypress"?Fi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ey=nt(Cy),Oy=oe({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hd=nt(Oy),Ty=oe({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xc}),Ry=nt(Ty),Py=oe({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ay=nt(Py),Ly=oe({},zo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Iy=nt(Ly),$y=[9,13,27,32],Zc=Wt&&"CompositionEvent"in window,gs=null;Wt&&"documentMode"in document&&(gs=document.documentMode);var Dy=Wt&&"TextEvent"in window&&!gs,tm=Wt&&(!Zc||gs&&8<gs&&11>=gs),fd=" ",md=!1;function rm(t,e){switch(t){case"keyup":return $y.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hn=!1;function My(t,e){switch(t){case"compositionend":return nm(e);case"keypress":return e.which!==32?null:(md=!0,fd);case"textInput":return t=e.data,t===fd&&md?null:t;default:return null}}function Fy(t,e){if(hn)return t==="compositionend"||!Zc&&rm(t,e)?(t=em(),Mi=Gc=ar=null,hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tm&&e.locale!=="ko"?null:e.data;default:return null}}var Uy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Uy[t.type]:e==="textarea"}function sm(t,e,r,n){If(n),e=fo(e,"onChange"),0<e.length&&(r=new Yc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ys=null,As=null;function By(t){pm(t,0)}function qo(t){var e=pn(t);if(Ef(e))return t}function zy(t,e){if(t==="change")return e}var im=!1;if(Wt){var Ra;if(Wt){var Pa="oninput"in document;if(!Pa){var gd=document.createElement("div");gd.setAttribute("oninput","return;"),Pa=typeof gd.oninput=="function"}Ra=Pa}else Ra=!1;im=Ra&&(!document.documentMode||9<document.documentMode)}function yd(){ys&&(ys.detachEvent("onpropertychange",om),As=ys=null)}function om(t){if(t.propertyName==="value"&&qo(As)){var e=[];sm(e,As,t,Vc(t)),Ff(By,e)}}function qy(t,e,r){t==="focusin"?(yd(),ys=e,As=r,ys.attachEvent("onpropertychange",om)):t==="focusout"&&yd()}function Wy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qo(As)}function Vy(t,e){if(t==="click")return qo(e)}function Hy(t,e){if(t==="input"||t==="change")return qo(e)}function Qy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:Qy;function Ls(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!dl.call(e,s)||!jt(t[s],e[s]))return!1}return!0}function vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xd(t,e){var r=vd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vd(r)}}function am(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?am(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lm(){for(var t=window,e=io();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=io(t.document)}return e}function eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ky(t){var e=lm(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&am(r.ownerDocument.documentElement,r)){if(n!==null&&eu(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=xd(r,i);var a=xd(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jy=Wt&&"documentMode"in document&&11>=document.documentMode,fn=null,Tl=null,vs=null,Rl=!1;function wd(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rl||fn==null||fn!==io(n)||(n=fn,"selectionStart"in n&&eu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vs&&Ls(vs,n)||(vs=n,n=fo(Tl,"onSelect"),0<n.length&&(e=new Yc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=fn)))}function yi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var mn={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionend:yi("Transition","TransitionEnd")},Aa={},cm={};Wt&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function Wo(t){if(Aa[t])return Aa[t];if(!mn[t])return t;var e=mn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in cm)return Aa[t]=e[r];return t}var um=Wo("animationend"),dm=Wo("animationiteration"),hm=Wo("animationstart"),fm=Wo("transitionend"),mm=new Map,bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,e){mm.set(t,e),Jr(e,[t])}for(var La=0;La<bd.length;La++){var Ia=bd[La],Gy=Ia.toLowerCase(),Yy=Ia[0].toUpperCase()+Ia.slice(1);br(Gy,"on"+Yy)}br(um,"onAnimationEnd");br(dm,"onAnimationIteration");br(hm,"onAnimationStart");br("dblclick","onDoubleClick");br("focusin","onFocus");br("focusout","onBlur");br(fm,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function jd(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Gg(n,e,void 0,t),t.currentTarget=null}function pm(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;jd(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;jd(s,l,u),i=c}}}if(ao)throw t=Sl,ao=!1,Sl=null,t}function te(t,e){var r=e[$l];r===void 0&&(r=e[$l]=new Set);var n=t+"__bubble";r.has(n)||(gm(e,t,2,!1),r.add(n))}function $a(t,e,r){var n=0;e&&(n|=4),gm(r,t,n,e)}var vi="_reactListening"+Math.random().toString(36).slice(2);function Is(t){if(!t[vi]){t[vi]=!0,Nf.forEach(function(r){r!=="selectionchange"&&(Xy.has(r)||$a(r,!1,t),$a(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vi]||(e[vi]=!0,$a("selectionchange",!1,e))}}function gm(t,e,r,n){switch(Zf(e)){case 1:var s=hy;break;case 4:s=fy;break;default:s=Jc}r=s.bind(null,e,r,t),s=void 0,!_l||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Da(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Lr(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Ff(function(){var u=i,d=Vc(r),h=[];e:{var f=mm.get(t);if(f!==void 0){var g=Yc,m=t;switch(t){case"keypress":if(Fi(r)===0)break e;case"keydown":case"keyup":g=Ey;break;case"focusin":m="focus",g=Ta;break;case"focusout":m="blur",g=Ta;break;case"beforeblur":case"afterblur":g=Ta;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ry;break;case um:case dm:case hm:g=xy;break;case fm:g=Ay;break;case"scroll":g=my;break;case"wheel":g=Iy;break;case"copy":case"cut":case"paste":g=by;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=hd}var w=(e&4)!==0,x=!w&&t==="scroll",v=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,v!==null&&(b=Os(p,v),b!=null&&w.push($s(p,b,y)))),x)break;p=p.return}0<w.length&&(f=new g(f,m,null,r,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==Nl&&(m=r.relatedTarget||r.fromElement)&&(Lr(m)||m[Vt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=u,m=m?Lr(m):null,m!==null&&(x=Gr(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(w=ud,b="onMouseLeave",v="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=hd,b="onPointerLeave",v="onPointerEnter",p="pointer"),x=g==null?f:pn(g),y=m==null?f:pn(m),f=new w(b,p+"leave",g,r,d),f.target=x,f.relatedTarget=y,b=null,Lr(d)===u&&(w=new w(v,p+"enter",m,r,d),w.target=y,w.relatedTarget=x,b=w),x=b,g&&m)t:{for(w=g,v=m,p=0,y=w;y;y=tn(y))p++;for(y=0,b=v;b;b=tn(b))y++;for(;0<p-y;)w=tn(w),p--;for(;0<y-p;)v=tn(v),y--;for(;p--;){if(w===v||v!==null&&w===v.alternate)break t;w=tn(w),v=tn(v)}w=null}else w=null;g!==null&&Nd(h,f,g,w,!1),m!==null&&x!==null&&Nd(h,x,m,w,!0)}}e:{if(f=u?pn(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=zy;else if(pd(f))if(im)S=Hy;else{S=Wy;var N=qy}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Vy);if(S&&(S=S(t,u))){sm(h,S,r,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&vl(f,"number",f.value)}switch(N=u?pn(u):window,t){case"focusin":(pd(N)||N.contentEditable==="true")&&(fn=N,Tl=u,vs=null);break;case"focusout":vs=Tl=fn=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,wd(h,r,d);break;case"selectionchange":if(Jy)break;case"keydown":case"keyup":wd(h,r,d)}var _;if(Zc)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else hn?rm(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(tm&&r.locale!=="ko"&&(hn||E!=="onCompositionStart"?E==="onCompositionEnd"&&hn&&(_=em()):(ar=d,Gc="value"in ar?ar.value:ar.textContent,hn=!0)),N=fo(u,E),0<N.length&&(E=new dd(E,t,null,r,d),h.push({event:E,listeners:N}),_?E.data=_:(_=nm(r),_!==null&&(E.data=_)))),(_=Dy?My(t,r):Fy(t,r))&&(u=fo(u,"onBeforeInput"),0<u.length&&(d=new dd("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=_))}pm(h,e)})}function $s(t,e,r){return{instance:t,listener:e,currentTarget:r}}function fo(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Os(t,r),i!=null&&n.unshift($s(t,i,s)),i=Os(t,e),i!=null&&n.push($s(t,i,s))),t=t.return}return n}function tn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nd(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Os(r,i),c!=null&&a.unshift($s(r,c,l))):s||(c=Os(r,i),c!=null&&a.push($s(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Zy=/\r\n?/g,ev=/\u0000|\uFFFD/g;function kd(t){return(typeof t=="string"?t:""+t).replace(Zy,`
`).replace(ev,"")}function xi(t,e,r){if(e=kd(e),kd(t)!==e&&r)throw Error(O(425))}function mo(){}var Pl=null,Al=null;function Ll(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Il=typeof setTimeout=="function"?setTimeout:void 0,tv=typeof clearTimeout=="function"?clearTimeout:void 0,_d=typeof Promise=="function"?Promise:void 0,rv=typeof queueMicrotask=="function"?queueMicrotask:typeof _d<"u"?function(t){return _d.resolve(null).then(t).catch(nv)}:Il;function nv(t){setTimeout(function(){throw t})}function Ma(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Ps(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ps(e)}function fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Bn,Ds="__reactProps$"+Bn,Vt="__reactContainer$"+Bn,$l="__reactEvents$"+Bn,sv="__reactListeners$"+Bn,iv="__reactHandles$"+Bn;function Lr(t){var e=t[Ot];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Vt]||r[Ot]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Sd(t);t!==null;){if(r=t[Ot])return r;t=Sd(t)}return e}t=r,r=t.parentNode}return null}function Ys(t){return t=t[Ot]||t[Vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Vo(t){return t[Ds]||null}var Dl=[],gn=-1;function jr(t){return{current:t}}function re(t){0>gn||(t.current=Dl[gn],Dl[gn]=null,gn--)}function Z(t,e){gn++,Dl[gn]=t.current,t.current=e}var wr={},Ie=jr(wr),Qe=jr(!1),qr=wr;function Tn(t,e){var r=t.type.contextTypes;if(!r)return wr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ke(t){return t=t.childContextTypes,t!=null}function po(){re(Qe),re(Ie)}function Cd(t,e,r){if(Ie.current!==wr)throw Error(O(168));Z(Ie,e),Z(Qe,r)}function ym(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(O(108,qg(t)||"Unknown",s));return oe({},r,n)}function go(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wr,qr=Ie.current,Z(Ie,t),Z(Qe,Qe.current),!0}function Ed(t,e,r){var n=t.stateNode;if(!n)throw Error(O(169));r?(t=ym(t,e,qr),n.__reactInternalMemoizedMergedChildContext=t,re(Qe),re(Ie),Z(Ie,t)):re(Qe),Z(Qe,r)}var Ut=null,Ho=!1,Fa=!1;function vm(t){Ut===null?Ut=[t]:Ut.push(t)}function ov(t){Ho=!0,vm(t)}function Nr(){if(!Fa&&Ut!==null){Fa=!0;var t=0,e=K;try{var r=Ut;for(K=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ut=null,Ho=!1}catch(s){throw Ut!==null&&(Ut=Ut.slice(t+1)),qf(Hc,Nr),s}finally{K=e,Fa=!1}}return null}var yn=[],vn=0,yo=null,vo=0,st=[],it=0,Wr=null,Bt=1,zt="";function Tr(t,e){yn[vn++]=vo,yn[vn++]=yo,yo=t,vo=e}function xm(t,e,r){st[it++]=Bt,st[it++]=zt,st[it++]=Wr,Wr=t;var n=Bt;t=zt;var s=32-wt(n)-1;n&=~(1<<s),r+=1;var i=32-wt(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Bt=1<<32-wt(e)+s|r<<s|n,zt=i+t}else Bt=1<<i|r<<s|n,zt=t}function tu(t){t.return!==null&&(Tr(t,1),xm(t,1,0))}function ru(t){for(;t===yo;)yo=yn[--vn],yn[vn]=null,vo=yn[--vn],yn[vn]=null;for(;t===Wr;)Wr=st[--it],st[it]=null,zt=st[--it],st[it]=null,Bt=st[--it],st[it]=null}var et=null,Ze=null,ne=!1,xt=null;function wm(t,e){var r=at(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Od(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,et=t,Ze=fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,et=t,Ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Wr!==null?{id:Bt,overflow:zt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=at(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,et=t,Ze=null,!0):!1;default:return!1}}function Ml(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fl(t){if(ne){var e=Ze;if(e){var r=e;if(!Od(t,e)){if(Ml(t))throw Error(O(418));e=fr(r.nextSibling);var n=et;e&&Od(t,e)?wm(n,r):(t.flags=t.flags&-4097|2,ne=!1,et=t)}}else{if(Ml(t))throw Error(O(418));t.flags=t.flags&-4097|2,ne=!1,et=t}}}function Td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;et=t}function wi(t){if(t!==et)return!1;if(!ne)return Td(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ll(t.type,t.memoizedProps)),e&&(e=Ze)){if(Ml(t))throw bm(),Error(O(418));for(;e;)wm(t,e),e=fr(e.nextSibling)}if(Td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ze=fr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ze=null}}else Ze=et?fr(t.stateNode.nextSibling):null;return!0}function bm(){for(var t=Ze;t;)t=fr(t.nextSibling)}function Rn(){Ze=et=null,ne=!1}function nu(t){xt===null?xt=[t]:xt.push(t)}var av=Jt.ReactCurrentBatchConfig;function rs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,t))}return t}function bi(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rd(t){var e=t._init;return e(t._payload)}function jm(t){function e(v,p){if(t){var y=v.deletions;y===null?(v.deletions=[p],v.flags|=16):y.push(p)}}function r(v,p){if(!t)return null;for(;p!==null;)e(v,p),p=p.sibling;return null}function n(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=yr(v,p),v.index=0,v.sibling=null,v}function i(v,p,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<p?(v.flags|=2,p):y):(v.flags|=2,p)):(v.flags|=1048576,p)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,p,y,b){return p===null||p.tag!==6?(p=Ha(y,v.mode,b),p.return=v,p):(p=s(p,y),p.return=v,p)}function c(v,p,y,b){var S=y.type;return S===dn?d(v,p,y.props.children,b,y.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===er&&Rd(S)===p.type)?(b=s(p,y.props),b.ref=rs(v,p,y),b.return=v,b):(b=Hi(y.type,y.key,y.props,null,v.mode,b),b.ref=rs(v,p,y),b.return=v,b)}function u(v,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Qa(y,v.mode,b),p.return=v,p):(p=s(p,y.children||[]),p.return=v,p)}function d(v,p,y,b,S){return p===null||p.tag!==7?(p=Ur(y,v.mode,b,S),p.return=v,p):(p=s(p,y),p.return=v,p)}function h(v,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ha(""+p,v.mode,y),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ui:return y=Hi(p.type,p.key,p.props,null,v.mode,y),y.ref=rs(v,null,p),y.return=v,y;case un:return p=Qa(p,v.mode,y),p.return=v,p;case er:var b=p._init;return h(v,b(p._payload),y)}if(cs(p)||Yn(p))return p=Ur(p,v.mode,y,null),p.return=v,p;bi(v,p)}return null}function f(v,p,y,b){var S=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(v,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ui:return y.key===S?c(v,p,y,b):null;case un:return y.key===S?u(v,p,y,b):null;case er:return S=y._init,f(v,p,S(y._payload),b)}if(cs(y)||Yn(y))return S!==null?null:d(v,p,y,b,null);bi(v,y)}return null}function g(v,p,y,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(y)||null,l(p,v,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ui:return v=v.get(b.key===null?y:b.key)||null,c(p,v,b,S);case un:return v=v.get(b.key===null?y:b.key)||null,u(p,v,b,S);case er:var N=b._init;return g(v,p,y,N(b._payload),S)}if(cs(b)||Yn(b))return v=v.get(y)||null,d(p,v,b,S,null);bi(p,b)}return null}function m(v,p,y,b){for(var S=null,N=null,_=p,E=p=0,A=null;_!==null&&E<y.length;E++){_.index>E?(A=_,_=null):A=_.sibling;var C=f(v,_,y[E],b);if(C===null){_===null&&(_=A);break}t&&_&&C.alternate===null&&e(v,_),p=i(C,p,E),N===null?S=C:N.sibling=C,N=C,_=A}if(E===y.length)return r(v,_),ne&&Tr(v,E),S;if(_===null){for(;E<y.length;E++)_=h(v,y[E],b),_!==null&&(p=i(_,p,E),N===null?S=_:N.sibling=_,N=_);return ne&&Tr(v,E),S}for(_=n(v,_);E<y.length;E++)A=g(_,v,E,y[E],b),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?E:A.key),p=i(A,p,E),N===null?S=A:N.sibling=A,N=A);return t&&_.forEach(function(R){return e(v,R)}),ne&&Tr(v,E),S}function w(v,p,y,b){var S=Yn(y);if(typeof S!="function")throw Error(O(150));if(y=S.call(y),y==null)throw Error(O(151));for(var N=S=null,_=p,E=p=0,A=null,C=y.next();_!==null&&!C.done;E++,C=y.next()){_.index>E?(A=_,_=null):A=_.sibling;var R=f(v,_,C.value,b);if(R===null){_===null&&(_=A);break}t&&_&&R.alternate===null&&e(v,_),p=i(R,p,E),N===null?S=R:N.sibling=R,N=R,_=A}if(C.done)return r(v,_),ne&&Tr(v,E),S;if(_===null){for(;!C.done;E++,C=y.next())C=h(v,C.value,b),C!==null&&(p=i(C,p,E),N===null?S=C:N.sibling=C,N=C);return ne&&Tr(v,E),S}for(_=n(v,_);!C.done;E++,C=y.next())C=g(_,v,E,C.value,b),C!==null&&(t&&C.alternate!==null&&_.delete(C.key===null?E:C.key),p=i(C,p,E),N===null?S=C:N.sibling=C,N=C);return t&&_.forEach(function(J){return e(v,J)}),ne&&Tr(v,E),S}function x(v,p,y,b){if(typeof y=="object"&&y!==null&&y.type===dn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ui:e:{for(var S=y.key,N=p;N!==null;){if(N.key===S){if(S=y.type,S===dn){if(N.tag===7){r(v,N.sibling),p=s(N,y.props.children),p.return=v,v=p;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===er&&Rd(S)===N.type){r(v,N.sibling),p=s(N,y.props),p.ref=rs(v,N,y),p.return=v,v=p;break e}r(v,N);break}else e(v,N);N=N.sibling}y.type===dn?(p=Ur(y.props.children,v.mode,b,y.key),p.return=v,v=p):(b=Hi(y.type,y.key,y.props,null,v.mode,b),b.ref=rs(v,p,y),b.return=v,v=b)}return a(v);case un:e:{for(N=y.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(v,p.sibling),p=s(p,y.children||[]),p.return=v,v=p;break e}else{r(v,p);break}else e(v,p);p=p.sibling}p=Qa(y,v.mode,b),p.return=v,v=p}return a(v);case er:return N=y._init,x(v,p,N(y._payload),b)}if(cs(y))return m(v,p,y,b);if(Yn(y))return w(v,p,y,b);bi(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(v,p.sibling),p=s(p,y),p.return=v,v=p):(r(v,p),p=Ha(y,v.mode,b),p.return=v,v=p),a(v)):r(v,p)}return x}var Pn=jm(!0),Nm=jm(!1),xo=jr(null),wo=null,xn=null,su=null;function iu(){su=xn=wo=null}function ou(t){var e=xo.current;re(xo),t._currentValue=e}function Ul(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Sn(t,e){wo=t,su=xn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(He=!0),t.firstContext=null)}function ut(t){var e=t._currentValue;if(su!==t)if(t={context:t,memoizedValue:e,next:null},xn===null){if(wo===null)throw Error(O(308));xn=t,wo.dependencies={lanes:0,firstContext:t}}else xn=xn.next=t;return e}var Ir=null;function au(t){Ir===null?Ir=[t]:Ir.push(t)}function km(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,au(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ht(t,n)}function Ht(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var tr=!1;function lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _m(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ht(t,r)}return s=n.interleaved,s===null?(e.next=e,au(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ht(t,r)}function Ui(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Qc(t,r)}}function Pd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function bo(t,e,r,n){var s=t.updateQueue;tr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,g=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,w=l;switch(f=e,g=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(g,h,f):m,f==null)break e;h=oe({},h,f);break e;case 2:tr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Hr|=a,t.lanes=a,t.memoizedState=h}}function Ad(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var Xs={},Pt=jr(Xs),Ms=jr(Xs),Fs=jr(Xs);function $r(t){if(t===Xs)throw Error(O(174));return t}function cu(t,e){switch(Z(Fs,e),Z(Ms,t),Z(Pt,Xs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wl(e,t)}re(Pt),Z(Pt,e)}function An(){re(Pt),re(Ms),re(Fs)}function Sm(t){$r(Fs.current);var e=$r(Pt.current),r=wl(e,t.type);e!==r&&(Z(Ms,t),Z(Pt,r))}function uu(t){Ms.current===t&&(re(Pt),re(Ms))}var se=jr(0);function jo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ua=[];function du(){for(var t=0;t<Ua.length;t++)Ua[t]._workInProgressVersionPrimary=null;Ua.length=0}var Bi=Jt.ReactCurrentDispatcher,Ba=Jt.ReactCurrentBatchConfig,Vr=0,ie=null,ye=null,Ne=null,No=!1,xs=!1,Us=0,lv=0;function Oe(){throw Error(O(321))}function hu(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!jt(t[r],e[r]))return!1;return!0}function fu(t,e,r,n,s,i){if(Vr=i,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bi.current=t===null||t.memoizedState===null?hv:fv,t=r(n,s),xs){i=0;do{if(xs=!1,Us=0,25<=i)throw Error(O(301));i+=1,Ne=ye=null,e.updateQueue=null,Bi.current=mv,t=r(n,s)}while(xs)}if(Bi.current=ko,e=ye!==null&&ye.next!==null,Vr=0,Ne=ye=ie=null,No=!1,e)throw Error(O(300));return t}function mu(){var t=Us!==0;return Us=0,t}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?ie.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function dt(){if(ye===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=Ne===null?ie.memoizedState:Ne.next;if(e!==null)Ne=e,ye=t;else{if(t===null)throw Error(O(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ne===null?ie.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function Bs(t,e){return typeof e=="function"?e(t):e}function za(t){var e=dt(),r=e.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=t;var n=ye,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Vr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,ie.lanes|=d,Hr|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,jt(n,e.memoizedState)||(He=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ie.lanes|=i,Hr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function qa(t){var e=dt(),r=e.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);jt(i,e.memoizedState)||(He=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Cm(){}function Em(t,e){var r=ie,n=dt(),s=e(),i=!jt(n.memoizedState,s);if(i&&(n.memoizedState=s,He=!0),n=n.queue,pu(Rm.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ne!==null&&Ne.memoizedState.tag&1){if(r.flags|=2048,zs(9,Tm.bind(null,r,n,s,e),void 0,null),ke===null)throw Error(O(349));Vr&30||Om(r,e,s)}return s}function Om(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Tm(t,e,r,n){e.value=r,e.getSnapshot=n,Pm(e)&&Am(t)}function Rm(t,e,r){return r(function(){Pm(e)&&Am(t)})}function Pm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!jt(t,r)}catch{return!0}}function Am(t){var e=Ht(t,1);e!==null&&bt(e,t,1,-1)}function Ld(t){var e=Ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},e.queue=t,t=t.dispatch=dv.bind(null,ie,t),[e.memoizedState,t]}function zs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Lm(){return dt().memoizedState}function zi(t,e,r,n){var s=Ct();ie.flags|=t,s.memoizedState=zs(1|e,r,void 0,n===void 0?null:n)}function Qo(t,e,r,n){var s=dt();n=n===void 0?null:n;var i=void 0;if(ye!==null){var a=ye.memoizedState;if(i=a.destroy,n!==null&&hu(n,a.deps)){s.memoizedState=zs(e,r,i,n);return}}ie.flags|=t,s.memoizedState=zs(1|e,r,i,n)}function Id(t,e){return zi(8390656,8,t,e)}function pu(t,e){return Qo(2048,8,t,e)}function Im(t,e){return Qo(4,2,t,e)}function $m(t,e){return Qo(4,4,t,e)}function Dm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mm(t,e,r){return r=r!=null?r.concat([t]):null,Qo(4,4,Dm.bind(null,e,t),r)}function gu(){}function Fm(t,e){var r=dt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&hu(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Um(t,e){var r=dt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&hu(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Bm(t,e,r){return Vr&21?(jt(r,e)||(r=Hf(),ie.lanes|=r,Hr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,He=!0),t.memoizedState=r)}function cv(t,e){var r=K;K=r!==0&&4>r?r:4,t(!0);var n=Ba.transition;Ba.transition={};try{t(!1),e()}finally{K=r,Ba.transition=n}}function zm(){return dt().memoizedState}function uv(t,e,r){var n=gr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qm(t))Wm(e,r);else if(r=km(t,e,r,n),r!==null){var s=Me();bt(r,t,n,s),Vm(r,e,n)}}function dv(t,e,r){var n=gr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qm(t))Wm(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,jt(l,a)){var c=e.interleaved;c===null?(s.next=s,au(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=km(t,e,s,n),r!==null&&(s=Me(),bt(r,t,n,s),Vm(r,e,n))}}function qm(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function Wm(t,e){xs=No=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Vm(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Qc(t,r)}}var ko={readContext:ut,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},hv={readContext:ut,useCallback:function(t,e){return Ct().memoizedState=[t,e===void 0?null:e],t},useContext:ut,useEffect:Id,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zi(4194308,4,Dm.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zi(4194308,4,t,e)},useInsertionEffect:function(t,e){return zi(4,2,t,e)},useMemo:function(t,e){var r=Ct();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ct();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=uv.bind(null,ie,t),[n.memoizedState,t]},useRef:function(t){var e=Ct();return t={current:t},e.memoizedState=t},useState:Ld,useDebugValue:gu,useDeferredValue:function(t){return Ct().memoizedState=t},useTransition:function(){var t=Ld(!1),e=t[0];return t=cv.bind(null,t[1]),Ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ie,s=Ct();if(ne){if(r===void 0)throw Error(O(407));r=r()}else{if(r=e(),ke===null)throw Error(O(349));Vr&30||Om(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Id(Rm.bind(null,n,i,t),[t]),n.flags|=2048,zs(9,Tm.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Ct(),e=ke.identifierPrefix;if(ne){var r=zt,n=Bt;r=(n&~(1<<32-wt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Us++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=lv++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fv={readContext:ut,useCallback:Fm,useContext:ut,useEffect:pu,useImperativeHandle:Mm,useInsertionEffect:Im,useLayoutEffect:$m,useMemo:Um,useReducer:za,useRef:Lm,useState:function(){return za(Bs)},useDebugValue:gu,useDeferredValue:function(t){var e=dt();return Bm(e,ye.memoizedState,t)},useTransition:function(){var t=za(Bs)[0],e=dt().memoizedState;return[t,e]},useMutableSource:Cm,useSyncExternalStore:Em,useId:zm,unstable_isNewReconciler:!1},mv={readContext:ut,useCallback:Fm,useContext:ut,useEffect:pu,useImperativeHandle:Mm,useInsertionEffect:Im,useLayoutEffect:$m,useMemo:Um,useReducer:qa,useRef:Lm,useState:function(){return qa(Bs)},useDebugValue:gu,useDeferredValue:function(t){var e=dt();return ye===null?e.memoizedState=t:Bm(e,ye.memoizedState,t)},useTransition:function(){var t=qa(Bs)[0],e=dt().memoizedState;return[t,e]},useMutableSource:Cm,useSyncExternalStore:Em,useId:zm,unstable_isNewReconciler:!1};function pt(t,e){if(t&&t.defaultProps){e=oe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Bl(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:oe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ko={isMounted:function(t){return(t=t._reactInternals)?Gr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Me(),s=gr(t),i=qt(n,s);i.payload=e,r!=null&&(i.callback=r),e=mr(t,i,s),e!==null&&(bt(e,t,s,n),Ui(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Me(),s=gr(t),i=qt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=mr(t,i,s),e!==null&&(bt(e,t,s,n),Ui(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Me(),n=gr(t),s=qt(r,n);s.tag=2,e!=null&&(s.callback=e),e=mr(t,s,n),e!==null&&(bt(e,t,n,r),Ui(e,t,n))}};function $d(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ls(r,n)||!Ls(s,i):!0}function Hm(t,e,r){var n=!1,s=wr,i=e.contextType;return typeof i=="object"&&i!==null?i=ut(i):(s=Ke(e)?qr:Ie.current,n=e.contextTypes,i=(n=n!=null)?Tn(t,s):wr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ko,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Dd(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ko.enqueueReplaceState(e,e.state,null)}function zl(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},lu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ut(i):(i=Ke(e)?qr:Ie.current,s.context=Tn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bl(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ko.enqueueReplaceState(s,s.state,null),bo(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ln(t,e){try{var r="",n=e;do r+=zg(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Wa(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ql(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var pv=typeof WeakMap=="function"?WeakMap:Map;function Qm(t,e,r){r=qt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){So||(So=!0,Zl=n),ql(t,e)},r}function Km(t,e,r){r=qt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){ql(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ql(t,e),typeof n!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Md(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new pv;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Ov.bind(null,t,e,r),e.then(t,t))}function Fd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ud(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=qt(-1,1),e.tag=2,mr(r,e,1))),r.lanes|=1),t)}var gv=Jt.ReactCurrentOwner,He=!1;function De(t,e,r,n){e.child=t===null?Nm(e,null,r,n):Pn(e,t.child,r,n)}function Bd(t,e,r,n,s){r=r.render;var i=e.ref;return Sn(e,s),n=fu(t,e,r,n,i,s),r=mu(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qt(t,e,s)):(ne&&r&&tu(e),e.flags|=1,De(t,e,n,s),e.child)}function zd(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!ku(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Jm(t,e,i,n,s)):(t=Hi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ls,r(a,n)&&t.ref===e.ref)return Qt(t,e,s)}return e.flags|=1,t=yr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Jm(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ls(i,n)&&t.ref===e.ref)if(He=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(He=!0);else return e.lanes=t.lanes,Qt(t,e,s)}return Wl(t,e,r,n,s)}function Gm(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(bn,Xe),Xe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(bn,Xe),Xe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Z(bn,Xe),Xe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Z(bn,Xe),Xe|=n;return De(t,e,s,r),e.child}function Ym(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Wl(t,e,r,n,s){var i=Ke(r)?qr:Ie.current;return i=Tn(e,i),Sn(e,s),r=fu(t,e,r,n,i,s),n=mu(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qt(t,e,s)):(ne&&n&&tu(e),e.flags|=1,De(t,e,r,s),e.child)}function qd(t,e,r,n,s){if(Ke(r)){var i=!0;go(e)}else i=!1;if(Sn(e,s),e.stateNode===null)qi(t,e),Hm(e,r,n),zl(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ut(u):(u=Ke(r)?qr:Ie.current,u=Tn(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Dd(e,a,n,u),tr=!1;var f=e.memoizedState;a.state=f,bo(e,n,a,s),c=e.memoizedState,l!==n||f!==c||Qe.current||tr?(typeof d=="function"&&(Bl(e,r,d,n),c=e.memoizedState),(l=tr||$d(e,r,l,n,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,_m(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:pt(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=ut(c):(c=Ke(r)?qr:Ie.current,c=Tn(e,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Dd(e,a,n,c),tr=!1,f=e.memoizedState,a.state=f,bo(e,n,a,s);var m=e.memoizedState;l!==h||f!==m||Qe.current||tr?(typeof g=="function"&&(Bl(e,r,g,n),m=e.memoizedState),(u=tr||$d(e,r,u,n,f,m,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Vl(t,e,r,n,i,s)}function Vl(t,e,r,n,s,i){Ym(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Ed(e,r,!1),Qt(t,e,i);n=e.stateNode,gv.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Pn(e,t.child,null,i),e.child=Pn(e,null,l,i)):De(t,e,l,i),e.memoizedState=n.state,s&&Ed(e,r,!0),e.child}function Xm(t){var e=t.stateNode;e.pendingContext?Cd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cd(t,e.context,!1),cu(t,e.containerInfo)}function Wd(t,e,r,n,s){return Rn(),nu(s),e.flags|=256,De(t,e,r,n),e.child}var Hl={dehydrated:null,treeContext:null,retryLane:0};function Ql(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zm(t,e,r){var n=e.pendingProps,s=se.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Z(se,s&1),t===null)return Fl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Yo(a,n,0,null),t=Ur(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ql(r),e.memoizedState=Hl,t):yu(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return yv(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=yr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=yr(l,i):(i=Ur(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Ql(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Hl,n}return i=t.child,t=i.sibling,n=yr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function yu(t,e){return e=Yo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ji(t,e,r,n){return n!==null&&nu(n),Pn(e,t.child,null,r),t=yu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yv(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=Wa(Error(O(422))),ji(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Yo({mode:"visible",children:n.children},s,0,null),i=Ur(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Pn(e,t.child,null,a),e.child.memoizedState=Ql(a),e.memoizedState=Hl,i);if(!(e.mode&1))return ji(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(O(419)),n=Wa(i,n,void 0),ji(t,e,a,n)}if(l=(a&t.childLanes)!==0,He||l){if(n=ke,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ht(t,s),bt(n,t,s,-1))}return Nu(),n=Wa(Error(O(421))),ji(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Tv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ze=fr(s.nextSibling),et=e,ne=!0,xt=null,t!==null&&(st[it++]=Bt,st[it++]=zt,st[it++]=Wr,Bt=t.id,zt=t.overflow,Wr=e),e=yu(e,n.children),e.flags|=4096,e)}function Vd(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ul(t.return,e,r)}function Va(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function ep(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(De(t,e,n.children,r),n=se.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vd(t,r,e);else if(t.tag===19)Vd(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Z(se,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&jo(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Va(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&jo(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Va(e,!0,r,null,i);break;case"together":Va(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Hr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,r=yr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=yr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vv(t,e,r){switch(e.tag){case 3:Xm(e),Rn();break;case 5:Sm(e);break;case 1:Ke(e.type)&&go(e);break;case 4:cu(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Z(xo,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Z(se,se.current&1),e.flags|=128,null):r&e.child.childLanes?Zm(t,e,r):(Z(se,se.current&1),t=Qt(t,e,r),t!==null?t.sibling:null);Z(se,se.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ep(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(se,se.current),n)break;return null;case 22:case 23:return e.lanes=0,Gm(t,e,r)}return Qt(t,e,r)}var tp,Kl,rp,np;tp=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kl=function(){};rp=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,$r(Pt.current);var i=null;switch(r){case"input":s=gl(t,s),n=gl(t,n),i=[];break;case"select":s=oe({},s,{value:void 0}),n=oe({},n,{value:void 0}),i=[];break;case"textarea":s=xl(t,s),n=xl(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=mo)}bl(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&te("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};np=function(t,e,r,n){r!==n&&(e.flags|=4)};function ns(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Te(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function xv(t,e,r){var n=e.pendingProps;switch(ru(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(e),null;case 1:return Ke(e.type)&&po(),Te(e),null;case 3:return n=e.stateNode,An(),re(Qe),re(Ie),du(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(wi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xt!==null&&(rc(xt),xt=null))),Kl(t,e),Te(e),null;case 5:uu(e);var s=$r(Fs.current);if(r=e.type,t!==null&&e.stateNode!=null)rp(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(O(166));return Te(e),null}if(t=$r(Pt.current),wi(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ot]=e,n[Ds]=i,t=(e.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(s=0;s<ds.length;s++)te(ds[s],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":ed(n,i),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},te("invalid",n);break;case"textarea":rd(n,i),te("invalid",n)}bl(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&xi(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&xi(n.textContent,l,t),s=["children",""+l]):Cs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&te("scroll",n)}switch(r){case"input":di(n),td(n,i,!0);break;case"textarea":di(n),nd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mo)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ot]=e,t[Ds]=n,tp(t,e,!1,!1),e.stateNode=t;e:{switch(a=jl(r,n),r){case"dialog":te("cancel",t),te("close",t),s=n;break;case"iframe":case"object":case"embed":te("load",t),s=n;break;case"video":case"audio":for(s=0;s<ds.length;s++)te(ds[s],t);s=n;break;case"source":te("error",t),s=n;break;case"img":case"image":case"link":te("error",t),te("load",t),s=n;break;case"details":te("toggle",t),s=n;break;case"input":ed(t,n),s=gl(t,n),te("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=oe({},n,{value:void 0}),te("invalid",t);break;case"textarea":rd(t,n),s=xl(t,n),te("invalid",t);break;default:s=n}bl(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Lf(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Pf(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Es(t,c):typeof c=="number"&&Es(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&te("scroll",t):c!=null&&Bc(t,i,c,a))}switch(r){case"input":di(t),td(t,n,!1);break;case"textarea":di(t),nd(t);break;case"option":n.value!=null&&t.setAttribute("value",""+xr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?jn(t,!!n.multiple,i,!1):n.defaultValue!=null&&jn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=mo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Te(e),null;case 6:if(t&&e.stateNode!=null)np(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(O(166));if(r=$r(Fs.current),$r(Pt.current),wi(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ot]=e,(i=n.nodeValue!==r)&&(t=et,t!==null))switch(t.tag){case 3:xi(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xi(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ot]=e,e.stateNode=n}return Te(e),null;case 13:if(re(se),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Ze!==null&&e.mode&1&&!(e.flags&128))bm(),Rn(),e.flags|=98560,i=!1;else if(i=wi(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(O(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Ot]=e}else Rn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),i=!1}else xt!==null&&(rc(xt),xt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?xe===0&&(xe=3):Nu())),e.updateQueue!==null&&(e.flags|=4),Te(e),null);case 4:return An(),Kl(t,e),t===null&&Is(e.stateNode.containerInfo),Te(e),null;case 10:return ou(e.type._context),Te(e),null;case 17:return Ke(e.type)&&po(),Te(e),null;case 19:if(re(se),i=e.memoizedState,i===null)return Te(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)ns(i,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=jo(t),a!==null){for(e.flags|=128,ns(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Z(se,se.current&1|2),e.child}t=t.sibling}i.tail!==null&&ue()>In&&(e.flags|=128,n=!0,ns(i,!1),e.lanes=4194304)}else{if(!n)if(t=jo(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ns(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ne)return Te(e),null}else 2*ue()-i.renderingStartTime>In&&r!==1073741824&&(e.flags|=128,n=!0,ns(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ue(),e.sibling=null,r=se.current,Z(se,n?r&1|2:r&1),e):(Te(e),null);case 22:case 23:return ju(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Xe&1073741824&&(Te(e),e.subtreeFlags&6&&(e.flags|=8192)):Te(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function wv(t,e){switch(ru(e),e.tag){case 1:return Ke(e.type)&&po(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return An(),re(Qe),re(Ie),du(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uu(e),null;case 13:if(re(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Rn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(se),null;case 4:return An(),null;case 10:return ou(e.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}var Ni=!1,Pe=!1,bv=typeof WeakSet=="function"?WeakSet:Set,P=null;function wn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ae(t,e,n)}else r.current=null}function Jl(t,e,r){try{r()}catch(n){ae(t,e,n)}}var Hd=!1;function jv(t,e){if(Pl=uo,t=lm(),eu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++u===s&&(l=a),f===i&&++d===n&&(c=a),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Al={focusedElem:t,selectionRange:r},uo=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,x=m.memoizedState,v=e.stateNode,p=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:pt(e.type,w),x);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(b){ae(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return m=Hd,Hd=!1,m}function ws(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jl(e,r,i)}s=s.next}while(s!==n)}}function Jo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Gl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function sp(t){var e=t.alternate;e!==null&&(t.alternate=null,sp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ot],delete e[Ds],delete e[$l],delete e[sv],delete e[iv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ip(t){return t.tag===5||t.tag===3||t.tag===4}function Qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ip(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=mo));else if(n!==4&&(t=t.child,t!==null))for(Yl(t,e,r),t=t.sibling;t!==null;)Yl(t,e,r),t=t.sibling}function Xl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Xl(t,e,r),t=t.sibling;t!==null;)Xl(t,e,r),t=t.sibling}var _e=null,gt=!1;function Yt(t,e,r){for(r=r.child;r!==null;)op(t,e,r),r=r.sibling}function op(t,e,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Bo,r)}catch{}switch(r.tag){case 5:Pe||wn(r,e);case 6:var n=_e,s=gt;_e=null,Yt(t,e,r),_e=n,gt=s,_e!==null&&(gt?(t=_e,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(gt?(t=_e,r=r.stateNode,t.nodeType===8?Ma(t.parentNode,r):t.nodeType===1&&Ma(t,r),Ps(t)):Ma(_e,r.stateNode));break;case 4:n=_e,s=gt,_e=r.stateNode.containerInfo,gt=!0,Yt(t,e,r),_e=n,gt=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Jl(r,e,a),s=s.next}while(s!==n)}Yt(t,e,r);break;case 1:if(!Pe&&(wn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ae(r,e,l)}Yt(t,e,r);break;case 21:Yt(t,e,r);break;case 22:r.mode&1?(Pe=(n=Pe)||r.memoizedState!==null,Yt(t,e,r),Pe=n):Yt(t,e,r);break;default:Yt(t,e,r)}}function Kd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new bv),e.forEach(function(n){var s=Rv.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ft(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:_e=l.stateNode,gt=!1;break e;case 3:_e=l.stateNode.containerInfo,gt=!0;break e;case 4:_e=l.stateNode.containerInfo,gt=!0;break e}l=l.return}if(_e===null)throw Error(O(160));op(i,a,s),_e=null,gt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ae(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ap(e,t),e=e.sibling}function ap(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ft(e,t),_t(t),n&4){try{ws(3,t,t.return),Jo(3,t)}catch(w){ae(t,t.return,w)}try{ws(5,t,t.return)}catch(w){ae(t,t.return,w)}}break;case 1:ft(e,t),_t(t),n&512&&r!==null&&wn(r,r.return);break;case 5:if(ft(e,t),_t(t),n&512&&r!==null&&wn(r,r.return),t.flags&32){var s=t.stateNode;try{Es(s,"")}catch(w){ae(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Of(s,i),jl(l,a);var u=jl(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Lf(s,h):d==="dangerouslySetInnerHTML"?Pf(s,h):d==="children"?Es(s,h):Bc(s,d,h,u)}switch(l){case"input":yl(s,i);break;case"textarea":Tf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?jn(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?jn(s,!!i.multiple,i.defaultValue,!0):jn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ds]=i}catch(w){ae(t,t.return,w)}}break;case 6:if(ft(e,t),_t(t),n&4){if(t.stateNode===null)throw Error(O(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ae(t,t.return,w)}}break;case 3:if(ft(e,t),_t(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ps(e.containerInfo)}catch(w){ae(t,t.return,w)}break;case 4:ft(e,t),_t(t);break;case 13:ft(e,t),_t(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wu=ue())),n&4&&Kd(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Pe=(u=Pe)||d,ft(e,t),Pe=u):ft(e,t),_t(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(h=P=d;P!==null;){switch(f=P,g=f.child,f.tag){case 0:case 11:case 14:case 15:ws(4,f,f.return);break;case 1:wn(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){ae(n,r,w)}}break;case 5:wn(f,f.return);break;case 22:if(f.memoizedState!==null){Gd(h);continue}}g!==null?(g.return=f,P=g):Gd(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Af("display",a))}catch(w){ae(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ae(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ft(e,t),_t(t),n&4&&Kd(t);break;case 21:break;default:ft(e,t),_t(t)}}function _t(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ip(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Es(s,""),n.flags&=-33);var i=Qd(t);Xl(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Qd(t);Yl(t,l,a);break;default:throw Error(O(161))}}catch(c){ae(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Nv(t,e,r){P=t,lp(t)}function lp(t,e,r){for(var n=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ni;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Pe;l=Ni;var u=Pe;if(Ni=a,(Pe=c)&&!u)for(P=s;P!==null;)a=P,c=a.child,a.tag===22&&a.memoizedState!==null?Yd(s):c!==null?(c.return=a,P=c):Yd(s);for(;i!==null;)P=i,lp(i),i=i.sibling;P=s,Ni=l,Pe=u}Jd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Jd(t)}}function Jd(t){for(;P!==null;){var e=P;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pe||Jo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Pe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:pt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ad(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ad(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ps(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Pe||e.flags&512&&Gl(e)}catch(f){ae(e,e.return,f)}}if(e===t){P=null;break}if(r=e.sibling,r!==null){r.return=e.return,P=r;break}P=e.return}}function Gd(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var r=e.sibling;if(r!==null){r.return=e.return,P=r;break}P=e.return}}function Yd(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Jo(4,e)}catch(c){ae(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){ae(e,s,c)}}var i=e.return;try{Gl(e)}catch(c){ae(e,i,c)}break;case 5:var a=e.return;try{Gl(e)}catch(c){ae(e,a,c)}}}catch(c){ae(e,e.return,c)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var kv=Math.ceil,_o=Jt.ReactCurrentDispatcher,vu=Jt.ReactCurrentOwner,lt=Jt.ReactCurrentBatchConfig,V=0,ke=null,he=null,Se=0,Xe=0,bn=jr(0),xe=0,qs=null,Hr=0,Go=0,xu=0,bs=null,We=null,wu=0,In=1/0,Dt=null,So=!1,Zl=null,pr=null,ki=!1,lr=null,Co=0,js=0,ec=null,Wi=-1,Vi=0;function Me(){return V&6?ue():Wi!==-1?Wi:Wi=ue()}function gr(t){return t.mode&1?V&2&&Se!==0?Se&-Se:av.transition!==null?(Vi===0&&(Vi=Hf()),Vi):(t=K,t!==0||(t=window.event,t=t===void 0?16:Zf(t.type)),t):1}function bt(t,e,r,n){if(50<js)throw js=0,ec=null,Error(O(185));Js(t,r,n),(!(V&2)||t!==ke)&&(t===ke&&(!(V&2)&&(Go|=r),xe===4&&sr(t,Se)),Je(t,n),r===1&&V===0&&!(e.mode&1)&&(In=ue()+500,Ho&&Nr()))}function Je(t,e){var r=t.callbackNode;ay(t,e);var n=co(t,t===ke?Se:0);if(n===0)r!==null&&od(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&od(r),e===1)t.tag===0?ov(Xd.bind(null,t)):vm(Xd.bind(null,t)),rv(function(){!(V&6)&&Nr()}),r=null;else{switch(Qf(n)){case 1:r=Hc;break;case 4:r=Wf;break;case 16:r=lo;break;case 536870912:r=Vf;break;default:r=lo}r=gp(r,cp.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function cp(t,e){if(Wi=-1,Vi=0,V&6)throw Error(O(327));var r=t.callbackNode;if(Cn()&&t.callbackNode!==r)return null;var n=co(t,t===ke?Se:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Eo(t,n);else{e=n;var s=V;V|=2;var i=dp();(ke!==t||Se!==e)&&(Dt=null,In=ue()+500,Fr(t,e));do try{Cv();break}catch(l){up(t,l)}while(!0);iu(),_o.current=i,V=s,he!==null?e=0:(ke=null,Se=0,e=xe)}if(e!==0){if(e===2&&(s=Cl(t),s!==0&&(n=s,e=tc(t,s))),e===1)throw r=qs,Fr(t,0),sr(t,n),Je(t,ue()),r;if(e===6)sr(t,n);else{if(s=t.current.alternate,!(n&30)&&!_v(s)&&(e=Eo(t,n),e===2&&(i=Cl(t),i!==0&&(n=i,e=tc(t,i))),e===1))throw r=qs,Fr(t,0),sr(t,n),Je(t,ue()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(O(345));case 2:Rr(t,We,Dt);break;case 3:if(sr(t,n),(n&130023424)===n&&(e=wu+500-ue(),10<e)){if(co(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Me(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Il(Rr.bind(null,t,We,Dt),e);break}Rr(t,We,Dt);break;case 4:if(sr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-wt(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kv(n/1960))-n,10<n){t.timeoutHandle=Il(Rr.bind(null,t,We,Dt),n);break}Rr(t,We,Dt);break;case 5:Rr(t,We,Dt);break;default:throw Error(O(329))}}}return Je(t,ue()),t.callbackNode===r?cp.bind(null,t):null}function tc(t,e){var r=bs;return t.current.memoizedState.isDehydrated&&(Fr(t,e).flags|=256),t=Eo(t,e),t!==2&&(e=We,We=r,e!==null&&rc(e)),t}function rc(t){We===null?We=t:We.push.apply(We,t)}function _v(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!jt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sr(t,e){for(e&=~xu,e&=~Go,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-wt(e),n=1<<r;t[r]=-1,e&=~n}}function Xd(t){if(V&6)throw Error(O(327));Cn();var e=co(t,0);if(!(e&1))return Je(t,ue()),null;var r=Eo(t,e);if(t.tag!==0&&r===2){var n=Cl(t);n!==0&&(e=n,r=tc(t,n))}if(r===1)throw r=qs,Fr(t,0),sr(t,e),Je(t,ue()),r;if(r===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rr(t,We,Dt),Je(t,ue()),null}function bu(t,e){var r=V;V|=1;try{return t(e)}finally{V=r,V===0&&(In=ue()+500,Ho&&Nr())}}function Qr(t){lr!==null&&lr.tag===0&&!(V&6)&&Cn();var e=V;V|=1;var r=lt.transition,n=K;try{if(lt.transition=null,K=1,t)return t()}finally{K=n,lt.transition=r,V=e,!(V&6)&&Nr()}}function ju(){Xe=bn.current,re(bn)}function Fr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,tv(r)),he!==null)for(r=he.return;r!==null;){var n=r;switch(ru(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&po();break;case 3:An(),re(Qe),re(Ie),du();break;case 5:uu(n);break;case 4:An();break;case 13:re(se);break;case 19:re(se);break;case 10:ou(n.type._context);break;case 22:case 23:ju()}r=r.return}if(ke=t,he=t=yr(t.current,null),Se=Xe=e,xe=0,qs=null,xu=Go=Hr=0,We=bs=null,Ir!==null){for(e=0;e<Ir.length;e++)if(r=Ir[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Ir=null}return t}function up(t,e){do{var r=he;try{if(iu(),Bi.current=ko,No){for(var n=ie.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}No=!1}if(Vr=0,Ne=ye=ie=null,xs=!1,Us=0,vu.current=null,r===null||r.return===null){xe=1,qs=e,he=null;break}e:{var i=t,a=r.return,l=r,c=e;if(e=Se,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Fd(a);if(g!==null){g.flags&=-257,Ud(g,a,l,i,e),g.mode&1&&Md(i,u,e),e=g,c=u;var m=e.updateQueue;if(m===null){var w=new Set;w.add(c),e.updateQueue=w}else m.add(c);break e}else{if(!(e&1)){Md(i,u,e),Nu();break e}c=Error(O(426))}}else if(ne&&l.mode&1){var x=Fd(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ud(x,a,l,i,e),nu(Ln(c,l));break e}}i=c=Ln(c,l),xe!==4&&(xe=2),bs===null?bs=[i]:bs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Qm(i,c,e);Pd(i,v);break e;case 1:l=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pr===null||!pr.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Km(i,l,e);Pd(i,b);break e}}i=i.return}while(i!==null)}fp(r)}catch(S){e=S,he===r&&r!==null&&(he=r=r.return);continue}break}while(!0)}function dp(){var t=_o.current;return _o.current=ko,t===null?ko:t}function Nu(){(xe===0||xe===3||xe===2)&&(xe=4),ke===null||!(Hr&268435455)&&!(Go&268435455)||sr(ke,Se)}function Eo(t,e){var r=V;V|=2;var n=dp();(ke!==t||Se!==e)&&(Dt=null,Fr(t,e));do try{Sv();break}catch(s){up(t,s)}while(!0);if(iu(),V=r,_o.current=n,he!==null)throw Error(O(261));return ke=null,Se=0,xe}function Sv(){for(;he!==null;)hp(he)}function Cv(){for(;he!==null&&!Xg();)hp(he)}function hp(t){var e=pp(t.alternate,t,Xe);t.memoizedProps=t.pendingProps,e===null?fp(t):he=e,vu.current=null}function fp(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=wv(r,e),r!==null){r.flags&=32767,he=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,he=null;return}}else if(r=xv(r,e,Xe),r!==null){he=r;return}if(e=e.sibling,e!==null){he=e;return}he=e=t}while(e!==null);xe===0&&(xe=5)}function Rr(t,e,r){var n=K,s=lt.transition;try{lt.transition=null,K=1,Ev(t,e,r,n)}finally{lt.transition=s,K=n}return null}function Ev(t,e,r,n){do Cn();while(lr!==null);if(V&6)throw Error(O(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(ly(t,i),t===ke&&(he=ke=null,Se=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ki||(ki=!0,gp(lo,function(){return Cn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=lt.transition,lt.transition=null;var a=K;K=1;var l=V;V|=4,vu.current=null,jv(t,r),ap(r,t),Ky(Al),uo=!!Pl,Al=Pl=null,t.current=r,Nv(r),Zg(),V=l,K=a,lt.transition=i}else t.current=r;if(ki&&(ki=!1,lr=t,Co=s),i=t.pendingLanes,i===0&&(pr=null),ry(r.stateNode),Je(t,ue()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(So)throw So=!1,t=Zl,Zl=null,t;return Co&1&&t.tag!==0&&Cn(),i=t.pendingLanes,i&1?t===ec?js++:(js=0,ec=t):js=0,Nr(),null}function Cn(){if(lr!==null){var t=Qf(Co),e=lt.transition,r=K;try{if(lt.transition=null,K=16>t?16:t,lr===null)var n=!1;else{if(t=lr,lr=null,Co=0,V&6)throw Error(O(331));var s=V;for(V|=4,P=t.current;P!==null;){var i=P,a=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:ws(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var f=d.sibling,g=d.return;if(sp(d),d===u){P=null;break}if(f!==null){f.return=g,P=f;break}P=g}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}P=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,P=a;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ws(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,P=v;break e}P=i.return}}var p=t.current;for(P=p;P!==null;){a=P;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,P=y;else e:for(a=p;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jo(9,l)}}catch(S){ae(l,l.return,S)}if(l===a){P=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,P=b;break e}P=l.return}}if(V=s,Nr(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Bo,t)}catch{}n=!0}return n}finally{K=r,lt.transition=e}}return!1}function Zd(t,e,r){e=Ln(r,e),e=Qm(t,e,1),t=mr(t,e,1),e=Me(),t!==null&&(Js(t,1,e),Je(t,e))}function ae(t,e,r){if(t.tag===3)Zd(t,t,r);else for(;e!==null;){if(e.tag===3){Zd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pr===null||!pr.has(n))){t=Ln(r,t),t=Km(e,t,1),e=mr(e,t,1),t=Me(),e!==null&&(Js(e,1,t),Je(e,t));break}}e=e.return}}function Ov(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Me(),t.pingedLanes|=t.suspendedLanes&r,ke===t&&(Se&r)===r&&(xe===4||xe===3&&(Se&130023424)===Se&&500>ue()-wu?Fr(t,0):xu|=r),Je(t,e)}function mp(t,e){e===0&&(t.mode&1?(e=mi,mi<<=1,!(mi&130023424)&&(mi=4194304)):e=1);var r=Me();t=Ht(t,e),t!==null&&(Js(t,e,r),Je(t,r))}function Tv(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),mp(t,r)}function Rv(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(e),mp(t,r)}var pp;pp=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qe.current)He=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return He=!1,vv(t,e,r);He=!!(t.flags&131072)}else He=!1,ne&&e.flags&1048576&&xm(e,vo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qi(t,e),t=e.pendingProps;var s=Tn(e,Ie.current);Sn(e,r),s=fu(null,e,n,t,s,r);var i=mu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ke(n)?(i=!0,go(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lu(e),s.updater=Ko,e.stateNode=s,s._reactInternals=e,zl(e,n,t,r),e=Vl(null,e,n,!0,i,r)):(e.tag=0,ne&&i&&tu(e),De(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(qi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Av(n),t=pt(n,t),s){case 0:e=Wl(null,e,n,t,r);break e;case 1:e=qd(null,e,n,t,r);break e;case 11:e=Bd(null,e,n,t,r);break e;case 14:e=zd(null,e,n,pt(n.type,t),r);break e}throw Error(O(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:pt(n,s),Wl(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:pt(n,s),qd(t,e,n,s,r);case 3:e:{if(Xm(e),t===null)throw Error(O(387));n=e.pendingProps,i=e.memoizedState,s=i.element,_m(t,e),bo(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ln(Error(O(423)),e),e=Wd(t,e,n,r,s);break e}else if(n!==s){s=Ln(Error(O(424)),e),e=Wd(t,e,n,r,s);break e}else for(Ze=fr(e.stateNode.containerInfo.firstChild),et=e,ne=!0,xt=null,r=Nm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rn(),n===s){e=Qt(t,e,r);break e}De(t,e,n,r)}e=e.child}return e;case 5:return Sm(e),t===null&&Fl(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Ll(n,s)?a=null:i!==null&&Ll(n,i)&&(e.flags|=32),Ym(t,e),De(t,e,a,r),e.child;case 6:return t===null&&Fl(e),null;case 13:return Zm(t,e,r);case 4:return cu(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Pn(e,null,n,r):De(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:pt(n,s),Bd(t,e,n,s,r);case 7:return De(t,e,e.pendingProps,r),e.child;case 8:return De(t,e,e.pendingProps.children,r),e.child;case 12:return De(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Z(xo,n._currentValue),n._currentValue=a,i!==null)if(jt(i.value,a)){if(i.children===s.children&&!Qe.current){e=Qt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=qt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ul(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(O(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Ul(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}De(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Sn(e,r),s=ut(s),n=n(s),e.flags|=1,De(t,e,n,r),e.child;case 14:return n=e.type,s=pt(n,e.pendingProps),s=pt(n.type,s),zd(t,e,n,s,r);case 15:return Jm(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:pt(n,s),qi(t,e),e.tag=1,Ke(n)?(t=!0,go(e)):t=!1,Sn(e,r),Hm(e,n,s),zl(e,n,s,r),Vl(null,e,n,!0,t,r);case 19:return ep(t,e,r);case 22:return Gm(t,e,r)}throw Error(O(156,e.tag))};function gp(t,e){return qf(t,e)}function Pv(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(t,e,r,n){return new Pv(t,e,r,n)}function ku(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Av(t){if(typeof t=="function")return ku(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qc)return 11;if(t===Wc)return 14}return 2}function yr(t,e){var r=t.alternate;return r===null?(r=at(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Hi(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")ku(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case dn:return Ur(r.children,s,i,e);case zc:a=8,s|=8;break;case hl:return t=at(12,r,e,s|2),t.elementType=hl,t.lanes=i,t;case fl:return t=at(13,r,e,s),t.elementType=fl,t.lanes=i,t;case ml:return t=at(19,r,e,s),t.elementType=ml,t.lanes=i,t;case Sf:return Yo(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kf:a=10;break e;case _f:a=9;break e;case qc:a=11;break e;case Wc:a=14;break e;case er:a=16,n=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=at(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ur(t,e,r,n){return t=at(7,t,n,e),t.lanes=r,t}function Yo(t,e,r,n){return t=at(22,t,n,e),t.elementType=Sf,t.lanes=r,t.stateNode={isHidden:!1},t}function Ha(t,e,r){return t=at(6,t,null,e),t.lanes=r,t}function Qa(t,e,r){return e=at(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lv(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ca(0),this.expirationTimes=Ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _u(t,e,r,n,s,i,a,l,c){return t=new Lv(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=at(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(i),t}function Iv(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:un,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function yp(t){if(!t)return wr;t=t._reactInternals;e:{if(Gr(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ke(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var r=t.type;if(Ke(r))return ym(t,r,e)}return e}function vp(t,e,r,n,s,i,a,l,c){return t=_u(r,n,!0,t,s,i,a,l,c),t.context=yp(null),r=t.current,n=Me(),s=gr(r),i=qt(n,s),i.callback=e??null,mr(r,i,s),t.current.lanes=s,Js(t,s,n),Je(t,n),t}function Xo(t,e,r,n){var s=e.current,i=Me(),a=gr(s);return r=yp(r),e.context===null?e.context=r:e.pendingContext=r,e=qt(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=mr(s,e,a),t!==null&&(bt(t,s,a,i),Ui(t,s,a)),a}function Oo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Su(t,e){eh(t,e),(t=t.alternate)&&eh(t,e)}function $v(){return null}var xp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cu(t){this._internalRoot=t}Zo.prototype.render=Cu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Xo(t,e,null,null)};Zo.prototype.unmount=Cu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){Xo(null,t,null,null)}),e[Vt]=null}};function Zo(t){this._internalRoot=t}Zo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gf();t={blockedOn:null,target:t,priority:e};for(var r=0;r<nr.length&&e!==0&&e<nr[r].priority;r++);nr.splice(r,0,t),r===0&&Xf(t)}};function Eu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ea(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function th(){}function Dv(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Oo(a);i.call(u)}}var a=vp(e,n,t,0,null,!1,!1,"",th);return t._reactRootContainer=a,t[Vt]=a.current,Is(t.nodeType===8?t.parentNode:t),Qr(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Oo(c);l.call(u)}}var c=_u(t,0,!1,null,null,!1,!1,"",th);return t._reactRootContainer=c,t[Vt]=c.current,Is(t.nodeType===8?t.parentNode:t),Qr(function(){Xo(e,c,r,n)}),c}function ta(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Oo(a);l.call(c)}}Xo(e,a,t,s)}else a=Dv(r,e,t,s,n);return Oo(a)}Kf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=us(e.pendingLanes);r!==0&&(Qc(e,r|1),Je(e,ue()),!(V&6)&&(In=ue()+500,Nr()))}break;case 13:Qr(function(){var n=Ht(t,1);if(n!==null){var s=Me();bt(n,t,1,s)}}),Su(t,1)}};Kc=function(t){if(t.tag===13){var e=Ht(t,134217728);if(e!==null){var r=Me();bt(e,t,134217728,r)}Su(t,134217728)}};Jf=function(t){if(t.tag===13){var e=gr(t),r=Ht(t,e);if(r!==null){var n=Me();bt(r,t,e,n)}Su(t,e)}};Gf=function(){return K};Yf=function(t,e){var r=K;try{return K=t,e()}finally{K=r}};kl=function(t,e,r){switch(e){case"input":if(yl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Vo(n);if(!s)throw Error(O(90));Ef(n),yl(n,s)}}}break;case"textarea":Tf(t,r);break;case"select":e=r.value,e!=null&&jn(t,!!r.multiple,e,!1)}};Df=bu;Mf=Qr;var Mv={usingClientEntryPoint:!1,Events:[Ys,pn,Vo,If,$f,bu]},ss={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fv={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bf(t),t===null?null:t.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||$v,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_i.isDisabled&&_i.supportsFiber)try{Bo=_i.inject(Fv),Rt=_i}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;rt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eu(e))throw Error(O(200));return Iv(t,e,null,r)};rt.createRoot=function(t,e){if(!Eu(t))throw Error(O(299));var r=!1,n="",s=xp;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=_u(t,1,!1,null,null,r,!1,n,s),t[Vt]=e.current,Is(t.nodeType===8?t.parentNode:t),new Cu(e)};rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Bf(e),t=t===null?null:t.stateNode,t};rt.flushSync=function(t){return Qr(t)};rt.hydrate=function(t,e,r){if(!ea(e))throw Error(O(200));return ta(null,t,e,!0,r)};rt.hydrateRoot=function(t,e,r){if(!Eu(t))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=xp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=vp(e,null,t,1,r??null,s,!1,i,a),t[Vt]=e.current,Is(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Zo(e)};rt.render=function(t,e,r){if(!ea(e))throw Error(O(200));return ta(null,t,e,!1,r)};rt.unmountComponentAtNode=function(t){if(!ea(t))throw Error(O(40));return t._reactRootContainer?(Qr(function(){ta(null,null,t,!1,function(){t._reactRootContainer=null,t[Vt]=null})}),!0):!1};rt.unstable_batchedUpdates=bu;rt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ea(r))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return ta(t,e,r,!1,n)};rt.version="18.3.1-next-f1338f8080-20240426";function wp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wp)}catch(t){console.error(t)}}wp(),wf.exports=rt;var bp=wf.exports;const Uv=Lc(bp);var rh=bp;ul.createRoot=rh.createRoot,ul.hydrateRoot=rh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ws.apply(this,arguments)}var cr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cr||(cr={}));const nh="popstate";function Bv(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return nc("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Np(s)}return qv(e,r,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zv(){return Math.random().toString(36).substr(2,8)}function sh(t,e){return{usr:t.state,key:t.key,idx:e}}function nc(t,e,r,n){return r===void 0&&(r=null),Ws({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zn(e):e,{state:r,key:e&&e.key||n||zv()})}function Np(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function zn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function qv(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=cr.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Ws({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=cr.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:w.location,delta:v})}function f(x,v){l=cr.Push;let p=nc(w.location,x,v);u=d()+1;let y=sh(p,u),b=w.createHref(p);try{a.pushState(y,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&c&&c({action:l,location:w.location,delta:1})}function g(x,v){l=cr.Replace;let p=nc(w.location,x,v);u=d();let y=sh(p,u),b=w.createHref(p);a.replaceState(y,"",b),i&&c&&c({action:l,location:w.location,delta:0})}function m(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof x=="string"?x:Np(x);return p=p.replace(/ $/,"%20"),we(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let w={get action(){return l},get location(){return t(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(nh,h),c=x,()=>{s.removeEventListener(nh,h),c=null}},createHref(x){return e(s,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:g,go(x){return a.go(x)}};return w}var ih;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ih||(ih={}));function Wv(t,e,r){return r===void 0&&(r="/"),Vv(t,e,r)}function Vv(t,e,r,n){let s=typeof e=="string"?zn(e):e,i=Sp(s.pathname||"/",r);if(i==null)return null;let a=kp(t);Hv(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=sx(i);l=tx(a[c],u)}return l}function kp(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Br([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(we(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kp(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Zv(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of _p(i.path))s(i,a,c)}),e}function _p(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=_p(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Hv(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ex(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Qv=/^:[\w-]+$/,Kv=3,Jv=2,Gv=1,Yv=10,Xv=-2,oh=t=>t==="*";function Zv(t,e){let r=t.split("/"),n=r.length;return r.some(oh)&&(n+=Xv),e&&(n+=Jv),r.filter(s=>!oh(s)).reduce((s,i)=>s+(Qv.test(i)?Kv:i===""?Gv:Yv),n)}function ex(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function tx(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=rx({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Br([i,h.pathname]),pathnameBase:ux(Br([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Br([i,h.pathnameBase]))}return a}function rx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=nx(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let w=l[h]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const m=l[h];return g&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function nx(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),jp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function sx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ix(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?zn(t):t;return{pathname:r?r.startsWith("/")?r:ox(r,e):e,search:dx(n),hash:hx(s)}}function ox(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ka(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ax(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function lx(t,e){let r=ax(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function cx(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=zn(t):(s=Ws({},t),we(!s.pathname||!s.pathname.includes("?"),Ka("?","pathname","search",s)),we(!s.pathname||!s.pathname.includes("#"),Ka("#","pathname","hash",s)),we(!s.search||!s.search.includes("#"),Ka("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=ix(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Br=t=>t.join("/").replace(/\/\/+/g,"/"),ux=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Cp=["post","put","patch","delete"];new Set(Cp);const mx=["get",...Cp];new Set(mx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vs(){return Vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vs.apply(this,arguments)}const Ou=j.createContext(null),px=j.createContext(null),ra=j.createContext(null),na=j.createContext(null),Yr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Ep=j.createContext(null);function sa(){return j.useContext(na)!=null}function qn(){return sa()||we(!1),j.useContext(na).location}function Op(t){j.useContext(ra).static||j.useLayoutEffect(t)}function ht(){let{isDataRoute:t}=j.useContext(Yr);return t?Ox():gx()}function gx(){sa()||we(!1);let t=j.useContext(Ou),{basename:e,future:r,navigator:n}=j.useContext(ra),{matches:s}=j.useContext(Yr),{pathname:i}=qn(),a=JSON.stringify(lx(s,r.v7_relativeSplatPath)),l=j.useRef(!1);return Op(()=>{l.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=cx(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Br([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,i,t])}function yx(){let{matches:t}=j.useContext(Yr),e=t[t.length-1];return e?e.params:{}}function vx(t,e){return xx(t,e)}function xx(t,e,r,n){sa()||we(!1);let{navigator:s}=j.useContext(ra),{matches:i}=j.useContext(Yr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=qn(),d;if(e){var h;let x=typeof e=="string"?zn(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||we(!1),d=x}else d=u;let f=d.pathname||"/",g=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=Wv(t,{pathname:g}),w=kx(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Br([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Br([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return e&&w?j.createElement(na.Provider,{value:{location:Vs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:cr.Pop}},w):w}function wx(){let t=Ex(),e=fx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:s},r):null,null)}const bx=j.createElement(wx,null);class jx extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(Yr.Provider,{value:this.props.routeContext},j.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nx(t){let{routeContext:e,match:r,children:n}=t,s=j.useContext(Ou);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Yr.Provider,{value:e},n)}function kx(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||we(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||m){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let g,m=!1,w=null,x=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||bx,c&&(u<0&&f===0?(Tx("route-fallback"),m=!0,x=null):u===f&&(m=!0,x=h.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,f+1)),p=()=>{let y;return g?y=w:m?y=x:h.route.Component?y=j.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,j.createElement(Nx,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(jx,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var Tp=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Tp||{}),Rp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rp||{});function _x(t){let e=j.useContext(Ou);return e||we(!1),e}function Sx(t){let e=j.useContext(px);return e||we(!1),e}function Cx(t){let e=j.useContext(Yr);return e||we(!1),e}function Pp(t){let e=Cx(),r=e.matches[e.matches.length-1];return r.route.id||we(!1),r.route.id}function Ex(){var t;let e=j.useContext(Ep),r=Sx(),n=Pp();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Ox(){let{router:t}=_x(Tp.UseNavigateStable),e=Pp(Rp.UseNavigateStable),r=j.useRef(!1);return Op(()=>{r.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Vs({fromRouteId:e},i)))},[t,e])}const ah={};function Tx(t,e,r){ah[t]||(ah[t]=!0)}function Rx(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function me(t){we(!1)}function Px(t){let{basename:e="/",children:r=null,location:n,navigationType:s=cr.Pop,navigator:i,static:a=!1,future:l}=t;sa()&&we(!1);let c=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:i,static:a,future:Vs({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=zn(n));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:m="default"}=n,w=j.useMemo(()=>{let x=Sp(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:g,key:m},navigationType:s}},[c,d,h,f,g,m,s]);return w==null?null:j.createElement(ra.Provider,{value:u},j.createElement(na.Provider,{children:r,value:w}))}function Ax(t){let{children:e,location:r}=t;return vx(sc(e),r)}new Promise(()=>{});function sc(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,s)=>{if(!j.isValidElement(n))return;let i=[...e,s];if(n.type===j.Fragment){r.push.apply(r,sc(n.props.children,i));return}n.type!==me&&we(!1),!n.props.index||!n.props.children||we(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=sc(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Lx(t,e){let r=ic(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const Ix="6";try{window.__reactRouterVersion=Ix}catch{}const $x="startTransition",lh=Og[$x];function Dx(t){let{basename:e,children:r,future:n,window:s}=t,i=j.useRef();i.current==null&&(i.current=Bv({window:s,v5Compat:!0}));let a=i.current,[l,c]=j.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=j.useCallback(h=>{u&&lh?lh(()=>c(h)):c(h)},[c,u]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.useEffect(()=>Rx(n),[n]),j.createElement(Px,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}var ch;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ch||(ch={}));var uh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uh||(uh={}));function Ap(t){let e=j.useRef(ic(t)),r=j.useRef(!1),n=qn(),s=j.useMemo(()=>Lx(n.search,r.current?null:e.current),[n.search]),i=ht(),a=j.useCallback((l,c)=>{const u=ic(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,a]}function oc(t,e){return oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},oc(t,e)}function Zs(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,oc(t,e)}var ei=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(n){var s=this,i=n||function(){};return this.listeners.push(i),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(a){return a!==i}),s.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H.apply(null,arguments)}var To=typeof window>"u";function Re(){}function Mx(t,e){return typeof t=="function"?t(e):t}function ac(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ro(t){return Array.isArray(t)?t:[t]}function Lp(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qi(t,e,r){return ia(t)?typeof e=="function"?H({},r,{queryKey:t,queryFn:e}):H({},e,{queryKey:t}):t}function rr(t,e,r){return ia(t)?[H({},e,{queryKey:t}),r]:[t||{},e]}function Fx(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var r=t??!e;return r?"active":"inactive"}function dh(t,e){var r=t.active,n=t.exact,s=t.fetching,i=t.inactive,a=t.predicate,l=t.queryKey,c=t.stale;if(ia(l)){if(n){if(e.queryHash!==Tu(l,e.options))return!1}else if(!Po(e.queryKey,l))return!1}var u=Fx(r,i);if(u==="none")return!1;if(u!=="all"){var d=e.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof s=="boolean"&&e.isFetching()!==s||a&&!a(e))}function hh(t,e){var r=t.exact,n=t.fetching,s=t.predicate,i=t.mutationKey;if(ia(i)){if(!e.options.mutationKey)return!1;if(r){if(Dr(e.options.mutationKey)!==Dr(i))return!1}else if(!Po(e.options.mutationKey,i))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||s&&!s(e))}function Tu(t,e){var r=(e==null?void 0:e.queryKeyHashFn)||Dr;return r(t)}function Dr(t){var e=Ro(t);return Ux(e)}function Ux(t){return JSON.stringify(t,function(e,r){return lc(r)?Object.keys(r).sort().reduce(function(n,s){return n[s]=r[s],n},{}):r})}function Po(t,e){return Ip(Ro(t),Ro(e))}function Ip(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(r){return!Ip(t[r],e[r])}):!1}function Ao(t,e){if(t===e)return t;var r=Array.isArray(t)&&Array.isArray(e);if(r||lc(t)&&lc(e)){for(var n=r?t.length:Object.keys(t).length,s=r?e:Object.keys(e),i=s.length,a=r?[]:{},l=0,c=0;c<i;c++){var u=r?c:s[c];a[u]=Ao(t[u],e[u]),a[u]===t[u]&&l++}return n===i&&l===n?t:a}return e}function Bx(t,e){if(t&&!e||e&&!t)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0}function lc(t){if(!fh(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var r=e.prototype;return!(!fh(r)||!r.hasOwnProperty("isPrototypeOf"))}function fh(t){return Object.prototype.toString.call(t)==="[object Object]"}function ia(t){return typeof t=="string"||Array.isArray(t)}function zx(t){return new Promise(function(e){setTimeout(e,t)})}function mh(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function $p(){if(typeof AbortController=="function")return new AbortController}var qx=function(t){Zs(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(s){var i;if(!To&&((i=window)!=null&&i.addEventListener)){var a=function(){return s()};return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),function(){window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},r.setEventListener=function(s){var i,a=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(l){typeof l=="boolean"?a.setFocused(l):a.onFocus()})},r.setFocused=function(s){this.focused=s,s&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(s){s()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(ei),Ns=new qx,Wx=function(t){Zs(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(s){var i;if(!To&&((i=window)!=null&&i.addEventListener)){var a=function(){return s()};return window.addEventListener("online",a,!1),window.addEventListener("offline",a,!1),function(){window.removeEventListener("online",a),window.removeEventListener("offline",a)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},r.setEventListener=function(s){var i,a=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(l){typeof l=="boolean"?a.setOnline(l):a.onOnline()})},r.setOnline=function(s){this.online=s,s&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(s){s()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(ei),Ki=new Wx;function Vx(t){return Math.min(1e3*Math.pow(2,t),3e4)}function Lo(t){return typeof(t==null?void 0:t.cancel)=="function"}var Dp=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Ji(t){return t instanceof Dp}var Mp=function(e){var r=this,n=!1,s,i,a,l;this.abort=e.abort,this.cancel=function(f){return s==null?void 0:s(f)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,g){a=f,l=g});var c=function(g){r.isResolved||(r.isResolved=!0,e.onSuccess==null||e.onSuccess(g),i==null||i(),a(g))},u=function(g){r.isResolved||(r.isResolved=!0,e.onError==null||e.onError(g),i==null||i(),l(g))},d=function(){return new Promise(function(g){i=g,r.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){i=void 0,r.isPaused=!1,e.onContinue==null||e.onContinue()})},h=function f(){if(!r.isResolved){var g;try{g=e.fn()}catch(m){g=Promise.reject(m)}s=function(w){if(!r.isResolved&&(u(new Dp(w)),r.abort==null||r.abort(),Lo(g)))try{g.cancel()}catch{}},r.isTransportCancelable=Lo(g),Promise.resolve(g).then(c).catch(function(m){var w,x;if(!r.isResolved){var v=(w=e.retry)!=null?w:3,p=(x=e.retryDelay)!=null?x:Vx,y=typeof p=="function"?p(r.failureCount,m):p,b=v===!0||typeof v=="number"&&r.failureCount<v||typeof v=="function"&&v(r.failureCount,m);if(n||!b){u(m);return}r.failureCount++,e.onFail==null||e.onFail(r.failureCount,m),zx(y).then(function(){if(!Ns.isFocused()||!Ki.isOnline())return d()}).then(function(){n?u(m):f()})}})}};h()},Hx=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var e=t.prototype;return e.batch=function(n){var s;this.transactions++;try{s=n()}finally{this.transactions--,this.transactions||this.flush()}return s},e.schedule=function(n){var s=this;this.transactions?this.queue.push(n):mh(function(){s.notifyFn(n)})},e.batchCalls=function(n){var s=this;return function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];s.schedule(function(){n.apply(void 0,a)})}},e.flush=function(){var n=this,s=this.queue;this.queue=[],s.length&&mh(function(){n.batchNotifyFn(function(){s.forEach(function(i){n.notifyFn(i)})})})},e.setNotifyFunction=function(n){this.notifyFn=n},e.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},t}(),le=new Hx,Fp=console;function Io(){return Fp}function Qx(t){Fp=t}var Kx=function(){function t(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(n){var s;this.options=H({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},e.setDefaultOptions=function(n){this.defaultOptions=n},e.scheduleGc=function(){var n=this;this.clearGcTimeout(),ac(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(n,s){var i,a,l=this.state.data,c=Mx(n,l);return(i=(a=this.options).isDataEqual)!=null&&i.call(a,l,c)?c=l:this.options.structuralSharing!==!1&&(c=Ao(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),c},e.setState=function(n,s){this.dispatch({type:"setState",state:n,setStateOptions:s})},e.cancel=function(n){var s,i=this.promise;return(s=this.retryer)==null||s.cancel(n),i?i.then(Re).catch(Re):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},e.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Lp(this.state.dataUpdatedAt,n)},e.onFocus=function(){var n,s=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});s&&s.refetch(),(n=this.retryer)==null||n.continue()},e.onOnline=function(){var n,s=this.observers.find(function(i){return i.shouldFetchOnReconnect()});s&&s.refetch(),(n=this.retryer)==null||n.continue()},e.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},e.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(s){return s!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(n,s){var i=this,a,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var d=this.observers.find(function(p){return p.options.queryFn});d&&this.setOptions(d.options)}var h=Ro(this.queryKey),f=$p(),g={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(g,"signal",{enumerable:!0,get:function(){if(f)return i.abortSignalConsumed=!0,f.signal}});var m=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(g)):Promise.reject("Missing queryFn")},w={fetchOptions:s,options:this.options,queryKey:h,state:this.state,fetchFn:m,meta:this.meta};if((a=this.options.behavior)!=null&&a.onFetch){var x;(x=this.options.behavior)==null||x.onFetch(w)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=w.fetchOptions)==null?void 0:l.meta)){var v;this.dispatch({type:"fetch",meta:(v=w.fetchOptions)==null?void 0:v.meta})}return this.retryer=new Mp({fn:w.fetchFn,abort:f==null||(c=f.abort)==null?void 0:c.bind(f),onSuccess:function(y){i.setData(y),i.cache.config.onSuccess==null||i.cache.config.onSuccess(y,i),i.cacheTime===0&&i.optionalRemove()},onError:function(y){Ji(y)&&y.silent||i.dispatch({type:"error",error:y}),Ji(y)||(i.cache.config.onError==null||i.cache.config.onError(y,i),Io().error(y)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:w.options.retry,retryDelay:w.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(n){var s=this;this.state=this.reducer(this.state,n),le.batch(function(){s.observers.forEach(function(i){i.onQueryUpdate(n)}),s.cache.notify({query:s,type:"queryUpdated",action:n})})},e.getDefaultState=function(n){var s=typeof n.initialData=="function"?n.initialData():n.initialData,i=typeof n.initialData<"u",a=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,l=typeof s<"u";return{data:s,dataUpdateCount:0,dataUpdatedAt:l?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},e.reducer=function(n,s){var i,a;switch(s.type){case"failed":return H({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return H({},n,{isPaused:!0});case"continue":return H({},n,{isPaused:!1});case"fetch":return H({},n,{fetchFailureCount:0,fetchMeta:(i=s.meta)!=null?i:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return H({},n,{data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(a=s.dataUpdatedAt)!=null?a:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=s.error;return Ji(l)&&l.revert&&this.revertState?H({},this.revertState):H({},n,{error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return H({},n,{isInvalidated:!0});case"setState":return H({},n,s.state);default:return n}},t}(),Jx=function(t){Zs(e,t);function e(n){var s;return s=t.call(this)||this,s.config=n||{},s.queries=[],s.queriesMap={},s}var r=e.prototype;return r.build=function(s,i,a){var l,c=i.queryKey,u=(l=i.queryHash)!=null?l:Tu(c,i),d=this.get(u);return d||(d=new Kx({cache:this,queryKey:c,queryHash:u,options:s.defaultQueryOptions(i),state:a,defaultOptions:s.getQueryDefaults(c),meta:i.meta}),this.add(d)),d},r.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},r.remove=function(s){var i=this.queriesMap[s.queryHash];i&&(s.destroy(),this.queries=this.queries.filter(function(a){return a!==s}),i===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},r.clear=function(){var s=this;le.batch(function(){s.queries.forEach(function(i){s.remove(i)})})},r.get=function(s){return this.queriesMap[s]},r.getAll=function(){return this.queries},r.find=function(s,i){var a=rr(s,i),l=a[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return dh(l,c)})},r.findAll=function(s,i){var a=rr(s,i),l=a[0];return Object.keys(l).length>0?this.queries.filter(function(c){return dh(l,c)}):this.queries},r.notify=function(s){var i=this;le.batch(function(){i.listeners.forEach(function(a){a(s)})})},r.onFocus=function(){var s=this;le.batch(function(){s.queries.forEach(function(i){i.onFocus()})})},r.onOnline=function(){var s=this;le.batch(function(){s.queries.forEach(function(i){i.onOnline()})})},e}(ei),Gx=function(){function t(r){this.options=H({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||Yx(),this.meta=r.meta}var e=t.prototype;return e.setState=function(n){this.dispatch({type:"setState",state:n})},e.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},e.removeObserver=function(n){this.observers=this.observers.filter(function(s){return s!==n})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Re).catch(Re)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var n=this,s,i=this.state.status==="loading",a=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(l){l!==n.state.context&&n.dispatch({type:"loading",context:l,variables:n.state.variables})})),a.then(function(){return n.executeMutation()}).then(function(l){s=l,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(s,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(s,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(s,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:s}),s}).catch(function(l){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(l,n.state.variables,n.state.context,n),Io().error(l),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(l,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,l,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:l}),l})})},e.executeMutation=function(){var n=this,s;return this.retryer=new Mp({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(n){var s=this;this.state=Xx(this.state,n),le.batch(function(){s.observers.forEach(function(i){i.onMutationUpdate(n)}),s.mutationCache.notify(s)})},t}();function Yx(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Xx(t,e){switch(e.type){case"failed":return H({},t,{failureCount:t.failureCount+1});case"pause":return H({},t,{isPaused:!0});case"continue":return H({},t,{isPaused:!1});case"loading":return H({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return H({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return H({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return H({},t,e.state);default:return t}}var Zx=function(t){Zs(e,t);function e(n){var s;return s=t.call(this)||this,s.config=n||{},s.mutations=[],s.mutationId=0,s}var r=e.prototype;return r.build=function(s,i,a){var l=new Gx({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(i),state:a,defaultOptions:i.mutationKey?s.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},r.add=function(s){this.mutations.push(s),this.notify(s)},r.remove=function(s){this.mutations=this.mutations.filter(function(i){return i!==s}),s.cancel(),this.notify(s)},r.clear=function(){var s=this;le.batch(function(){s.mutations.forEach(function(i){s.remove(i)})})},r.getAll=function(){return this.mutations},r.find=function(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(function(i){return hh(s,i)})},r.findAll=function(s){return this.mutations.filter(function(i){return hh(s,i)})},r.notify=function(s){var i=this;le.batch(function(){i.listeners.forEach(function(a){a(s)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var s=this.mutations.filter(function(i){return i.state.isPaused});return le.batch(function(){return s.reduce(function(i,a){return i.then(function(){return a.continue().catch(Re)})},Promise.resolve())})},e}(ei);function ew(){return{onFetch:function(e){e.fetchFn=function(){var r,n,s,i,a,l,c=(r=e.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(s=e.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,d=u==null?void 0:u.pageParam,h=(u==null?void 0:u.direction)==="forward",f=(u==null?void 0:u.direction)==="backward",g=((a=e.state.data)==null?void 0:a.pages)||[],m=((l=e.state.data)==null?void 0:l.pageParams)||[],w=$p(),x=w==null?void 0:w.signal,v=m,p=!1,y=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},b=function(Y,Ee,G,ze){return v=ze?[Ee].concat(v):[].concat(v,[Ee]),ze?[G].concat(Y):[].concat(Y,[G])},S=function(Y,Ee,G,ze){if(p)return Promise.reject("Cancelled");if(typeof G>"u"&&!Ee&&Y.length)return Promise.resolve(Y);var T={queryKey:e.queryKey,signal:x,pageParam:G,meta:e.meta},L=y(T),$=Promise.resolve(L).then(function(Q){return b(Y,G,Q,ze)});if(Lo(L)){var q=$;q.cancel=L.cancel}return $},N;if(!g.length)N=S([]);else if(h){var _=typeof d<"u",E=_?d:ph(e.options,g);N=S(g,_,E)}else if(f){var A=typeof d<"u",C=A?d:tw(e.options,g);N=S(g,A,C,!0)}else(function(){v=[];var ee=typeof e.options.getNextPageParam>"u",Y=c&&g[0]?c(g[0],0,g):!0;N=Y?S([],ee,m[0]):Promise.resolve(b([],m[0],g[0]));for(var Ee=function(T){N=N.then(function(L){var $=c&&g[T]?c(g[T],T,g):!0;if($){var q=ee?m[T]:ph(e.options,L);return S(L,ee,q)}return Promise.resolve(b(L,m[T],g[T]))})},G=1;G<g.length;G++)Ee(G)})();var R=N.then(function(ee){return{pages:ee,pageParams:v}}),J=R;return J.cancel=function(){p=!0,w==null||w.abort(),Lo(N)&&N.cancel()},R}}}}function ph(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function tw(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var rw=function(){function t(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new Jx,this.mutationCache=r.mutationCache||new Zx,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var n=this;this.unsubscribeFocus=Ns.subscribe(function(){Ns.isFocused()&&Ki.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=Ki.subscribe(function(){Ns.isFocused()&&Ki.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},e.unmount=function(){var n,s;(n=this.unsubscribeFocus)==null||n.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},e.isFetching=function(n,s){var i=rr(n,s),a=i[0];return a.fetching=!0,this.queryCache.findAll(a).length},e.isMutating=function(n){return this.mutationCache.findAll(H({},n,{fetching:!0})).length},e.getQueryData=function(n,s){var i;return(i=this.queryCache.find(n,s))==null?void 0:i.state.data},e.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(s){var i=s.queryKey,a=s.state,l=a.data;return[i,l]})},e.setQueryData=function(n,s,i){var a=Qi(n),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(s,i)},e.setQueriesData=function(n,s,i){var a=this;return le.batch(function(){return a.getQueryCache().findAll(n).map(function(l){var c=l.queryKey;return[c,a.setQueryData(c,s,i)]})})},e.getQueryState=function(n,s){var i;return(i=this.queryCache.find(n,s))==null?void 0:i.state},e.removeQueries=function(n,s){var i=rr(n,s),a=i[0],l=this.queryCache;le.batch(function(){l.findAll(a).forEach(function(c){l.remove(c)})})},e.resetQueries=function(n,s,i){var a=this,l=rr(n,s,i),c=l[0],u=l[1],d=this.queryCache,h=H({},c,{active:!0});return le.batch(function(){return d.findAll(c).forEach(function(f){f.reset()}),a.refetchQueries(h,u)})},e.cancelQueries=function(n,s,i){var a=this,l=rr(n,s,i),c=l[0],u=l[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var h=le.batch(function(){return a.queryCache.findAll(c).map(function(f){return f.cancel(d)})});return Promise.all(h).then(Re).catch(Re)},e.invalidateQueries=function(n,s,i){var a,l,c,u=this,d=rr(n,s,i),h=d[0],f=d[1],g=H({},h,{active:(a=(l=h.refetchActive)!=null?l:h.active)!=null?a:!0,inactive:(c=h.refetchInactive)!=null?c:!1});return le.batch(function(){return u.queryCache.findAll(h).forEach(function(m){m.invalidate()}),u.refetchQueries(g,f)})},e.refetchQueries=function(n,s,i){var a=this,l=rr(n,s,i),c=l[0],u=l[1],d=le.batch(function(){return a.queryCache.findAll(c).map(function(f){return f.fetch(void 0,H({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),h=Promise.all(d).then(Re);return u!=null&&u.throwOnError||(h=h.catch(Re)),h},e.fetchQuery=function(n,s,i){var a=Qi(n,s,i),l=this.defaultQueryOptions(a);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},e.prefetchQuery=function(n,s,i){return this.fetchQuery(n,s,i).then(Re).catch(Re)},e.fetchInfiniteQuery=function(n,s,i){var a=Qi(n,s,i);return a.behavior=ew(),this.fetchQuery(a)},e.prefetchInfiniteQuery=function(n,s,i){return this.fetchInfiniteQuery(n,s,i).then(Re).catch(Re)},e.cancelMutations=function(){var n=this,s=le.batch(function(){return n.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(s).then(Re).catch(Re)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(n){this.defaultOptions=n},e.setQueryDefaults=function(n,s){var i=this.queryDefaults.find(function(a){return Dr(n)===Dr(a.queryKey)});i?i.defaultOptions=s:this.queryDefaults.push({queryKey:n,defaultOptions:s})},e.getQueryDefaults=function(n){var s;return n?(s=this.queryDefaults.find(function(i){return Po(n,i.queryKey)}))==null?void 0:s.defaultOptions:void 0},e.setMutationDefaults=function(n,s){var i=this.mutationDefaults.find(function(a){return Dr(n)===Dr(a.mutationKey)});i?i.defaultOptions=s:this.mutationDefaults.push({mutationKey:n,defaultOptions:s})},e.getMutationDefaults=function(n){var s;return n?(s=this.mutationDefaults.find(function(i){return Po(n,i.mutationKey)}))==null?void 0:s.defaultOptions:void 0},e.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var s=H({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=Tu(s.queryKey,s)),s},e.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},e.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:H({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),nw=function(t){Zs(e,t);function e(n,s){var i;return i=t.call(this)||this,i.client=n,i.options=s,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(s),i}var r=e.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),gh(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return cc(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return cc(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(s,i){var a=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(s),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var c=this.hasListeners();c&&yh(this.currentQuery,l,this.options,a)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==l||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==l||this.options.enabled!==a.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},r.getOptimisticResult=function(s){var i=this.client.defaultQueryObserverOptions(s),a=this.client.getQueryCache().build(this.client,i);return this.createResult(a,i)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(s,i){var a=this,l={},c=function(d){a.trackedProps.includes(d)||a.trackedProps.push(d)};return Object.keys(s).forEach(function(u){Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:function(){return c(u),s[u]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),l},r.getNextResult=function(s){var i=this;return new Promise(function(a,l){var c=i.subscribe(function(u){u.isFetching||(c(),u.isError&&(s!=null&&s.throwOnError)?l(u.error):a(u))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(s){return this.fetch(H({},s,{meta:{refetchPage:s==null?void 0:s.refetchPage}}))},r.fetchOptimistic=function(s){var i=this,a=this.client.defaultQueryObserverOptions(s),l=this.client.getQueryCache().build(this.client,a);return l.fetch().then(function(){return i.createResult(l,a)})},r.fetch=function(s){var i=this;return this.executeFetch(s).then(function(){return i.updateResult(),i.currentResult})},r.executeFetch=function(s){this.updateQuery();var i=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(i=i.catch(Re)),i},r.updateStaleTimeout=function(){var s=this;if(this.clearStaleTimeout(),!(To||this.currentResult.isStale||!ac(this.options.staleTime))){var i=Lp(this.currentResult.dataUpdatedAt,this.options.staleTime),a=i+1;this.staleTimeoutId=setTimeout(function(){s.currentResult.isStale||s.updateResult()},a)}},r.computeRefetchInterval=function(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1},r.updateRefetchInterval=function(s){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=s,!(To||this.options.enabled===!1||!ac(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||Ns.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(s,i){var a=this.currentQuery,l=this.options,c=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,h=s!==a,f=h?s.state:this.currentQueryInitialState,g=h?this.currentResult:this.previousQueryResult,m=s.state,w=m.dataUpdatedAt,x=m.error,v=m.errorUpdatedAt,p=m.isFetching,y=m.status,b=!1,S=!1,N;if(i.optimisticResults){var _=this.hasListeners(),E=!_&&gh(s,i),A=_&&yh(s,a,i,l);(E||A)&&(p=!0,w||(y="loading"))}if(i.keepPreviousData&&!m.dataUpdateCount&&(g!=null&&g.isSuccess)&&y!=="error")N=g.data,w=g.dataUpdatedAt,y=g.status,b=!0;else if(i.select&&typeof m.data<"u")if(c&&m.data===(u==null?void 0:u.data)&&i.select===this.selectFn)N=this.selectResult;else try{this.selectFn=i.select,N=i.select(m.data),i.structuralSharing!==!1&&(N=Ao(c==null?void 0:c.data,N)),this.selectResult=N,this.selectError=null}catch(J){Io().error(J),this.selectError=J}else N=m.data;if(typeof i.placeholderData<"u"&&typeof N>"u"&&(y==="loading"||y==="idle")){var C;if(c!=null&&c.isPlaceholderData&&i.placeholderData===(d==null?void 0:d.placeholderData))C=c.data;else if(C=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof C<"u")try{C=i.select(C),i.structuralSharing!==!1&&(C=Ao(c==null?void 0:c.data,C)),this.selectError=null}catch(J){Io().error(J),this.selectError=J}typeof C<"u"&&(y="success",N=C,S=!0)}this.selectError&&(x=this.selectError,N=this.selectResult,v=Date.now(),y="error");var R={status:y,isLoading:y==="loading",isSuccess:y==="success",isError:y==="error",isIdle:y==="idle",data:N,dataUpdatedAt:w,error:x,errorUpdatedAt:v,failureCount:m.fetchFailureCount,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:p,isRefetching:p&&y!=="loading",isLoadingError:y==="error"&&m.dataUpdatedAt===0,isPlaceholderData:S,isPreviousData:b,isRefetchError:y==="error"&&m.dataUpdatedAt!==0,isStale:Ru(s,i),refetch:this.refetch,remove:this.remove};return R},r.shouldNotifyListeners=function(s,i){if(!i)return!0;var a=this.options,l=a.notifyOnChangeProps,c=a.notifyOnChangePropsExclusions;if(!l&&!c||l==="tracked"&&!this.trackedProps.length)return!0;var u=l==="tracked"?this.trackedProps:l;return Object.keys(s).some(function(d){var h=d,f=s[h]!==i[h],g=u==null?void 0:u.some(function(w){return w===d}),m=c==null?void 0:c.some(function(w){return w===d});return f&&!m&&(!u||g)})},r.updateResult=function(s){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Bx(this.currentResult,i)){var a={cache:!0};(s==null?void 0:s.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(a.listeners=!0),this.notify(H({},a,s))}},r.updateQuery=function(){var s=this.client.getQueryCache().build(this.client,this.options);if(s!==this.currentQuery){var i=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),s.addObserver(this))}},r.onQueryUpdate=function(s){var i={};s.type==="success"?i.onSuccess=!0:s.type==="error"&&!Ji(s.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},r.notify=function(s){var i=this;le.batch(function(){s.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):s.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),s.listeners&&i.listeners.forEach(function(a){a(i.currentResult)}),s.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},e}(ei);function sw(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function gh(t,e){return sw(t,e)||t.state.dataUpdatedAt>0&&cc(t,e,e.refetchOnMount)}function cc(t,e,r){if(e.enabled!==!1){var n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Ru(t,e)}return!1}function yh(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&Ru(t,r)}function Ru(t,e){return t.isStaleByTime(e.staleTime)}var iw=Uv.unstable_batchedUpdates;le.setBatchNotifyFunction(iw);var ow=console;Qx(ow);var vh=ce.createContext(void 0),Up=ce.createContext(!1);function Bp(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=vh),window.ReactQueryClientContext):vh}var Wn=function(){var e=ce.useContext(Bp(ce.useContext(Up)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},aw=function(e){var r=e.client,n=e.contextSharing,s=n===void 0?!1:n,i=e.children;ce.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var a=Bp(s);return ce.createElement(Up.Provider,{value:s},ce.createElement(a.Provider,{value:r},i))};function lw(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var cw=ce.createContext(lw()),uw=function(){return ce.useContext(cw)};function dw(t,e,r){return typeof e=="function"?e.apply(void 0,r):typeof e=="boolean"?e:!!t}function hw(t,e){var r=ce.useRef(!1),n=ce.useState(0),s=n[1],i=Wn(),a=uw(),l=i.defaultQueryObserverOptions(t);l.optimisticResults=!0,l.onError&&(l.onError=le.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=le.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=le.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(a.isReset()||(l.retryOnMount=!1));var c=ce.useState(function(){return new e(i,l)}),u=c[0],d=u.getOptimisticResult(l);if(ce.useEffect(function(){r.current=!0,a.clearReset();var h=u.subscribe(le.batchCalls(function(){r.current&&s(function(f){return f+1})}));return u.updateResult(),function(){r.current=!1,h()}},[a,u]),ce.useEffect(function(){u.setOptions(l,{listeners:!1})},[l,u]),l.suspense&&d.isLoading)throw u.fetchOptimistic(l).then(function(h){var f=h.data;l.onSuccess==null||l.onSuccess(f),l.onSettled==null||l.onSettled(f,null)}).catch(function(h){a.clearReset(),l.onError==null||l.onError(h),l.onSettled==null||l.onSettled(void 0,h)});if(d.isError&&!a.isReset()&&!d.isFetching&&dw(l.suspense,l.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return l.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,l)),d}function Vn(t,e,r){var n=Qi(t,e,r);return hw(n,nw)}let fw={data:""},mw=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||fw,pw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gw=/\/\*[^]*?\*\/|  +/g,xh=/\n+/g,ir=(t,e)=>{let r="",n="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?ir(a,i):i+"{"+ir(a,i[1]=="k"?"":e)+"}":typeof a=="object"?n+=ir(a,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ir.p?ir.p(i,a):i+":"+a+";")}return r+(e&&s?e+"{"+s+"}":s)+n},It={},zp=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+zp(t[r]);return e}return t},yw=(t,e,r,n,s)=>{let i=zp(t),a=It[i]||(It[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!It[a]){let c=i!==t?t:(u=>{let d,h,f=[{}];for(;d=pw.exec(u.replace(gw,""));)d[4]?f.shift():d[3]?(h=d[3].replace(xh," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(xh," ").trim();return f[0]})(t);It[a]=ir(s?{["@keyframes "+a]:c}:c,r?"":"."+a)}let l=r&&It.g?It.g:null;return r&&(It.g=It[a]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(It[a],e,n,l),a},vw=(t,e,r)=>t.reduce((n,s,i)=>{let a=e[i];if(a&&a.call){let l=a(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":ir(l,""):l===!1?"":l}return n+s+(a??"")},"");function oa(t){let e=this||{},r=t.call?t(e.p):t;return yw(r.unshift?r.raw?vw(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,mw(e.target),e.g,e.o,e.k)}let qp,uc,dc;oa.bind({g:1});let Kt=oa.bind({k:1});function xw(t,e,r,n){ir.p=e,qp=t,uc=r,dc=n}function kr(t,e){let r=this||{};return function(){let n=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;r.p=Object.assign({theme:uc&&uc()},l),r.o=/ *go\d+/.test(c),l.className=oa.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),dc&&u[0]&&dc(l),qp(u,l)}return s}}var ww=t=>typeof t=="function",$o=(t,e)=>ww(t)?t(e):t,bw=(()=>{let t=0;return()=>(++t).toString()})(),Wp=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),jw=20,Pu="default",Vp=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return Vp(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Gi=[],Hp={toasts:[],pausedAt:void 0,settings:{toastLimit:jw}},Tt={},Qp=(t,e=Pu)=>{Tt[e]=Vp(Tt[e]||Hp,t),Gi.forEach(([r,n])=>{r===e&&n(Tt[e])})},Kp=t=>Object.keys(Tt).forEach(e=>Qp(t,e)),Nw=t=>Object.keys(Tt).find(e=>Tt[e].toasts.some(r=>r.id===t)),aa=(t=Pu)=>e=>{Qp(e,t)},kw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_w=(t={},e=Pu)=>{let[r,n]=j.useState(Tt[e]||Hp),s=j.useRef(Tt[e]);j.useEffect(()=>(s.current!==Tt[e]&&n(Tt[e]),Gi.push([e,n]),()=>{let a=Gi.findIndex(([l])=>l===e);a>-1&&Gi.splice(a,1)}),[e]);let i=r.toasts.map(a=>{var l,c,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((l=t[a.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((c=t[a.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||kw[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...r,toasts:i}},Sw=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||bw()}),ti=t=>(e,r)=>{let n=Sw(e,t,r);return aa(n.toasterId||Nw(n.id))({type:2,toast:n}),n.id},ve=(t,e)=>ti("blank")(t,e);ve.error=ti("error");ve.success=ti("success");ve.loading=ti("loading");ve.custom=ti("custom");ve.dismiss=(t,e)=>{let r={type:3,toastId:t};e?aa(e)(r):Kp(r)};ve.dismissAll=t=>ve.dismiss(void 0,t);ve.remove=(t,e)=>{let r={type:4,toastId:t};e?aa(e)(r):Kp(r)};ve.removeAll=t=>ve.remove(void 0,t);ve.promise=(t,e,r)=>{let n=ve.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?$o(e.success,s):void 0;return i?ve.success(i,{id:n,...r,...r==null?void 0:r.success}):ve.dismiss(n),s}).catch(s=>{let i=e.error?$o(e.error,s):void 0;i?ve.error(i,{id:n,...r,...r==null?void 0:r.error}):ve.dismiss(n)}),t};var Cw=1e3,Ew=(t,e="default")=>{let{toasts:r,pausedAt:n}=_w(t,e),s=j.useRef(new Map).current,i=j.useCallback((h,f=Cw)=>{if(s.has(h))return;let g=setTimeout(()=>{s.delete(h),a({type:4,toastId:h})},f);s.set(h,g)},[]);j.useEffect(()=>{if(n)return;let h=Date.now(),f=r.map(g=>{if(g.duration===1/0)return;let m=(g.duration||0)+g.pauseDuration-(h-g.createdAt);if(m<0){g.visible&&ve.dismiss(g.id);return}return setTimeout(()=>ve.dismiss(g.id,e),m)});return()=>{f.forEach(g=>g&&clearTimeout(g))}},[r,n,e]);let a=j.useCallback(aa(e),[e]),l=j.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=j.useCallback((h,f)=>{a({type:1,toast:{id:h,height:f}})},[a]),u=j.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),d=j.useCallback((h,f)=>{let{reverseOrder:g=!1,gutter:m=8,defaultPosition:w}=f||{},x=r.filter(y=>(y.position||w)===(h.position||w)&&y.height),v=x.findIndex(y=>y.id===h.id),p=x.filter((y,b)=>b<v&&y.visible).length;return x.filter(y=>y.visible).slice(...g?[p+1]:[0,p]).reduce((y,b)=>y+(b.height||0)+m,0)},[r]);return j.useEffect(()=>{r.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let f=s.get(h.id);f&&(clearTimeout(f),s.delete(h.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},Ow=Kt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Tw=Kt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rw=Kt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Pw=kr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ow} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Tw} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Rw} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Aw=Kt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Lw=kr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Aw} 1s linear infinite;
`,Iw=Kt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$w=Kt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Dw=kr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Iw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$w} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Mw=kr("div")`
  position: absolute;
`,Fw=kr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Uw=Kt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bw=kr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Uw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zw=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?j.createElement(Bw,null,e):e:r==="blank"?null:j.createElement(Fw,null,j.createElement(Lw,{...n}),r!=="loading"&&j.createElement(Mw,null,r==="error"?j.createElement(Pw,{...n}):j.createElement(Dw,{...n})))},qw=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ww=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Vw="0%{opacity:0;} 100%{opacity:1;}",Hw="0%{opacity:1;} 100%{opacity:0;}",Qw=kr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Kw=kr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Jw=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=Wp()?[Vw,Hw]:[qw(r),Ww(r)];return{animation:e?`${Kt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Kt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Gw=j.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?Jw(t.position||e||"top-center",t.visible):{opacity:0},i=j.createElement(zw,{toast:t}),a=j.createElement(Kw,{...t.ariaProps},$o(t.message,t));return j.createElement(Qw,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:a}):j.createElement(j.Fragment,null,i,a))});xw(j.createElement);var Yw=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=j.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return j.createElement("div",{ref:i,className:e,style:r},s)},Xw=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Wp()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},Zw=oa`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Si=16,eb=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:u}=Ew(r,i);return j.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Si,left:Si,right:Si,bottom:Si,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let h=d.position||e,f=u.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:e}),g=Xw(h,f);return j.createElement(Yw,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?Zw:"",style:g},d.type==="custom"?$o(d.message,d):s?s(d):j.createElement(Gw,{toast:d,position:h}))}))},U=ve;function Jp(t,e){return function(){return t.apply(e,arguments)}}const{toString:tb}=Object.prototype,{getPrototypeOf:Au}=Object,{iterator:la,toStringTag:Gp}=Symbol,ca=(t=>e=>{const r=tb.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Nt=t=>(t=t.toLowerCase(),e=>ca(e)===t),ua=t=>e=>typeof e===t,{isArray:Hn}=Array,$n=ua("undefined");function ri(t){return t!==null&&!$n(t)&&t.constructor!==null&&!$n(t.constructor)&&Ge(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Yp=Nt("ArrayBuffer");function rb(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Yp(t.buffer),e}const nb=ua("string"),Ge=ua("function"),Xp=ua("number"),ni=t=>t!==null&&typeof t=="object",sb=t=>t===!0||t===!1,Yi=t=>{if(ca(t)!=="object")return!1;const e=Au(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Gp in t)&&!(la in t)},ib=t=>{if(!ni(t)||ri(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ob=Nt("Date"),ab=Nt("File"),lb=Nt("Blob"),cb=Nt("FileList"),ub=t=>ni(t)&&Ge(t.pipe),db=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ge(t.append)&&((e=ca(t))==="formdata"||e==="object"&&Ge(t.toString)&&t.toString()==="[object FormData]"))},hb=Nt("URLSearchParams"),[fb,mb,pb,gb]=["ReadableStream","Request","Response","Headers"].map(Nt),yb=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function si(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Hn(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(ri(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(n=0;n<a;n++)l=i[n],e.call(null,t[l],l,t)}}function Zp(t,e){if(ri(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Mr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,e0=t=>!$n(t)&&t!==Mr;function hc(){const{caseless:t,skipUndefined:e}=e0(this)&&this||{},r={},n=(s,i)=>{const a=t&&Zp(r,i)||i;Yi(r[a])&&Yi(s)?r[a]=hc(r[a],s):Yi(s)?r[a]=hc({},s):Hn(s)?r[a]=s.slice():(!e||!$n(s))&&(r[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&si(arguments[s],n);return r}const vb=(t,e,r,{allOwnKeys:n}={})=>(si(e,(s,i)=>{r&&Ge(s)?t[i]=Jp(s,r):t[i]=s},{allOwnKeys:n}),t),xb=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wb=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},bb=(t,e,r,n)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!n||n(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=r!==!1&&Au(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},jb=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Nb=t=>{if(!t)return null;if(Hn(t))return t;let e=t.length;if(!Xp(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},kb=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Au(Uint8Array)),_b=(t,e)=>{const n=(t&&t[la]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Sb=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Cb=Nt("HTMLFormElement"),Eb=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),wh=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Ob=Nt("RegExp"),t0=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};si(r,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(n[i]=a||s)}),Object.defineProperties(t,n)},Tb=t=>{t0(t,(e,r)=>{if(Ge(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ge(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Rb=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Hn(t)?n(t):n(String(t).split(e)),r},Pb=()=>{},Ab=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Lb(t){return!!(t&&Ge(t.append)&&t[Gp]==="FormData"&&t[la])}const Ib=t=>{const e=new Array(10),r=(n,s)=>{if(ni(n)){if(e.indexOf(n)>=0)return;if(ri(n))return n;if(!("toJSON"in n)){e[s]=n;const i=Hn(n)?[]:{};return si(n,(a,l)=>{const c=r(a,s+1);!$n(c)&&(i[l]=c)}),e[s]=void 0,i}}return n};return r(t,0)},$b=Nt("AsyncFunction"),Db=t=>t&&(ni(t)||Ge(t))&&Ge(t.then)&&Ge(t.catch),r0=((t,e)=>t?setImmediate:e?((r,n)=>(Mr.addEventListener("message",({source:s,data:i})=>{s===Mr&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Mr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ge(Mr.postMessage)),Mb=typeof queueMicrotask<"u"?queueMicrotask.bind(Mr):typeof process<"u"&&process.nextTick||r0,Fb=t=>t!=null&&Ge(t[la]),k={isArray:Hn,isArrayBuffer:Yp,isBuffer:ri,isFormData:db,isArrayBufferView:rb,isString:nb,isNumber:Xp,isBoolean:sb,isObject:ni,isPlainObject:Yi,isEmptyObject:ib,isReadableStream:fb,isRequest:mb,isResponse:pb,isHeaders:gb,isUndefined:$n,isDate:ob,isFile:ab,isBlob:lb,isRegExp:Ob,isFunction:Ge,isStream:ub,isURLSearchParams:hb,isTypedArray:kb,isFileList:cb,forEach:si,merge:hc,extend:vb,trim:yb,stripBOM:xb,inherits:wb,toFlatObject:bb,kindOf:ca,kindOfTest:Nt,endsWith:jb,toArray:Nb,forEachEntry:_b,matchAll:Sb,isHTMLForm:Cb,hasOwnProperty:wh,hasOwnProp:wh,reduceDescriptors:t0,freezeMethods:Tb,toObjectSet:Rb,toCamelCase:Eb,noop:Pb,toFiniteNumber:Ab,findKey:Zp,global:Mr,isContextDefined:e0,isSpecCompliantForm:Lb,toJSONObject:Ib,isAsyncFn:$b,isThenable:Db,setImmediate:r0,asap:Mb,isIterable:Fb};function F(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}k.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const n0=F.prototype,s0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{s0[t]={value:t}});Object.defineProperties(F,s0);Object.defineProperty(n0,"isAxiosError",{value:!0});F.from=(t,e,r,n,s,i)=>{const a=Object.create(n0);k.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return F.call(a,l,c,r,n,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const Ub=null;function fc(t){return k.isPlainObject(t)||k.isArray(t)}function i0(t){return k.endsWith(t,"[]")?t.slice(0,-2):t}function bh(t,e,r){return t?t.concat(e).map(function(s,i){return s=i0(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function Bb(t){return k.isArray(t)&&!t.some(fc)}const zb=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function da(t,e,r){if(!k.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=k.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!k.isUndefined(x[w])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(k.isDate(m))return m.toISOString();if(k.isBoolean(m))return m.toString();if(!c&&k.isBlob(m))throw new F("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(m)||k.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,w,x){let v=m;if(m&&!x&&typeof m=="object"){if(k.endsWith(w,"{}"))w=n?w:w.slice(0,-2),m=JSON.stringify(m);else if(k.isArray(m)&&Bb(m)||(k.isFileList(m)||k.endsWith(w,"[]"))&&(v=k.toArray(m)))return w=i0(w),v.forEach(function(y,b){!(k.isUndefined(y)||y===null)&&e.append(a===!0?bh([w],b,i):a===null?w:w+"[]",u(y))}),!1}return fc(m)?!0:(e.append(bh(x,w,i),u(m)),!1)}const h=[],f=Object.assign(zb,{defaultVisitor:d,convertValue:u,isVisitable:fc});function g(m,w){if(!k.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(m),k.forEach(m,function(v,p){(!(k.isUndefined(v)||v===null)&&s.call(e,v,k.isString(p)?p.trim():p,w,f))===!0&&g(v,w?w.concat(p):[p])}),h.pop()}}if(!k.isObject(t))throw new TypeError("data must be an object");return g(t),e}function jh(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Lu(t,e){this._pairs=[],t&&da(t,this,e)}const o0=Lu.prototype;o0.append=function(e,r){this._pairs.push([e,r])};o0.toString=function(e){const r=e?function(n){return e.call(this,n,jh)}:jh;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function qb(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function a0(t,e,r){if(!e)return t;const n=r&&r.encode||qb;k.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=k.isURLSearchParams(e)?e.toString():new Lu(e,r).toString(n),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Nh{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(n){n!==null&&e(n)})}}const l0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wb=typeof URLSearchParams<"u"?URLSearchParams:Lu,Vb=typeof FormData<"u"?FormData:null,Hb=typeof Blob<"u"?Blob:null,Qb={isBrowser:!0,classes:{URLSearchParams:Wb,FormData:Vb,Blob:Hb},protocols:["http","https","file","blob","url","data"]},Iu=typeof window<"u"&&typeof document<"u",mc=typeof navigator=="object"&&navigator||void 0,Kb=Iu&&(!mc||["ReactNative","NativeScript","NS"].indexOf(mc.product)<0),Jb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gb=Iu&&window.location.href||"http://localhost",Yb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Iu,hasStandardBrowserEnv:Kb,hasStandardBrowserWebWorkerEnv:Jb,navigator:mc,origin:Gb},Symbol.toStringTag,{value:"Module"})),Ae={...Yb,...Qb};function Xb(t,e){return da(t,new Ae.classes.URLSearchParams,{visitor:function(r,n,s,i){return Ae.isNode&&k.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Zb(t){return k.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function e1(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function c0(t){function e(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=r.length;return a=!a&&k.isArray(s)?s.length:a,c?(k.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!l):((!s[a]||!k.isObject(s[a]))&&(s[a]=[]),e(r,n,s[a],i)&&k.isArray(s[a])&&(s[a]=e1(s[a])),!l)}if(k.isFormData(t)&&k.isFunction(t.entries)){const r={};return k.forEachEntry(t,(n,s)=>{e(Zb(n),s,r,0)}),r}return null}function t1(t,e,r){if(k.isString(t))try{return(e||JSON.parse)(t),k.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const ii={transitional:l0,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=k.isObject(e);if(i&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return s?JSON.stringify(c0(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e)||k.isReadableStream(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Xb(e,this.formSerializer).toString();if((l=k.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return da(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),t1(e)):e}],transformResponse:[function(e){const r=this.transitional||ii.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(k.isResponse(e)||k.isReadableStream(e))return e;if(e&&k.isString(e)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?F.from(l,F.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ae.classes.FormData,Blob:Ae.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],t=>{ii.headers[t]={}});const r1=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),n1=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||e[r]&&r1[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},kh=Symbol("internals");function is(t){return t&&String(t).trim().toLowerCase()}function Xi(t){return t===!1||t==null?t:k.isArray(t)?t.map(Xi):String(t)}function s1(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const i1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ja(t,e,r,n,s){if(k.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!k.isString(e)){if(k.isString(n))return e.indexOf(n)!==-1;if(k.isRegExp(n))return n.test(e)}}function o1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function a1(t,e){const r=k.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}let Ye=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(l,c,u){const d=is(c);if(!d)throw new Error("header name must be a non-empty string");const h=k.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=Xi(l))}const a=(l,c)=>k.forEach(l,(u,d)=>i(u,d,c));if(k.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(k.isString(e)&&(e=e.trim())&&!i1(e))a(n1(e),r);else if(k.isObject(e)&&k.isIterable(e)){let l={},c,u;for(const d of e){if(!k.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?k.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=is(e),e){const n=k.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return s1(s);if(k.isFunction(r))return r.call(this,s,n);if(k.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=is(e),e){const n=k.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Ja(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(a){if(a=is(a),a){const l=k.findKey(n,a);l&&(!r||Ja(n,n[l],l,r))&&(delete n[l],s=!0)}}return k.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||Ja(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return k.forEach(this,(s,i)=>{const a=k.findKey(n,i);if(a){r[a]=Xi(s),delete r[i];return}const l=e?o1(i):String(i).trim();l!==i&&delete r[i],r[l]=Xi(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return k.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&k.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[kh]=this[kh]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=is(a);n[l]||(a1(s,a),n[l]=!0)}return k.isArray(e)?e.forEach(i):i(e),this}};Ye.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(Ye.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});k.freezeMethods(Ye);function Ga(t,e){const r=this||ii,n=e||r,s=Ye.from(n.headers);let i=n.data;return k.forEach(t,function(l){i=l.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function u0(t){return!!(t&&t.__CANCEL__)}function Qn(t,e,r){F.call(this,t??"canceled",F.ERR_CANCELED,e,r),this.name="CanceledError"}k.inherits(Qn,F,{__CANCEL__:!0});function d0(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new F("Request failed with status code "+r.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function l1(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function c1(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[i];a||(a=u),r[s]=c,n[s]=u;let h=i,f=0;for(;h!==s;)f+=r[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const g=d&&u-d;return g?Math.round(f*1e3/g):void 0}}function u1(t,e){let r=0,n=1e3/e,s,i;const a=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},n-h)))},()=>s&&a(s)]}const Do=(t,e,r=3)=>{let n=0;const s=c1(50,250);return u1(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-n,u=s(c),d=a<=l;n=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},r)},_h=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Sh=t=>(...e)=>k.asap(()=>t(...e)),d1=Ae.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Ae.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Ae.origin),Ae.navigator&&/(msie|trident)/i.test(Ae.navigator.userAgent)):()=>!0,h1=Ae.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const a=[t+"="+encodeURIComponent(e)];k.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),k.isString(n)&&a.push("path="+n),k.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function f1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function m1(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function h0(t,e,r){let n=!f1(e);return t&&(n||r==!1)?m1(t,e):e}const Ch=t=>t instanceof Ye?{...t}:t;function Kr(t,e){e=e||{};const r={};function n(u,d,h,f){return k.isPlainObject(u)&&k.isPlainObject(d)?k.merge.call({caseless:f},u,d):k.isPlainObject(d)?k.merge({},d):k.isArray(d)?d.slice():d}function s(u,d,h,f){if(k.isUndefined(d)){if(!k.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function i(u,d){if(!k.isUndefined(d))return n(void 0,d)}function a(u,d){if(k.isUndefined(d)){if(!k.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,h)=>s(Ch(u),Ch(d),h,!0)};return k.forEach(Object.keys({...t,...e}),function(d){const h=c[d]||s,f=h(t[d],e[d],d);k.isUndefined(f)&&h!==l||(r[d]=f)}),r}const f0=t=>{const e=Kr({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;if(e.headers=a=Ye.from(a),e.url=a0(h0(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),k.isFormData(r)){if(Ae.hasStandardBrowserEnv||Ae.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(k.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(Ae.hasStandardBrowserEnv&&(n&&k.isFunction(n)&&(n=n(e)),n||n!==!1&&d1(e.url))){const c=s&&i&&h1.read(i);c&&a.set(s,c)}return e},p1=typeof XMLHttpRequest<"u",g1=p1&&function(t){return new Promise(function(r,n){const s=f0(t);let i=s.data;const a=Ye.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,h,f,g,m;function w(){g&&g(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function v(){if(!x)return;const y=Ye.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:y,config:t,request:x};d0(function(_){r(_),w()},function(_){n(_),w()},S),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(n(new F("Request aborted",F.ECONNABORTED,t,x)),x=null)},x.onerror=function(b){const S=b&&b.message?b.message:"Network Error",N=new F(S,F.ERR_NETWORK,t,x);N.event=b||null,n(N),x=null},x.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||l0;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),n(new F(b,S.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,t,x)),x=null},i===void 0&&a.setContentType(null),"setRequestHeader"in x&&k.forEach(a.toJSON(),function(b,S){x.setRequestHeader(S,b)}),k.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),l&&l!=="json"&&(x.responseType=s.responseType),u&&([f,m]=Do(u,!0),x.addEventListener("progress",f)),c&&x.upload&&([h,g]=Do(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=y=>{x&&(n(!y||y.type?new Qn(null,t,x):y),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const p=l1(s.url);if(p&&Ae.protocols.indexOf(p)===-1){n(new F("Unsupported protocol "+p+":",F.ERR_BAD_REQUEST,t));return}x.send(i||null)})},y1=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof F?d:new Qn(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new F(`timeout ${e} of ms exceeded`,F.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>k.asap(l),c}},v1=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},x1=async function*(t,e){for await(const r of w1(t))yield*v1(r,e)},w1=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Eh=(t,e,r,n)=>{const s=x1(t,e);let i=0,a,l=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let f=i+=h;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Oh=64*1024,{isFunction:Ci}=k,b1=(({Request:t,Response:e})=>({Request:t,Response:e}))(k.global),{ReadableStream:Th,TextEncoder:Rh}=k.global,Ph=(t,...e)=>{try{return!!t(...e)}catch{return!1}},j1=t=>{t=k.merge.call({skipUndefined:!0},b1,t);const{fetch:e,Request:r,Response:n}=t,s=e?Ci(e):typeof fetch=="function",i=Ci(r),a=Ci(n);if(!s)return!1;const l=s&&Ci(Th),c=s&&(typeof Rh=="function"?(m=>w=>m.encode(w))(new Rh):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=i&&l&&Ph(()=>{let m=!1;const w=new r(Ae.origin,{body:new Th,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!w}),d=a&&l&&Ph(()=>k.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(w,x)=>{let v=w&&w[m];if(v)return v.call(w);throw new F(`Response type '${m}' is not supported`,F.ERR_NOT_SUPPORT,x)})});const f=async m=>{if(m==null)return 0;if(k.isBlob(m))return m.size;if(k.isSpecCompliantForm(m))return(await new r(Ae.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(k.isArrayBufferView(m)||k.isArrayBuffer(m))return m.byteLength;if(k.isURLSearchParams(m)&&(m=m+""),k.isString(m))return(await c(m)).byteLength},g=async(m,w)=>{const x=k.toFiniteNumber(m.getContentLength());return x??f(w)};return async m=>{let{url:w,method:x,data:v,signal:p,cancelToken:y,timeout:b,onDownloadProgress:S,onUploadProgress:N,responseType:_,headers:E,withCredentials:A="same-origin",fetchOptions:C}=f0(m),R=e||fetch;_=_?(_+"").toLowerCase():"text";let J=y1([p,y&&y.toAbortSignal()],b),ee=null;const Y=J&&J.unsubscribe&&(()=>{J.unsubscribe()});let Ee;try{if(N&&u&&x!=="get"&&x!=="head"&&(Ee=await g(E,v))!==0){let q=new r(w,{method:"POST",body:v,duplex:"half"}),Q;if(k.isFormData(v)&&(Q=q.headers.get("content-type"))&&E.setContentType(Q),q.body){const[kt,qe]=_h(Ee,Do(Sh(N)));v=Eh(q.body,Oh,kt,qe)}}k.isString(A)||(A=A?"include":"omit");const G=i&&"credentials"in r.prototype,ze={...C,signal:J,method:x.toUpperCase(),headers:E.normalize().toJSON(),body:v,duplex:"half",credentials:G?A:void 0};ee=i&&new r(w,ze);let T=await(i?R(ee,C):R(w,ze));const L=d&&(_==="stream"||_==="response");if(d&&(S||L&&Y)){const q={};["status","statusText","headers"].forEach(Gt=>{q[Gt]=T[Gt]});const Q=k.toFiniteNumber(T.headers.get("content-length")),[kt,qe]=S&&_h(Q,Do(Sh(S),!0))||[];T=new n(Eh(T.body,Oh,kt,()=>{qe&&qe(),Y&&Y()}),q)}_=_||"text";let $=await h[k.findKey(h,_)||"text"](T,m);return!L&&Y&&Y(),await new Promise((q,Q)=>{d0(q,Q,{data:$,headers:Ye.from(T.headers),status:T.status,statusText:T.statusText,config:m,request:ee})})}catch(G){throw Y&&Y(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new F("Network Error",F.ERR_NETWORK,m,ee),{cause:G.cause||G}):F.from(G,G&&G.code,m,ee)}}},N1=new Map,m0=t=>{let e=t?t.env:{};const{fetch:r,Request:n,Response:s}=e,i=[n,s,r];let a=i.length,l=a,c,u,d=N1;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:j1(e)),d=u;return u};m0();const pc={http:Ub,xhr:g1,fetch:{get:m0}};k.forEach(pc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ah=t=>`- ${t}`,k1=t=>k.isFunction(t)||t===null||t===!1,p0={getAdapter:(t,e)=>{t=k.isArray(t)?t:[t];const{length:r}=t;let n,s;const i={};for(let a=0;a<r;a++){n=t[a];let l;if(s=n,!k1(n)&&(s=pc[(l=String(n)).toLowerCase()],s===void 0))throw new F(`Unknown adapter '${l}'`);if(s&&(k.isFunction(s)||(s=s.get(e))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?a.length>1?`since :
`+a.map(Ah).join(`
`):" "+Ah(a[0]):"as no adapter specified";throw new F("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:pc};function Ya(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qn(null,t)}function Lh(t){return Ya(t),t.headers=Ye.from(t.headers),t.data=Ga.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),p0.getAdapter(t.adapter||ii.adapter,t)(t).then(function(n){return Ya(t),n.data=Ga.call(t,t.transformResponse,n),n.headers=Ye.from(n.headers),n},function(n){return u0(n)||(Ya(t),n&&n.response&&(n.response.data=Ga.call(t,t.transformResponse,n.response),n.response.headers=Ye.from(n.response.headers))),Promise.reject(n)})}const g0="1.12.2",ha={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ha[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Ih={};ha.transitional=function(e,r,n){function s(i,a){return"[Axios v"+g0+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,l)=>{if(e===!1)throw new F(s(a," has been removed"+(r?" in "+r:"")),F.ERR_DEPRECATED);return r&&!Ih[a]&&(Ih[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,a,l):!0}};ha.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function _1(t,e,r){if(typeof t!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const l=t[i],c=l===void 0||a(l,i,t);if(c!==!0)throw new F("option "+i+" must be "+c,F.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new F("Unknown option "+i,F.ERR_BAD_OPTION)}}const Zi={assertOptions:_1,validators:ha},St=Zi.validators;let zr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Nh,response:new Nh}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Kr(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Zi.assertOptions(n,{silentJSONParsing:St.transitional(St.boolean),forcedJSONParsing:St.transitional(St.boolean),clarifyTimeoutError:St.transitional(St.boolean)},!1),s!=null&&(k.isFunction(s)?r.paramsSerializer={serialize:s}:Zi.assertOptions(s,{encode:St.function,serialize:St.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Zi.assertOptions(r,{baseUrl:St.spelling("baseURL"),withXsrfToken:St.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&k.merge(i.common,i[r.method]);i&&k.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=Ye.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,h=0,f;if(!c){const m=[Lh.bind(this),void 0];for(m.unshift(...l),m.push(...u),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=l.length;let g=r;for(;h<f;){const m=l[h++],w=l[h++];try{g=m(g)}catch(x){w.call(this,x);break}}try{d=Lh.call(this,g)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Kr(this.defaults,e);const r=h0(e.baseURL,e.url,e.allowAbsoluteUrls);return a0(r,e.params,e.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(e){zr.prototype[e]=function(r,n){return this.request(Kr(n||{},{method:e,url:r,data:(n||{}).data}))}});k.forEach(["post","put","patch"],function(e){function r(n){return function(i,a,l){return this.request(Kr(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}zr.prototype[e]=r(),zr.prototype[e+"Form"]=r(!0)});let S1=class y0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{n.subscribe(l),i=l}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,l){n.reason||(n.reason=new Qn(i,a,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new y0(function(s){e=s}),cancel:e}}};function C1(t){return function(r){return t.apply(null,r)}}function E1(t){return k.isObject(t)&&t.isAxiosError===!0}const gc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gc).forEach(([t,e])=>{gc[e]=t});function v0(t){const e=new zr(t),r=Jp(zr.prototype.request,e);return k.extend(r,zr.prototype,e,{allOwnKeys:!0}),k.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return v0(Kr(t,s))},r}const de=v0(ii);de.Axios=zr;de.CanceledError=Qn;de.CancelToken=S1;de.isCancel=u0;de.VERSION=g0;de.toFormData=da;de.AxiosError=F;de.Cancel=de.CanceledError;de.all=function(e){return Promise.all(e)};de.spread=C1;de.isAxiosError=E1;de.mergeConfig=Kr;de.AxiosHeaders=Ye;de.formToJSON=t=>c0(k.isHTMLForm(t)?new FormData(t):t);de.getAdapter=p0.getAdapter;de.HttpStatusCode=gc;de.default=de;const{Axios:e_,AxiosError:t_,CanceledError:r_,isCancel:n_,CancelToken:s_,VERSION:i_,all:o_,Cancel:a_,isAxiosError:l_,spread:c_,toFormData:u_,AxiosHeaders:d_,HttpStatusCode:h_,formToJSON:f_,getAdapter:m_,mergeConfig:p_}=de,O1="https://your-render-app.onrender.com/api",D=de.create({baseURL:O1,timeout:1e4,headers:{"Content-Type":"application/json"}});D.interceptors.request.use(t=>{const e=localStorage.getItem("admin_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));D.interceptors.response.use(t=>t.data,t=>(console.error("API Error:",t),Promise.reject(t)));const Le={getStore:t=>D.get(`/menu?store=${t}`),searchMenu:(t,e)=>D.get(`/menu/search?store=${t}&q=${e}`),createOrder:t=>D.post("/orders",t),getOrder:t=>D.get(`/orders/${t}`),updateOrderStatus:(t,e,r)=>D.put(`/orders/${t}/status`,{status:e,estimatedTime:r}),createPaymentOrder:(t,e,r="INR")=>D.post("/payments/create-order",{orderId:t,amount:e,currency:r}),verifyPayment:t=>D.post("/payments/verify",t),login:(t,e)=>D.post("/admin/login",{email:t,password:e}),register:t=>D.post("/auth/register",t),getMe:()=>D.get("/auth/me"),changePassword:(t,e)=>D.post("/auth/change-password",{currentPassword:t,newPassword:e}),getDashboard:()=>D.get("/admin-supabase/dashboard"),getAdminDashboard:(t="today")=>D.get(`/admin-supabase/dashboard?period=${t}`),getOrders:(t={})=>D.get("/admin-supabase/orders",{params:t}),getOrder:t=>D.get(`/admin-supabase/orders/${t}`),updateOrderStatus:(t,e,r)=>D.put(`/admin-supabase/orders/${t}/status`,{status:e,estimatedTime:r}),getCustomers:(t={})=>D.get("/admin-supabase/customers",{params:t}),getMenuItems:(t={})=>D.get("/admin-supabase/menu-items",{params:t}),addMenuItem:(t,e="siddhi")=>D.post(`/admin-supabase/menu-items?store=${e}`,t),updateMenuItem:(t,e,r="siddhi")=>D.put(`/admin-supabase/menu-items/${t}?store=${r}`,e),deleteMenuItem:(t,e="siddhi")=>D.delete(`/admin-supabase/menu-items/${t}?store=${e}`),updateItemAvailability:(t,e,r="siddhi")=>D.put(`/admin-supabase/menu-items/${t}/availability?store=${r}`,{isAvailable:e}),getCategories:(t={})=>D.get("/admin-supabase/categories",{params:t}),addCategory:(t,e="siddhi")=>D.post(`/admin-supabase/categories?store=${e}`,t),updateCategory:(t,e,r="siddhi")=>D.put(`/admin-supabase/categories/${t}?store=${r}`,e),deleteCategory:(t,e="siddhi")=>D.delete(`/admin-supabase/categories/${t}?store=${e}`),getCoupons:(t={})=>D.get("/admin-supabase/coupons",{params:t}),addCoupon:(t,e="siddhi")=>D.post(`/admin-supabase/coupons?store=${e}`,t),updateCoupon:(t,e,r="siddhi")=>D.put(`/admin-supabase/coupons/${t}?store=${r}`,e),deleteCoupon:(t,e="siddhi")=>D.delete(`/admin-supabase/coupons/${t}?store=${e}`),getTransactions:(t={})=>D.get("/admin-supabase/transactions",{params:t}),getCoupons:(t={})=>D.get("/admin-supabase/coupons",{params:t}),getReports:(t={})=>D.get("/admin-supabase/reports",{params:t}),subscribeRealtime:(t="siddhi")=>D.get(`/admin-supabase/realtime/subscribe?store=${t}`),blockCustomer:(t,e)=>D.put(`/admin/customers/${t}/block`,{isBlocked:e}),getCoupons:(t={})=>D.get("/coupons",{params:t}),getCoupon:t=>D.get(`/coupons/${t}`),createCoupon:t=>D.post("/coupons",t),updateCoupon:(t,e)=>D.put(`/coupons/${t}`,e),deleteCoupon:t=>D.delete(`/coupons/${t}`),validateCoupon:(t,e)=>D.get(`/coupons/validate/${t}`,{params:{orderAmount:e}})},T1={},$h=t=>{let e;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const g=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(m=>m(e,g))}},s=()=>e,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(T1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,s,c);return c},R1=t=>t?$h(t):$h;var x0={exports:{}},w0={},b0={exports:{}},j0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=j;function P1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var A1=typeof Object.is=="function"?Object.is:P1,L1=Dn.useState,I1=Dn.useEffect,$1=Dn.useLayoutEffect,D1=Dn.useDebugValue;function M1(t,e){var r=e(),n=L1({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return $1(function(){s.value=r,s.getSnapshot=e,Xa(s)&&i({inst:s})},[t,r,e]),I1(function(){return Xa(s)&&i({inst:s}),t(function(){Xa(s)&&i({inst:s})})},[t]),D1(r),r}function Xa(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!A1(t,r)}catch{return!0}}function F1(t,e){return e()}var U1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?F1:M1;j0.useSyncExternalStore=Dn.useSyncExternalStore!==void 0?Dn.useSyncExternalStore:U1;b0.exports=j0;var B1=b0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=j,z1=B1;function q1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var W1=typeof Object.is=="function"?Object.is:q1,V1=z1.useSyncExternalStore,H1=fa.useRef,Q1=fa.useEffect,K1=fa.useMemo,J1=fa.useDebugValue;w0.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=H1(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=K1(function(){function c(g){if(!u){if(u=!0,d=g,g=n(g),s!==void 0&&a.hasValue){var m=a.value;if(s(m,g))return h=m}return h=g}if(m=h,W1(d,g))return m;var w=n(g);return s!==void 0&&s(m,w)?(d=g,m):(d=g,h=w)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,r,n,s]);var l=V1(t,i[0],i[1]);return Q1(function(){a.hasValue=!0,a.value=l},[l]),J1(l),l};x0.exports=w0;var G1=x0.exports;const Y1=Lc(G1),N0={},{useDebugValue:X1}=ce,{useSyncExternalStoreWithSelector:Z1}=Y1;let Dh=!1;const e2=t=>t;function t2(t,e=e2,r){(N0?"production":void 0)!=="production"&&r&&!Dh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Dh=!0);const n=Z1(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return X1(n),n}const Mh=t=>{(N0?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?R1(t):t,r=(n,s)=>t2(e,n,s);return Object.assign(r,e),r},ma=t=>t?Mh(t):Mh,r2={};function n2(t,e){let r;try{r=t()}catch{return}return{getItem:s=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(s))!=null?i:null;return l instanceof Promise?l.then(a):a(l)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const Hs=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Hs(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Hs(n)(r)}}}},s2=(t,e)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...e},a=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,s);const d=Hs(i.serialize),h=()=>{const x=i.partialize({...n()});let v;const p=d({state:x,version:i.version}).then(y=>u.setItem(i.name,y)).catch(y=>{v=y});if(v)throw v;return p},f=s.setState;s.setState=(x,v)=>{f(x,v),h()};const g=t((...x)=>{r(...x),h()},n,s);let m;const w=()=>{var x;if(!u)return;a=!1,l.forEach(p=>p(n()));const v=((x=i.onRehydrateStorage)==null?void 0:x.call(i,n()))||void 0;return Hs(u.getItem.bind(u))(i.name).then(p=>{if(p)return i.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return i.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var y;return m=i.merge(p,(y=n())!=null?y:g),r(m,!0),h()}).then(()=>{v==null||v(m,void 0),a=!0,c.forEach(p=>p(m))}).catch(p=>{v==null||v(void 0,p)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},w(),m||g},i2=(t,e)=>(r,n,s)=>{let i={storage:n2(()=>localStorage),partialize:w=>w,version:0,merge:(w,x)=>({...x,...w}),...e},a=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...w)},n,s);const d=()=>{const w=i.partialize({...n()});return u.setItem(i.name,{state:w,version:i.version})},h=s.setState;s.setState=(w,x)=>{h(w,x),d()};const f=t((...w)=>{r(...w),d()},n,s);s.getInitialState=()=>f;let g;const m=()=>{var w,x;if(!u)return;a=!1,l.forEach(p=>{var y;return p((y=n())!=null?y:f)});const v=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(w=n())!=null?w:f))||void 0;return Hs(u.getItem.bind(u))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return[!0,i.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var y;const[b,S]=p;if(g=i.merge(S,(y=n())!=null?y:f),r(g,!0),b)return d()}).then(()=>{v==null||v(g,void 0),g=n(),a=!0,c.forEach(p=>p(g))}).catch(p=>{v==null||v(void 0,p)})};return s.persist={setOptions:w=>{i={...i,...w},w.storage&&(u=w.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},i.skipHydration||m(),g||f},o2=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((r2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),s2(t,e)):i2(t,e),k0=o2,_r=ma(k0((t,e)=>({items:[],total:0,itemCount:0,addItem:(r,n=1,s="")=>{console.log("Cart store - addItem called with:",r);const i=e().items,a=i.findIndex(l=>l.id===r.id&&l.notes===s);if(a>-1){const l=i.map((c,u)=>u===a?{...c,quantity:c.quantity+n}:c);t({items:l}),console.log("Updated existing item in cart")}else{const l={id:r.id,name:r.name,description:r.description,price:r.price,size:r.size,imageUrl:r.imageUrl,isVeg:r.isVeg,quantity:n,notes:s};t({items:[...i,l]}),console.log("Added new item to cart:",l)}e().calculateTotal(),console.log("Cart total calculated:",e().total)},removeItem:(r,n="")=>{const s=e().items.filter(i=>!(i.id===r&&i.notes===n));t({items:s}),e().calculateTotal()},updateQuantity:(r,n,s="")=>{if(n<=0){e().removeItem(r,s);return}const i=e().items.map(a=>a.id===r&&a.notes===s?{...a,quantity:n}:a);t({items:i}),e().calculateTotal()},clearCart:()=>{t({items:[],total:0,itemCount:0})},calculateTotal:()=>{const r=e().items,n=r.reduce((i,a)=>i+a.price*a.quantity,0),s=r.reduce((i,a)=>i+a.quantity,0);t({total:n,itemCount:s})},getItemQuantity:(r,n="")=>{const s=e().items.find(i=>i.id===r&&i.notes===n);return s?s.quantity:0}}),{name:"siddhi-cart",partialize:t=>({items:t.items,total:t.total,itemCount:t.itemCount})})),Xr=ma(k0((t,e)=>({storeSlug:"siddhi",storeData:null,customer:{name:"",phone:"",email:"",address:""},currentOrder:null,adminToken:null,adminUser:null,isCartOpen:!1,selectedCategory:"all",searchQuery:"",setStoreSlug:r=>t({storeSlug:r}),setStoreData:r=>t({storeData:r}),setCustomer:r=>t({customer:r}),updateCustomer:r=>t(n=>({customer:{...n.customer,...r}})),setCurrentOrder:r=>t({currentOrder:r}),clearCurrentOrder:()=>t({currentOrder:null}),setAdminAuth:(r,n)=>{console.log("Setting admin auth:",{token:r,user:n}),t({adminToken:r,adminUser:n})},clearAdminAuth:()=>t({adminToken:null,adminUser:null}),setCartOpen:r=>t({isCartOpen:r}),setSelectedCategory:r=>t({selectedCategory:r}),setSearchQuery:r=>t({searchQuery:r}),isAdminAuthenticated:()=>{const{adminToken:r}=e();return!!r},getCustomerInfo:()=>{const{customer:r}=e();return{name:r.name,phone:r.phone,email:r.email,address:r.address}}}),{name:"siddhi-app",partialize:t=>({storeSlug:t.storeSlug,customer:t.customer,adminToken:t.adminToken,adminUser:t.adminUser,selectedCategory:t.selectedCategory,searchQuery:t.searchQuery})}));ma((t,e)=>({orders:[],currentOrder:null,isLoading:!1,error:null,setOrders:r=>t({orders:r}),addOrder:r=>t(n=>({orders:[r,...n.orders]})),updateOrder:(r,n)=>t(s=>({orders:s.orders.map(i=>i.id===r?{...i,...n}:i)})),setCurrentOrder:r=>t({currentOrder:r}),clearCurrentOrder:()=>t({currentOrder:null}),setLoading:r=>t({isLoading:r}),setError:r=>t({error:r}),clearError:()=>t({error:null})}));ma((t,e)=>({dashboardData:null,orders:[],ordersPagination:null,customers:[],customersPagination:null,coupons:[],couponsPagination:null,isLoading:{dashboard:!1,orders:!1,customers:!1,coupons:!1},errors:{dashboard:null,orders:null,customers:null,coupons:null},setDashboardData:r=>t({dashboardData:r}),setOrders:(r,n)=>t({orders:r,ordersPagination:n}),addOrder:r=>t(n=>({orders:[r,...n.orders]})),updateOrder:(r,n)=>t(s=>({orders:s.orders.map(i=>i.id===r?{...i,...n}:i)})),setCustomers:(r,n)=>t({customers:r,customersPagination:n}),updateCustomer:(r,n)=>t(s=>({customers:s.customers.map(i=>i.id===r?{...i,...n}:i)})),setCoupons:(r,n)=>t({coupons:r,couponsPagination:n}),addCoupon:r=>t(n=>({coupons:[r,...n.coupons]})),updateCoupon:(r,n)=>t(s=>({coupons:s.coupons.map(i=>i.id===r?{...i,...n}:i)})),removeCoupon:r=>t(n=>({coupons:n.coupons.filter(s=>s.id!==r)})),setLoading:(r,n)=>t(s=>({isLoading:{...s.isLoading,[r]:n}})),setError:(r,n)=>t(s=>({errors:{...s.errors,[r]:n}})),clearError:r=>t(n=>({errors:{...n.errors,[r]:null}}))}));const $u=({isOpen:t,onClose:e})=>{const r=ht(),n=qn(),{itemCount:s}=_r(),i=[{id:"home",label:"Home",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),path:"/"},{id:"menu",label:"Menu",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),path:"/menu"},{id:"cart",label:"Cart",icon:o.jsxs("div",{className:"relative",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),s>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:s>99?"99+":s})]}),path:"/cart"},{id:"admin",label:"Admin",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),path:"/admin/login"}],a=c=>n.pathname===c,l=c=>{r(c.path),e()};return o.jsxs(o.Fragment,{children:[t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:e}),o.jsxs("div",{className:`fixed top-0 right-0 h-full w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out z-50 ${t?"translate-x-0":"translate-x-full"}`,children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold",children:"SIDDHI"}),o.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("nav",{className:"p-4",children:o.jsx("ul",{className:"space-y-4",children:i.map(c=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>l(c),className:`flex items-center w-full p-3 rounded-lg transition-colors ${a(c.path)?"bg-black text-white":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx("span",{className:"mr-3",children:c.icon}),o.jsx("span",{className:"font-medium",children:c.label})]})},c.id))})})]})]})},a2=()=>{const t=ht(),[e]=Ap(),{setStoreSlug:r}=Xr();j.useEffect(()=>{const u=e.get("store");u&&r(u)},[e,r]);const n=()=>{t("/menu")},s=()=>{const u=prompt("Enter your order ID:");u&&t(`/order/${u}`)},i=()=>{t("/admin/login")},[a,l]=j.useState(!1),c=()=>{l(!a)};return o.jsxs("div",{className:"min-h-screen font-['Inter',_system-ui,_-apple-system,_BlinkMacSystemFont,_sans-serif] bg-gray-50",children:[o.jsx("header",{className:"fixed top-0 left-0 right-0 z-10 h-[72px] bg-gray-900",children:o.jsxs("div",{className:"flex items-center justify-between h-full px-5",children:[o.jsx("h1",{className:"uppercase font-bold tracking-wide text-white",children:"SIDDHI"}),o.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-gray-800",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),o.jsx($u,{isOpen:a,onClose:()=>l(!1)}),o.jsx("div",{className:"max-w-[420px] mx-auto px-5 pt-[96px] min-h-screen flex flex-col",children:o.jsxs("main",{className:"flex-1 flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-[180px] h-[180px] mx-auto bg-gray-900 rounded-full flex items-center justify-center mb-6",children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"text-2xl font-bold tracking-wide",children:"SIDDHI"}),o.jsx("div",{className:"text-xs tracking-wide mt-1",children:"BITE INTO HAPPINESS"})]})}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to SIDDHI"}),o.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Experience the fresh taste of happiness"}),o.jsxs("div",{className:"space-y-8 w-full max-w-md mx-auto mb-24",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("button",{onClick:n,className:"w-[230px] bg-gray-900 text-white py-4 px-6 text-lg font-semibold rounded-full shadow-md hover:bg-gray-800 transition-all",children:"View Menu"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[o.jsx("button",{onClick:s,className:"bg-gray-200 text-gray-800 py-4 px-2 rounded-full font-medium hover:bg-gray-300 transition-all",children:"Order Status"}),o.jsx("button",{onClick:i,className:"bg-gray-200 text-gray-800 py-4 px-2 rounded-full font-medium hover:bg-gray-300 transition-all",children:"Admin Login"})]})]})]})})]})},At=Object.create(null);At.open="0";At.close="1";At.ping="2";At.pong="3";At.message="4";At.upgrade="5";At.noop="6";const eo=Object.create(null);Object.keys(At).forEach(t=>{eo[At[t]]=t});const yc={type:"error",data:"parser error"},_0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",S0=typeof ArrayBuffer=="function",C0=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Du=({type:t,data:e},r,n)=>_0&&e instanceof Blob?r?n(e):Fh(e,n):S0&&(e instanceof ArrayBuffer||C0(e))?r?n(e):Fh(new Blob([e]),n):n(At[t]+(e||"")),Fh=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function Uh(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Za;function l2(t,e){if(_0&&t.data instanceof Blob)return t.data.arrayBuffer().then(Uh).then(e);if(S0&&(t.data instanceof ArrayBuffer||C0(t.data)))return e(Uh(t.data));Du(t,!1,r=>{Za||(Za=new TextEncoder),e(Za.encode(r))})}const Bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Bh.length;t++)hs[Bh.charCodeAt(t)]=t;const c2=t=>{let e=t.length*.75,r=t.length,n,s=0,i,a,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(n=0;n<r;n+=4)i=hs[t.charCodeAt(n)],a=hs[t.charCodeAt(n+1)],l=hs[t.charCodeAt(n+2)],c=hs[t.charCodeAt(n+3)],d[s++]=i<<2|a>>4,d[s++]=(a&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},u2=typeof ArrayBuffer=="function",Mu=(t,e)=>{if(typeof t!="string")return{type:"message",data:E0(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:d2(t.substring(1),e)}:eo[r]?t.length>1?{type:eo[r],data:t.substring(1)}:{type:eo[r]}:yc},d2=(t,e)=>{if(u2){const r=c2(t);return E0(r,e)}else return{base64:!0,data:t}},E0=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},O0="",h2=(t,e)=>{const r=t.length,n=new Array(r);let s=0;t.forEach((i,a)=>{Du(i,!1,l=>{n[a]=l,++s===r&&e(n.join(O0))})})},f2=(t,e)=>{const r=t.split(O0),n=[];for(let s=0;s<r.length;s++){const i=Mu(r[s],e);if(n.push(i),i.type==="error")break}return n};function m2(){return new TransformStream({transform(t,e){l2(t,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(r)})}})}let el;function Ei(t){return t.reduce((e,r)=>e+r.length,0)}function Oi(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)r[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function p2(t,e){el||(el=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(a,l){for(r.push(a);;){if(n===0){if(Ei(r)<1)break;const c=Oi(r,1);i=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(Ei(r)<2)break;const c=Oi(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Ei(r)<8)break;const c=Oi(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(yc);break}s=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(Ei(r)<s)break;const c=Oi(r,s);l.enqueue(Mu(i?c:el.decode(c),e)),n=0}if(s===0||s>t){l.enqueue(yc);break}}}})}const T0=4;function fe(t){if(t)return g2(t)}function g2(t){for(var e in fe.prototype)t[e]=fe.prototype[e];return t}fe.prototype.on=fe.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};fe.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};fe.prototype.off=fe.prototype.removeListener=fe.prototype.removeAllListeners=fe.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===e||n.fn===e){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+t],this};fe.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,e)}return this};fe.prototype.emitReserved=fe.prototype.emit;fe.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};fe.prototype.hasListeners=function(t){return!!this.listeners(t).length};const pa=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),ot=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),y2="arraybuffer";function R0(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const v2=ot.setTimeout,x2=ot.clearTimeout;function ga(t,e){e.useNativeTimers?(t.setTimeoutFn=v2.bind(ot),t.clearTimeoutFn=x2.bind(ot)):(t.setTimeoutFn=ot.setTimeout.bind(ot),t.clearTimeoutFn=ot.clearTimeout.bind(ot))}const w2=1.33;function b2(t){return typeof t=="string"?j2(t):Math.ceil((t.byteLength||t.size)*w2)}function j2(t){let e=0,r=0;for(let n=0,s=t.length;n<s;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function P0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function N2(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function k2(t){let e={},r=t.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class _2 extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class Fu extends fe{constructor(e){super(),this.writable=!1,ga(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new _2(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=Mu(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=N2(e);return r.length?"?"+r:""}}class S2 extends Fu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};f2(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,h2(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=P0()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let A0=!1;try{A0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const C2=A0;function E2(){}class O2 extends S2{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let En=class to extends fe{constructor(e,r,n){super(),this.createRequest=e,ga(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=R0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=to.requestsCount++,to.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=E2,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete to.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};En.requestsCount=0;En.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",zh);else if(typeof addEventListener=="function"){const t="onpagehide"in ot?"pagehide":"unload";addEventListener(t,zh,!1)}}function zh(){for(let t in En.requests)En.requests.hasOwnProperty(t)&&En.requests[t].abort()}const T2=function(){const t=L0({xdomain:!1});return t&&t.responseType!==null}();class R2 extends O2{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=T2&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new En(L0,this.uri(),e)}}function L0(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||C2))return new XMLHttpRequest}catch{}if(!e)try{return new ot[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const I0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class P2 extends Fu{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=I0?{}:R0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;Du(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&pa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=P0()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const tl=ot.WebSocket||ot.MozWebSocket;class A2 extends P2{createSocket(e,r,n){return I0?new tl(e,r,n):r?new tl(e,r):new tl(e)}doWrite(e,r){this.ws.send(r)}}class L2 extends Fu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=p2(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),s=m2();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;this._writer.write(n).then(()=>{s&&pa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const I2={websocket:A2,webtransport:L2,polling:R2},$2=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,D2=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function vc(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let s=$2.exec(t||""),i={},a=14;for(;a--;)i[D2[a]]=s[a]||"";return r!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=M2(i,i.path),i.queryKey=F2(i,i.query),i}function M2(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function F2(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const xc=typeof addEventListener=="function"&&typeof removeEventListener=="function",ro=[];xc&&addEventListener("offline",()=>{ro.forEach(t=>t())},!1);class vr extends fe{constructor(e,r){if(super(),this.binaryType=y2,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=vc(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=vc(r.host).host);ga(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=k2(this.opts.query)),xc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ro.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=T0,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&vr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",vr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=b2(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,pa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(vr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),xc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=ro.indexOf(this._offlineEventListener);n!==-1&&ro.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}vr.protocol=T0;class U2 extends vr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;vr.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;vr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function i(){n||(n=!0,d(),r.close(),r=null)}const a=h=>{const f=new Error("probe error: "+h);f.transport=r.name,i(),this.emitReserved("upgradeError",f)};function l(){a("transport closed")}function c(){a("socket closed")}function u(h){r&&h.name!==r.name&&i()}const d=()=>{r.removeListener("open",s),r.removeListener("error",a),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",s),r.once("error",a),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let B2=class extends U2{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>I2[s]).filter(s=>!!s)),super(e,n)}};function z2(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=vc(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const q2=typeof ArrayBuffer=="function",W2=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,$0=Object.prototype.toString,V2=typeof Blob=="function"||typeof Blob<"u"&&$0.call(Blob)==="[object BlobConstructor]",H2=typeof File=="function"||typeof File<"u"&&$0.call(File)==="[object FileConstructor]";function Uu(t){return q2&&(t instanceof ArrayBuffer||W2(t))||V2&&t instanceof Blob||H2&&t instanceof File}function no(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(no(t[r]))return!0;return!1}if(Uu(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return no(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&no(t[r]))return!0;return!1}function Q2(t){const e=[],r=t.data,n=t;return n.data=wc(r,e),n.attachments=e.length,{packet:n,buffers:e}}function wc(t,e){if(!t)return t;if(Uu(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=wc(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=wc(t[n],e));return r}return t}function K2(t,e){return t.data=bc(t.data,e),delete t.attachments,t}function bc(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=bc(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=bc(t[r],e));return t}const J2=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],G2=5;var W;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(W||(W={}));class Y2{constructor(e){this.replacer=e}encode(e){return(e.type===W.EVENT||e.type===W.ACK)&&no(e)?this.encodeAsBinary({type:e.type===W.EVENT?W.BINARY_EVENT:W.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===W.BINARY_EVENT||e.type===W.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=Q2(e),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function qh(t){return Object.prototype.toString.call(t)==="[object Object]"}class Bu extends fe{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===W.BINARY_EVENT;n||r.type===W.BINARY_ACK?(r.type=n?W.EVENT:W.ACK,this.reconstructor=new X2(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Uu(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(W[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===W.BINARY_EVENT||n.type===W.BINARY_ACK){const i=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const a=e.substring(i,r);if(a!=Number(a)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(i,r)}else n.nsp="/";const s=e.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const a=e.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===e.length)break}n.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){const i=this.tryParse(e.substr(r));if(Bu.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case W.CONNECT:return qh(r);case W.DISCONNECT:return r===void 0;case W.CONNECT_ERROR:return typeof r=="string"||qh(r);case W.EVENT:case W.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&J2.indexOf(r[0])===-1);case W.ACK:case W.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class X2{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=K2(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Z2=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Bu,Encoder:Y2,get PacketType(){return W},protocol:G2},Symbol.toStringTag,{value:"Module"}));function yt(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const ej=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class D0 extends fe{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[yt(e,"open",this.onopen.bind(this)),yt(e,"packet",this.onpacket.bind(this)),yt(e,"error",this.onerror.bind(this)),yt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,s,i;if(ej.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const a={type:W.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,h=r.pop();this._registerAckCallback(d,h),a.id=d}const l=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},s),a=(...l)=>{this.io.clearTimeoutFn(i),r.apply(this,l)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...r){return new Promise((n,s)=>{const i=(a,l)=>a?s(a):n(l);i.withError=!0,r.push(i),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:W.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case W.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case W.EVENT:case W.BINARY_EVENT:this.onevent(e);break;case W.ACK:case W.BINARY_ACK:this.onack(e);break;case W.DISCONNECT:this.ondisconnect();break;case W.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:W.ACK,id:e,data:s}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:W.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Kn(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Kn.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};Kn.prototype.reset=function(){this.attempts=0};Kn.prototype.setMin=function(t){this.ms=t};Kn.prototype.setMax=function(t){this.max=t};Kn.prototype.setJitter=function(t){this.jitter=t};class jc extends fe{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,ga(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Kn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const s=r.parser||Z2;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new B2(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=yt(r,"open",function(){n.onopen(),e&&e()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},a=yt(r,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(yt(e,"ping",this.onping.bind(this)),yt(e,"data",this.ondata.bind(this)),yt(e,"error",this.onerror.bind(this)),yt(e,"close",this.onclose.bind(this)),yt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){pa(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new D0(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const os={};function so(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=z2(t,e.path||"/socket.io"),n=r.source,s=r.id,i=r.path,a=os[s]&&i in os[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let c;return l?c=new jc(n,e):(os[s]||(os[s]=new jc(n,e)),c=os[s]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(so,{Manager:jc,Socket:D0,io:so,connect:so});class tj{constructor(){this.socket=null,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3}connect(e){if(this.socket&&this.isConnected)return this.socket;const r="https://your-render-app.onrender.com/api";return this.socket=so(r,{transports:["websocket","polling"],timeout:3e4,forceNew:!1,autoConnect:!0,reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:2e3,reconnectionDelayMax:1e4,maxReconnectionAttempts:1/0,pingTimeout:6e4,pingInterval:3e4,upgrade:!0,rememberUpgrade:!0}),this.setupEventListeners(e),this.socket}setupEventListeners(e){this.socket&&(this.socket.on("connect",()=>{console.log("✅ Socket connected:",this.socket.id),this.isConnected=!0,this.reconnectAttempts=0,e&&this.socket.emit("join-store",e),this.startPingPong()}),this.socket.on("joined-store",r=>{console.log("🏪 Joined store room:",r)}),this.socket.on("joined-admin",r=>{console.log("👨‍💼 Joined admin room:",r)}),this.socket.on("pong",()=>{console.log("🏓 Pong received - connection healthy")}),this.socket.on("disconnect",r=>{console.log("Socket disconnected:",r),this.isConnected=!1,console.log("Connection lost, attempting to reconnect silently..."),this.handleReconnect()}),this.socket.on("connect_error",r=>{console.log("Socket connection error:",r.message),this.isConnected=!1,console.log("Connection error, retrying silently..."),this.handleReconnect()}),this.socket.on("order.created",r=>{console.log("New order created:",r),U.success(`New order #${r.orderNumber} received!`)}),this.socket.on("order.updated",r=>{console.log("Order updated:",r)}),this.socket.on("order.status.changed",r=>{console.log("Order status changed:",r),U.info(`Order #${r.orderNumber} status: ${r.status}`)}),this.socket.on("payment.completed",r=>{console.log("Payment completed:",r),U.success("Payment successful!")}),this.socket.on("payment.failed",r=>{console.log("Payment failed:",r),U.error("Payment failed. Please try again.")}),this.socket.on("payment.received",r=>{console.log("Payment received:",r),U.success(`Payment received for order #${r.orderNumber}`)}),this.socket.on("inventory.low",r=>{console.log("Low inventory alert:",r),U.warning(`Low stock: ${r.menuItemName} (${r.currentQuantity} ${r.unit} left)`)}),this.socket.on("inventory.restocked",r=>{console.log("Inventory restocked:",r),U.success(`${r.menuItemName} restocked: ${r.newQuantity} ${r.unit}`)}),this.socket.on("menu.availability.changed",r=>{console.log("Menu availability changed:",r)}),this.socket.on("menu.statistics.updated",r=>{console.log("Menu statistics updated:",r)}),this.socket.on("menu.item.added",r=>{console.log("Menu item added:",r)}),this.socket.on("menu.item.updated",r=>{console.log("Menu item updated:",r)}),this.socket.on("menu.item.deleted",r=>{console.log("Menu item deleted:",r)}),this.socket.on("category.added",r=>{console.log("Category added:",r)}),this.socket.on("category.updated",r=>{console.log("Category updated:",r)}),this.socket.on("category.deleted",r=>{console.log("Category deleted:",r)}))}handleReconnect(){this.reconnectAttempts++;const e=Math.min(this.reconnectDelay*Math.pow(1.5,this.reconnectAttempts-1),1e4);console.log(`Attempting to reconnect in ${e}ms (attempt ${this.reconnectAttempts})`),setTimeout(()=>{this.socket&&!this.isConnected&&this.socket.connect()},e)}joinOrder(e){this.socket&&this.isConnected&&this.socket.emit("join-order",e)}leaveOrder(e){this.socket&&this.isConnected&&this.socket.emit("leave-order",e)}disconnect(){this.socket&&(this.stopPingPong(),this.socket.disconnect(),this.socket=null,this.isConnected=!1)}onOrderUpdate(e){this.socket&&this.socket.on("order.updated",e)}onPaymentUpdate(e){this.socket&&(this.socket.on("payment.completed",e),this.socket.on("payment.failed",e))}onInventoryAlert(e){this.socket&&this.socket.on("inventory.low",e)}off(e,r){this.socket&&this.socket.off(e,r)}startPingPong(){this.pingInterval&&clearInterval(this.pingInterval),this.pingInterval=setInterval(()=>{this.socket&&this.isConnected&&this.socket.emit("ping")},3e4)}stopPingPong(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}getConnectionStatus(){var e;return{isConnected:this.isConnected,socketId:(e=this.socket)==null?void 0:e.id,reconnectAttempts:this.reconnectAttempts}}}const Mt=new tj,rj=t=>{const[e,r]=j.useState(!1),[n,s]=j.useState(!1),i=Wn(),{data:a,isLoading:l,error:c,refetch:u}=Vn(["menu",t],()=>Le.getStore(t),{enabled:!!t,staleTime:30*1e3,cacheTime:2*60*1e3,refetchOnWindowFocus:!1});return j.useEffect(()=>{if(!t)return;console.log("🔌 Setting up real-time menu updates for store:",t);const d=Mt.connect(t),h=()=>{console.log("📡 Socket connected, setting up menu listeners");const m=y=>{console.log("🔄 Menu availability changed:",y);const b=y.isAvailable?"Available":"Out of Stock";U.success(`${y.itemName} is now ${b}`,{duration:3e3,icon:y.isAvailable?"✅":"❌"}),r(!0),i.invalidateQueries(["menu",t]),u().finally(()=>{setTimeout(()=>r(!1),1e3)})},w=y=>{console.log("📊 Menu statistics updated:",y),i.invalidateQueries(["menu",t])},x=y=>{console.log("➕ Menu item added:",y);const b=y.item.isAvailable?"Available":"Out of Stock";U.success(`New item added: ${y.item.name} (${b})`,{duration:3e3,icon:"🍽️"}),r(!0),i.invalidateQueries(["menu",t]),u().finally(()=>{setTimeout(()=>r(!1),1e3)})},v=y=>{console.log("✏️ Menu item updated:",y);const b=y.item.isAvailable?"Available":"Out of Stock";U.success(`Item updated: ${y.item.name} (${b})`,{duration:3e3,icon:"✏️"}),r(!0),i.invalidateQueries(["menu",t]),u().finally(()=>{setTimeout(()=>r(!1),1e3)})},p=y=>{console.log("🗑️ Menu item deleted:",y),U.success(`Item removed: ${y.itemName}`,{duration:3e3,icon:"🗑️"}),r(!0),i.invalidateQueries(["menu",t]),u().finally(()=>{setTimeout(()=>r(!1),1e3)})};return d.on("menu.availability.changed",m),d.on("menu.statistics.updated",w),d.on("menu.item.added",x),d.on("menu.item.updated",v),d.on("menu.item.deleted",p),()=>{d.off("menu.availability.changed",m),d.off("menu.statistics.updated",w),d.off("menu.item.added",x),d.off("menu.item.updated",v),d.off("menu.item.deleted",p)}},f=h();d.on("connect",()=>{console.log("✅ Socket connected for menu updates"),s(!0),h()}),d.on("disconnect",()=>{console.log("🔌 Socket disconnected for menu updates"),s(!1)}),d.on("connect_error",m=>{console.error("❌ Socket connection error for menu:",m),s(!1)});const g=setInterval(()=>{n||(console.log("🔄 Socket not connected, refetching menu data..."),u())},1e4);return()=>{f(),clearInterval(g)}},[t,u,i]),{menuData:a,isLoading:l,error:c,isUpdating:e,refetch:u}},zu=({size:t="md",className:e=""})=>{const r={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return o.jsx("div",{className:`flex items-center justify-center ${e}`,children:o.jsx("div",{className:`${r[t]} border-4 border-gray-200 border-t-gray-900 rounded-full animate-spin`,role:"status","aria-label":"Loading",children:o.jsx("span",{className:"sr-only",children:"Loading..."})})})},nj=({item:t})=>{const{addItem:e}=_r(),r=()=>{t.isAvailable&&e(t,1,"")};return o.jsx("div",{className:`bg-white rounded-xl p-6 shadow-md transition-all duration-200 hover:shadow-lg ${t.isAvailable?"":"opacity-60"}`,children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:t.name}),!t.isAvailable&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Out of Stock"})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:t.description}),o.jsxs("p",{className:"font-semibold text-gray-900 text-base mb-3",children:["₹",t.price]}),o.jsx("div",{className:"self-end",children:o.jsx("button",{onClick:r,disabled:!t.isAvailable,className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t.isAvailable?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:t.isAvailable?"Add to Cart":"Out of Stock"})})]})})},sj=({isOpen:t,onClose:e,onCheckout:r})=>{const{items:n,total:s,itemCount:i,updateQuantity:a,removeItem:l}=_r(),c=u=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(u);return t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:e}),o.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-xl shadow-lg z-50 max-h-[80vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Cart (",i," ",i===1?"item":"items",")"]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})})}),o.jsx("p",{className:"text-gray-600",children:"Your cart is empty"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Add some delicious items to get started!"})]}):o.jsx("div",{className:"space-y-4",children:n.map((u,d)=>o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex-shrink-0 flex items-center justify-center",children:u.imageUrl?o.jsx("img",{src:u.imageUrl,alt:u.name,className:"w-full h-full object-cover rounded-lg"}):o.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h3",{className:"font-medium text-gray-900 text-sm truncate",children:[u.name,u.size&&o.jsxs("span",{className:"text-gray-500 font-normal ml-1",children:["(",u.size,")"]})]}),u.notes&&o.jsxs("p",{className:"text-xs text-gray-600 mt-1 truncate",children:["Note: ",u.notes]}),o.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:c(u.price)})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>a(u.id,u.quantity-1,u.notes),className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:o.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),o.jsx("span",{className:"w-6 text-center font-medium text-sm",children:u.quantity}),o.jsx("button",{onClick:()=>a(u.id,u.quantity+1,u.notes),className:"w-6 h-6 bg-gray-900 rounded-full flex items-center justify-center hover:bg-gray-800 transition-colors",children:o.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),o.jsx("button",{onClick:()=>l(u.id,u.notes),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:o.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},`${u.id}-${d}`))})}),n.length>0&&o.jsxs("div",{className:"border-t border-gray-200 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),o.jsx("span",{className:"text-lg font-bold text-gray-900",children:c(s)})]}),o.jsx("button",{onClick:r,className:"w-full btn btn-primary py-3 text-lg font-semibold",children:"Proceed to Checkout"})]})]})]}):null},ij=({value:t,onChange:e,placeholder:r="Search...",isLoading:n=!1})=>o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n?o.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):o.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",value:t,onChange:s=>e(s.target.value),placeholder:r,className:"w-full pl-10 pr-4 py-3 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent"}),t&&o.jsx("button",{onClick:()=>e(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("svg",{className:"w-4 h-4 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),M0=({activeTab:t})=>{const e=ht(),r=qn(),{itemCount:n}=_r(),s=c=>t?t===c:r.pathname===c||r.pathname.startsWith(`/${c}`),i=[{id:"home",label:"Home",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),path:"/"},{id:"menu",label:"Menu",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),path:"/menu"},{id:"cart",label:"Cart",icon:o.jsxs("div",{className:"relative",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),n>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:n>99?"99+":n})]}),path:"/cart"}],{setCartOpen:a}=Xr(),l=c=>{c.id==="cart"?a(!0):e(c.path)};return o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-10 bg-white border-t border-gray-200 px-4 py-2",children:o.jsx("div",{className:"flex justify-around",children:i.map(c=>o.jsxs("button",{onClick:()=>l(c),className:`flex flex-col items-center py-2 ${s(c.id)?"text-gray-900":"text-gray-600"}`,children:[o.jsx("div",{className:`w-6 h-6 mb-1 ${s(c.id)?"text-gray-900":"text-gray-600"}`,children:c.icon}),o.jsx("span",{className:"text-xs font-medium",children:c.label})]},c.id))})})},oj=()=>{var C;const[t]=Ap(),e=ht(),{storeSlug:r,setStoreSlug:n,selectedCategory:s,setSelectedCategory:i,searchQuery:a,setSearchQuery:l,isCartOpen:c,setCartOpen:u}=Xr(),{addItem:d}=_r(),[h,f]=j.useState(!1),g=()=>{f(!h)},m=t.get("store")||r;j.useEffect(()=>{m&&n(m)},[m,n]);const{menuData:w,isLoading:x,error:v,isUpdating:p,refetch:y}=rj(m);j.useEffect(()=>{const R=()=>{document.hidden||(console.log("👁️ Page became visible, refetching menu data..."),y())};return document.addEventListener("visibilitychange",R),()=>{document.removeEventListener("visibilitychange",R)}},[y]);const b=R=>{i(R)},S=R=>{l(R)},N=R=>{console.log("Adding to cart:",R),d({id:R.id,name:R.name,price:R.price,imageUrl:R.imageUrl,quantity:1,notes:""})},_=()=>{e("/cart")};if(x)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx(zu,{size:"lg"})});if(v)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to load menu"}),o.jsx("p",{className:"text-gray-600 mb-4",children:v.message}),o.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-primary",children:"Try Again"})]})});let E=[],A=[];if(w!=null&&w.categories?A=w.categories:w!=null&&w.menu?A=w.menu:Array.isArray(w)&&(A=w),A.length>0)if(s==="all")E=A.flatMap(R=>R.items||[]);else{const R=A.find(J=>J.slug===s);E=(R==null?void 0:R.items)||[]}if(a&&a.trim()){const R=a.toLowerCase().trim();E=E.filter(J=>{var ee,Y,Ee;return J.name.toLowerCase().includes(R)||((ee=J.description)==null?void 0:ee.toLowerCase().includes(R))||((Ee=(Y=J.category)==null?void 0:Y.name)==null?void 0:Ee.toLowerCase().includes(R))})}return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col pb-16",children:[o.jsxs("header",{className:"bg-white px-4 py-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"S"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SIDDHI"})})]}),p&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-600",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Updating..."})]})]}),o.jsx("button",{onClick:g,className:"p-2 rounded-full hover:bg-gray-100",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),o.jsx("div",{className:"mt-4",children:o.jsx(ij,{value:a,onChange:S,placeholder:"Search for your favorite dishes..."})})]}),o.jsx($u,{isOpen:h,onClose:()=>f(!1)}),o.jsx("div",{className:"bg-white px-4 pb-0 border-b-0",children:o.jsxs("div",{className:"flex space-x-4 overflow-x-auto py-2 no-scrollbar",style:{marginBottom:0},children:[o.jsx("button",{onClick:()=>b("all"),className:`px-8 py-2 text-sm font-medium whitespace-nowrap transition-all duration-200 ${s==="all"?"bg-black text-white rounded-full shadow-md":"text-gray-600 hover:text-black hover:bg-gray-100 rounded-full"}`,children:"All Items"}),A.map(R=>o.jsx("button",{onClick:()=>b(R.slug),className:`px-8 py-2 text-sm font-medium whitespace-nowrap transition-all duration-200 ${s===R.slug?"bg-black text-white rounded-full shadow-md":"text-gray-600 hover:text-black hover:bg-gray-100 rounded-full"}`,children:R.name},R.slug))]})}),o.jsxs("main",{className:"flex-1 px-4 py-6",children:[s!=="all"&&o.jsx("div",{className:"mb-6",children:o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:((C=A.find(R=>R.slug===s))==null?void 0:C.name)||"Menu Items"})}),o.jsx("div",{className:"grid gap-4",children:E.map((R,J)=>o.jsx(nj,{item:R,onAddToCart:()=>N(R)},`${R.id}-${J}`))}),E.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-6",children:o.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-1.009-5.824-2.709M15 6.708A7.962 7.962 0 0012 5c-2.34 0-4.29 1.009-5.824 2.709"})})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No items found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:a?"Try searching for something else":"No items available in this category"}),a&&o.jsx("button",{onClick:()=>l(""),className:"text-orange-500 hover:text-orange-600 font-medium",children:"Clear search"})]})]}),c&&o.jsx(sj,{isOpen:c,onClose:()=>u(!1),onCheckout:_}),o.jsx(M0,{activeTab:"menu"})]})},aj=()=>{const t=ht(),{items:e,total:r,itemCount:n,updateQuantity:s,removeItem:i,clearCart:a}=_r(),l=g=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(g),c=()=>{t("/menu")},u=()=>{t("/checkout")},[d,h]=j.useState(!1),f=()=>{h(!d)};return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[o.jsx("header",{className:"bg-white px-4 py-6 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Cart"}),o.jsx("button",{onClick:f,className:"p-2 rounded-full hover:bg-gray-100",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),o.jsx($u,{isOpen:d,onClose:()=>h(!1)}),o.jsx("main",{className:"flex-1 px-4 py-6",children:e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[o.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-6",children:o.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Looks like you haven't added any items to your cart yet."}),o.jsx("button",{onClick:c,className:"bg-black text-white px-8 py-3 rounded-full text-base font-medium hover:bg-gray-800 transition-colors",children:"Browse Menu"})]}):o.jsx("div",{className:"space-y-4",children:e.map((g,m)=>o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex-shrink-0 flex items-center justify-center",children:g.imageUrl?o.jsx("img",{src:g.imageUrl,alt:g.name,className:"w-full h-full object-cover rounded-lg"}):o.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:[g.name,g.size&&o.jsxs("span",{className:"text-gray-500 font-normal ml-1",children:["(",g.size,")"]})]}),g.notes&&o.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Note: ",g.notes]}),o.jsx("p",{className:"text-base font-semibold text-gray-900",children:l(g.price)})]}),o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>s(g.id,g.quantity-1,g.notes),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),o.jsx("span",{className:"w-8 text-center font-semibold text-lg",children:g.quantity}),o.jsx("button",{onClick:()=>s(g.id,g.quantity+1,g.notes),className:"w-8 h-8 bg-black rounded-full flex items-center justify-center hover:bg-gray-800 transition-colors",children:o.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),o.jsx("button",{onClick:()=>i(g.id,g.notes),className:"text-sm text-red-600 hover:text-red-800 font-medium transition-colors",children:"Remove"})]})]})},`${g.id}-${m}`))})}),e.length>0&&o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total (",n," ",n===1?"item":"items",")"]}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:l(r)})]}),o.jsx("button",{onClick:u,className:"w-full bg-black text-white py-4 rounded-full text-lg font-semibold hover:bg-gray-800 transition-colors mb-3",children:"Proceed to Checkout"}),o.jsx("button",{onClick:a,className:"w-full text-gray-600 py-2 text-sm font-medium hover:text-gray-800 transition-colors",children:"Clear Cart"})]}),o.jsx(M0,{})]})},lj=()=>{const t=ht(),{items:e,total:r,clearCart:n}=_r(),{customer:s,updateCustomer:i,storeSlug:a}=Xr(),[l,c]=j.useState({name:"",phone:"",email:"",address:""}),[u,d]=j.useState(!1),h=m=>{const{name:w,value:x}=m.target;console.log(`Input changed: ${w} = ${x}`),c(v=>({...v,[w]:x}))};j.useEffect(()=>{localStorage.removeItem("siddhi-app"),localStorage.removeItem("siddhi-cart"),i({name:"",phone:"",email:"",address:""}),c({name:"",phone:"",email:"",address:""}),console.log("Checkout component loaded with items:",e)},[i,e]),j.useEffect(()=>{i(l)},[l,i]);const f=async m=>{if(m.preventDefault(),console.log("Form data:",l),console.log("Cart items:",e),!e||e.length===0){alert("Your cart is empty. Please add items from the menu first.");return}if(!l.name||!l.phone||!l.email||!l.address){alert("Please fill in all required fields");return}if(!/^[6-9]\d{9}$/.test(l.phone)){alert("Please enter a valid 10-digit phone number starting with 6, 7, 8, or 9");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)){alert("Please enter a valid email address (e.g., user@example.com)");return}d(!0);try{const w={storeSlug:"siddhi",customer:{name:l.name,phone:l.phone,email:l.email,address:l.address},items:(e||[]).map(p=>({menuItemId:String(p.id),quantity:p.quantity,notes:p.notes||""})),paymentMethod:"UPI",notes:""};console.log("Sending order data:",w);const x=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(console.log("Response status:",x.status),!x.ok){const p=await x.json();throw console.error("API Error:",p),new Error(p.error||"Failed to create order")}const v=await x.json();console.log("Order created successfully:",v),localStorage.setItem("currentOrderId",v.id),localStorage.setItem("currentOrderTotal",v.total),alert(`Order placed successfully! Order Number: ${v.orderNumber}`),n(),t("/payment-complete")}catch(w){console.error("Order creation error:",w),alert(`Failed to place order: ${w.message}`),d(!1)}},g=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(m);return e.length===0?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Add some delicious items to your cart first!"}),o.jsx("button",{onClick:()=>t("/menu"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Browse Menu"})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:o.jsx("div",{className:"px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:()=>t("/menu"),className:"p-2 -ml-2",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Checkout"}),o.jsx("div",{className:"w-10"})]})})}),o.jsxs("div",{className:"px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Customer Information"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Please fill in your details to complete the order"})]})]}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),o.jsx("input",{type:"text",name:"name",value:l.name,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),o.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 9876543210",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),o.jsx("input",{type:"email",name:"email",value:l.email,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., user@example.com",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Address *"}),o.jsx("textarea",{name:"address",value:l.address,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3,placeholder:"e.g., 123 Main Street, City, State",required:!0})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),o.jsx("div",{className:"space-y-3",children:(e||[]).map((m,w)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"font-medium text-gray-900",children:[m.quantity,"x ",m.name,m.size&&o.jsxs("span",{className:"text-gray-500",children:[" (",m.size,")"]})]}),m.notes&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Note: ",m.notes]})]}),o.jsx("p",{className:"font-medium text-gray-900",children:g(m.price*m.quantity)})]},`${m.id}-${w}`))}),o.jsx("div",{className:"border-t border-gray-200 mt-4 pt-4",children:o.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:g(r||0)})]})})]}),o.jsx("button",{onClick:f,disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-lg text-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Placing Order...":`Place Order - ${g(r)}`})]})]})},cj=()=>{const t=ht(),{items:e,total:r,clearCart:n}=_r(),{customer:s}=Xr(),[i,a]=j.useState(15),[l,c]=j.useState(!1),[u,d]=j.useState(0);j.useEffect(()=>{const g=localStorage.getItem("currentOrderTotal");g&&d(parseInt(g))},[]),j.useEffect(()=>{const g=setInterval(()=>{a(m=>m<=1?(h(),0):m-1)},1e3);return()=>clearInterval(g)},[]);const h=async()=>{c(!0);try{const g=localStorage.getItem("currentOrderId");g&&((await fetch(`http://localhost:3001/api/orders/${g}/payment`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentStatus:"COMPLETED"})})).ok||console.error("Failed to update payment status"),localStorage.removeItem("currentOrderId"),localStorage.removeItem("currentOrderTotal")),setTimeout(()=>{n(),t("/")},2e3)}catch(g){console.error("Payment completion error:",g),setTimeout(()=>{n(),t("/")},2e3)}},f=g=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(g);return o.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center px-6",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-20 z-40"}),o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border-0 p-8 w-full max-w-sm mx-auto relative z-50",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Complete Payment"}),o.jsx("p",{className:"text-gray-500",children:"Scan the QR code with PhonePe to pay"})]}),o.jsx("div",{className:"text-center mb-6",children:o.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 inline-block",children:[o.jsx("img",{src:"/qr-code.png",alt:"PhonePe QR Code",className:"w-44 h-44 object-contain",onError:g=>{g.target.style.display="none",g.target.nextSibling.style.display="block"}}),o.jsx("div",{className:"w-44 h-44 bg-gray-50 rounded-xl flex items-center justify-center border border-dashed border-gray-300",style:{display:"none"},children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"पे"})}),o.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"PhonePe QR Code"})]})})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Amount to Pay:"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:f(u)})]})}),o.jsxs("div",{className:"flex items-center justify-center mb-6",children:[o.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center mr-2",children:o.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Auto-close in ",i,"s"]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"How to pay:"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[o.jsx("span",{className:"w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"1"}),"Open PhonePe app"]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[o.jsx("span",{className:"w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"2"}),"Scan this QR code"]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[o.jsx("span",{className:"w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"3"}),"Complete payment"]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[o.jsx("span",{className:"w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"4"}),"Your order will be confirmed"]})]})]}),o.jsx("button",{onClick:h,disabled:l,className:`w-full py-4 rounded-xl font-semibold text-lg transition-all duration-300 ${l?"bg-green-500 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:o.jsx("div",{className:"flex items-center justify-center",children:l?o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Payment Completed!"]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Payment Completed"]})})}),o.jsx("button",{onClick:()=>t("/checkout"),className:"w-full mt-3 py-2 text-gray-500 hover:text-gray-700 font-medium transition-colors",children:"Cancel Payment"})]}),o.jsxs("div",{className:"fixed top-4 left-4 bg-white rounded-lg shadow-md p-4 max-w-xs opacity-80 z-30",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-base",children:"Order Summary"}),o.jsx("div",{className:"space-y-1 text-sm",children:e.map((g,m)=>o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-600",children:[g.quantity,"x ",g.name]}),o.jsx("span",{className:"text-gray-900 font-medium",children:f(g.price*g.quantity)})]},`${g.id}-${m}`))}),o.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:o.jsxs("div",{className:"flex justify-between font-semibold",children:[o.jsx("span",{className:"text-gray-700",children:"Total"}),o.jsx("span",{className:"text-gray-900",children:f(u)})]})})]})]})},uj=()=>{const{id:t}=yx(),e=ht(),{storeSlug:r}=Xr(),[n,s]=j.useState(null),{data:i,isLoading:a,error:l,refetch:c}=Vn(["order",t],()=>Le.getOrder(t),{enabled:!!t,retry:1,refetchInterval:3e4});j.useEffect(()=>{i&&s(i)},[i]),j.useEffect(()=>{if(t){Mt.connect(r),Mt.joinOrder(t);const m=x=>{x.orderId===t&&(s(v=>({...v,status:x.status,estimatedTime:x.estimatedTime,deliveredAt:x.deliveredAt})),U.success(`Order status updated to: ${x.status}`))},w=x=>{x.orderId===t&&s(v=>({...v,paymentStatus:x.status}))};return Mt.onOrderUpdate(m),Mt.onPaymentUpdate(w),()=>{Mt.off("order.updated",m),Mt.off("payment.completed",w),Mt.off("payment.failed",w)}}},[t,r]);const u=m=>{switch(m){case"PENDING":return"text-yellow-600 bg-yellow-100";case"CONFIRMED":return"text-blue-600 bg-blue-100";case"PREPARING":return"text-orange-600 bg-orange-100";case"READY":return"text-purple-600 bg-purple-100";case"OUT_FOR_DELIVERY":return"text-indigo-600 bg-indigo-100";case"DELIVERED":return"text-green-600 bg-green-100";case"CANCELLED":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},d=m=>{switch(m){case"PENDING":return"⏳";case"CONFIRMED":return"✅";case"PREPARING":return"👨‍🍳";case"READY":return"🍽️";case"OUT_FOR_DELIVERY":return"🚚";case"DELIVERED":return"🎉";case"CANCELLED":return"❌";default:return"📋"}},h=()=>n!=null&&n.deliveredAt?"Delivered":n!=null&&n.estimatedTime?`${n.estimatedTime} minutes`:"Calculating...",f=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(m),g=m=>new Date(m).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx(zu,{size:"lg"})}):l||!n?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Not Found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"The order you're looking for doesn't exist."}),o.jsx("button",{onClick:()=>e("/"),className:"btn btn-primary",children:"Go Home"})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:o.jsx("div",{className:"px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Order Status"}),o.jsx("div",{className:"w-10"})]})})}),o.jsxs("div",{className:"px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"card p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Order #",n.orderNumber]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",g(n.createdAt)]})]}),o.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${u(n.status)}`,children:[d(n.status)," ",n.status.replace("_"," ")]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Estimated Time"}),o.jsx("p",{className:"font-medium text-gray-900",children:h()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Payment Status"}),o.jsx("p",{className:`font-medium ${n.paymentStatus==="COMPLETED"?"text-green-600":"text-yellow-600"}`,children:n.paymentStatus})]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Items"}),o.jsx("div",{className:"space-y-3",children:n.items.map((m,w)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"font-medium text-gray-900",children:[m.quantity,"x ",m.menuItem.name,m.menuItem.size&&o.jsxs("span",{className:"text-gray-500",children:[" (",m.menuItem.size,")"]})]}),m.notes&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Note: ",m.notes]})]}),o.jsx("p",{className:"font-medium text-gray-900",children:f(m.price*m.quantity)})]},w))})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsx("span",{className:"text-gray-900",children:f(n.subtotal)})]}),n.discount>0&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsx("span",{children:"Discount"}),o.jsxs("span",{children:["-",f(n.discount)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tax"}),o.jsx("span",{className:"text-gray-900",children:f(n.tax)})]}),o.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-2",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:f(n.total)})]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Name:"}),o.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.customer.name})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Phone:"}),o.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.customer.phone})]}),n.customer.email&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Email:"}),o.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.customer.email})]}),n.customer.address&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Address:"}),o.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.customer.address})]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Store Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Store:"}),o.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.store.name})]}),n.store.phone&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Phone:"}),o.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.store.phone})]}),n.store.address&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Address:"}),o.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n.store.address})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>e("/menu"),className:"w-full btn btn-primary py-3",children:"Order Again"}),o.jsx("button",{onClick:()=>e("/"),className:"w-full btn btn-secondary py-3",children:"Back to Home"})]})]})]})},dj=()=>{const t=ht(),[e,r]=j.useState({email:"admin@siddhi.com",password:"admin123"}),[n,s]=j.useState(""),[i,a]=j.useState(!1),l=async u=>{u.preventDefault(),s(""),a(!0);try{if(!e.email||!e.password){s("Please fill in all fields");return}e.email==="admin@siddhi.com"&&e.password==="admin123"?(localStorage.setItem("admin_token","mock-admin-token"),localStorage.setItem("admin_user",JSON.stringify({id:"admin-1",email:"admin@siddhi.com",name:"Admin User",role:"admin"})),t("/admin")):s("Invalid credentials")}catch(d){s("Login failed. Please try again."),console.error("Login error:",d)}finally{a(!1)}},c=u=>{r({...e,[u.target.name]:u.target.value})};return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-20 h-20 mx-auto bg-gray-800 rounded-full flex items-center justify-center mb-4",children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"text-lg font-bold",children:"SIDDHI"}),o.jsx("div",{className:"text-xs opacity-90",children:"ADMIN"})]})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to manage your restaurant"})]}),n&&o.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),o.jsx("span",{className:"text-sm",children:n}),o.jsx("button",{onClick:()=>s(""),className:"ml-auto text-red-500 hover:text-red-700",children:"×"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),o.jsx("input",{type:"email",name:"email",value:e.email,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-800 focus:border-transparent",required:!0,disabled:i})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsx("input",{type:"password",name:"password",value:e.password,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-800 focus:border-transparent",required:!0,disabled:i})]}),o.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gray-800 text-white py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Signing In..."})]}):"Sign In"})]})}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Demo Credentials"}),o.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",o.jsx("span",{className:"text-blue-600",children:"admin@siddhi.com"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Password:"})," ",o.jsx("span",{className:"text-blue-600",children:"admin123"})]})]})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx("button",{onClick:()=>t("/"),className:"text-gray-600 hover:text-gray-800 text-sm",children:"← Back to Home"})})]})})},hj=({onLogout:t})=>{const e=ht(),r=qn(),n=[{id:"dashboard",label:"Dashboard Overview",icon:o.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]}),path:"/admin"},{id:"orders",label:"Order Management",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),path:"/admin/orders"},{id:"menu",label:"Menu & Category Management",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),path:"/admin/menu"},{id:"customers",label:"Customer Management",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),path:"/admin/customers"},{id:"payments",label:"Payments & Transactions",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),path:"/admin/payments"},{id:"offers",label:"Offers & Coupons",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),path:"/admin/offers"},{id:"reports",label:"Reports & Analytics",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),path:"/admin/reports"},{id:"ai",label:"AI Recommendation Insights",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),path:"/admin/ai-recommendations"}],s=i=>r.pathname===i||i==="/admin"&&r.pathname==="/admin/dashboard";return o.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 min-h-screen flex flex-col",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center",children:o.jsx("div",{className:"text-white text-sm font-bold",children:"S"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"SIDDHI"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Admin Panel"})]})]})}),o.jsx("nav",{className:"flex-1 p-4 space-y-2",children:n.map(i=>o.jsxs("button",{onClick:()=>e(i.path),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s(i.path)?"bg-gray-800 text-white":"text-gray-700 hover:bg-gray-200"}`,children:[o.jsx("span",{className:s(i.path)?"text-white":"text-gray-500",children:i.icon}),o.jsx("span",{className:"text-left",children:i.label})]},i.id))}),o.jsx("div",{className:"p-4 border-t border-gray-200",children:o.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-full text-sm font-medium hover:bg-red-700 transition-colors",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),o.jsx("span",{children:"Logout"})]})})]})},Fe=({children:t,title:e,subtitle:r})=>{const n=ht(),[s,i]=j.useState(!1),[a,l]=j.useState(!0);j.useEffect(()=>{const u=localStorage.getItem("admin_token"),d=localStorage.getItem("admin_user");!u||!d?n("/admin/login"):(i(!0),l(!1))},[n]);const c=()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),n("/admin/login")};return a?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-gray-800 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?o.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[o.jsx(hj,{onLogout:c}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-8 py-6",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center",children:o.jsx("div",{className:"text-white text-sm font-bold",children:"S"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e}),r&&o.jsx("p",{className:"text-gray-600 mt-1",children:r})]})]})})}),o.jsx("main",{className:"flex-1 p-8",children:t})]})]}):null},fj="modulepreload",mj=function(t){return"/"+t},Wh={},oi=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=mj(c),c in Wh)return;Wh[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":fj,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},pj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>Jn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class qu extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class gj extends qu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Vh extends qu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Hh extends qu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Nc||(Nc={}));var yj=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class vj{constructor(e,{headers:r={},customFetch:n,region:s=Nc.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=pj(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return yj(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(w=>{throw new gj(w)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Vh(h);if(!h.ok)throw new Hh(h);let g=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield h.json():g==="application/octet-stream"?m=yield h.blob():g==="text/event-stream"?m=h:g==="multipart/form-data"?m=yield h.formData():m=yield h.text(),{data:m,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Hh||s instanceof Vh?s.context:void 0}}})}}var Ve={},Wu={},ya={},ai={},va={},xa={},xj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},Mn=xj();const wj=Mn.fetch,F0=Mn.fetch.bind(Mn),U0=Mn.Headers,bj=Mn.Request,jj=Mn.Response,Jn=Object.freeze(Object.defineProperty({__proto__:null,Headers:U0,Request:bj,Response:jj,default:F0,fetch:wj},Symbol.toStringTag,{value:"Module"})),Nj=fg(Jn);var wa={};Object.defineProperty(wa,"__esModule",{value:!0});let kj=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};wa.default=kj;var B0=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xa,"__esModule",{value:!0});const _j=B0(Nj),Sj=B0(wa);let Cj=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_j.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c,u;let d=null,h=null,f=null,g=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const x=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");x&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,g=406,m="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await i.text();try{d=JSON.parse(x),Array.isArray(d)&&i.status===404&&(h=[],d=null,g=200,m="OK")}catch{i.status===404&&x===""?(g=204,m="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,g=200,m="OK"),d&&this.shouldThrowOnError)throw new Sj.default(d)}return{error:d,data:h,count:f,status:g,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};xa.default=Cj;var Ej=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(va,"__esModule",{value:!0});const Oj=Ej(xa);let Tj=class extends Oj.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};va.default=Tj;var Rj=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ai,"__esModule",{value:!0});const Pj=Rj(va);let Aj=class extends Pj.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};ai.default=Aj;var Lj=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ya,"__esModule",{value:!0});const as=Lj(ai);let Ij=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new as.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new as.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new as.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new as.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new as.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};ya.default=Ij;var z0=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wu,"__esModule",{value:!0});const $j=z0(ya),Dj=z0(ai);let Mj=class q0{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new $j.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new q0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Dj.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Wu.default=Mj;var Gn=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const W0=Gn(Wu);Ve.PostgrestClient=W0.default;const V0=Gn(ya);Ve.PostgrestQueryBuilder=V0.default;const H0=Gn(ai);Ve.PostgrestFilterBuilder=H0.default;const Q0=Gn(va);Ve.PostgrestTransformBuilder=Q0.default;const K0=Gn(xa);Ve.PostgrestBuilder=K0.default;const J0=Gn(wa);Ve.PostgrestError=J0.default;var Fj=Ve.default={PostgrestClient:W0.default,PostgrestQueryBuilder:V0.default,PostgrestFilterBuilder:H0.default,PostgrestTransformBuilder:Q0.default,PostgrestBuilder:K0.default,PostgrestError:J0.default};const{PostgrestClient:Uj,PostgrestQueryBuilder:j_,PostgrestFilterBuilder:N_,PostgrestTransformBuilder:k_,PostgrestBuilder:__,PostgrestError:S_}=Fj;class Bj{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const zj="2.15.5",qj=`realtime-js/${zj}`,Wj="1.0.0",kc=1e4,Vj=1e3,Hj=100;var ks;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ks||(ks={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var vt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vt||(vt={}));var _c;(function(t){t.websocket="websocket"})(_c||(_c={}));var Ar;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ar||(Ar={}));class Qj{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+s));a=a+s;const c=n.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class G0{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const Qh=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=Kj(a,t,e,s),i),{})},Kj=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Y0(i,a):Sc(a)},Y0=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Xj(e,r)}switch(t){case X.bool:return Jj(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Gj(e);case X.json:case X.jsonb:return Yj(e);case X.timestamp:return Zj(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return Sc(e);default:return Sc(e)}},Sc=t=>t,Jj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Gj=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Yj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Xj=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Y0(e,l))}return t},Zj=t=>typeof t=="string"?t.replace(" ","T"):t,X0=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class rl{constructor(e,r,n={},s=kc){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Kh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Kh||(Kh={}));class _s{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_s.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=_s.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_s.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),m=d.filter(x=>g.indexOf(x.presence_ref)<0),w=h.filter(x=>f.indexOf(x.presence_ref)<0);m.length>0&&(l[u]=m),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Jh||(Jh={}));var Ss;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ss||(Ss={}));var Ft;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ft||(Ft={}));class Vu{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rl(this,vt.join,this.params,this.timeout),this.rejoinTimer=new G0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new _s(this),this.broadcastEndpointURL=X0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ss.PRESENCE]&&this.bindings[Ss.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Ft.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Ft.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var m;if(this.socket.setAuth(),g===void 0){e==null||e(Ft.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,v=[];for(let p=0;p<x;p++){const y=w[p],{filter:{event:b,schema:S,table:N,filter:_}}=y,E=g&&g[p];if(E&&E.event===b&&E.schema===S&&E.table===N&&E.filter===_)v.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(Ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ft.SUBSCRIBED);return}}).receive("error",g=>{this.state=pe.errored,e==null||e(Ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===pe.joined&&e===Ss.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new rl(this,vt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new rl(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Hj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=vt;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var m,w,x;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(w=g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(g=>g.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var m,w,x,v,p,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const b=g.id,S=(m=g.filter)===null||m===void 0?void 0:m.event;return b&&((w=r.ids)===null||w===void 0?void 0:w.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(p=(v=g==null?void 0:g.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:w,table:x,commit_timestamp:v,type:p,errors:y}=m;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:v,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(m))}g.callback(f,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Vu.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vt.close,{},e)}_onError(e){this._on(vt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Qh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Qh(e.columns,e.old_record)),r}}const nl=()=>{},Ti={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eN=[1e3,2e3,5e3,1e4],tN=1e4,rN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nN{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kc,this.transport=null,this.heartbeatIntervalMs=Ti.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nl,this.ref=0,this.reconnectTimer=null,this.logger=nl,this.conn=null,this.sendBuffer=[],this.serializer=new Qj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>oi(async()=>{const{default:l}=await Promise.resolve().then(()=>Jn);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${_c.websocket}`,this.httpEndpoint=X0(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wj}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ks.connecting:return Ar.Connecting;case ks.open:return Ar.Open;case ks.closing:return Ar.Closing;default:return Ar.Closed}}isConnected(){return this.connectionState()===Ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Vu(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Vj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ti.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([rN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:qj};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(vt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new G0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ti.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:kc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ti.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:nl,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>eN[h-1]||tN,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Hu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class sN extends Hu{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cc extends Hu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var iN=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Z0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>Jn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},oN=()=>iN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oi(()=>Promise.resolve().then(()=>Jn),void 0)).Response:Response}),Ec=t=>{if(Array.isArray(t))return t.map(r=>Ec(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ec(n)}),e},aN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Zr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const sl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lN=(t,e,r)=>Zr(void 0,void 0,void 0,function*(){const n=yield oN();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new sN(sl(s),i,a))}).catch(s=>{e(new Cc(sl(s),s))}):e(new Cc(sl(t),t))}),cN=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(aN(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function li(t,e,r,n,s,i){return Zr(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,cN(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>lN(c,l,n))})})}function Mo(t,e,r,n){return Zr(this,void 0,void 0,function*(){return li(t,"GET",e,r,n)})}function Et(t,e,r,n,s){return Zr(this,void 0,void 0,function*(){return li(t,"POST",e,n,s,r)})}function Oc(t,e,r,n,s){return Zr(this,void 0,void 0,function*(){return li(t,"PUT",e,n,s,r)})}function uN(t,e,r,n){return Zr(this,void 0,void 0,function*(){return li(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function eg(t,e,r,n,s){return Zr(this,void 0,void 0,function*(){return li(t,"DELETE",e,n,s,r)})}var $e=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const dN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hN{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Z0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return $e(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Gh),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?Oc:Et)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ge(i))return{data:null,error:i};throw i}})}upload(e,r,n){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return $e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Gh.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Oc(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ge(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return $e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Et(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Hu("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}update(e,r,n){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return $e(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}copy(e,r,n){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield Et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return $e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Et(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return $e(this,void 0,void 0,function*(){try{const s=yield Et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}download(e,r){return $e(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Mo(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ge(l))return{data:null,error:l};throw l}})}info(e){return $e(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Mo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ec(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}exists(e){return $e(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield uN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n)&&n instanceof Cc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return $e(this,void 0,void 0,function*(){try{return{data:yield eg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}list(e,r,n){return $e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},dN),r),{prefix:e||""});return{data:yield Et(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}listV2(e,r){return $e(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Et(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const fN="2.12.1",mN={"X-Client-Info":`storage-js/${fN}`};var rn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,[])).next())})};class pN{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},mN),r),this.fetch=Z0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return rn(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}getBucket(e){return rn(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return rn(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return rn(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}emptyBucket(e){return rn(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return rn(this,void 0,void 0,function*(){try{return{data:yield eg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}}class gN extends pN{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new hN(this.url,this.headers,e,this.fetch)}}const yN="2.57.4";let fs="";typeof Deno<"u"?fs="deno":typeof document<"u"?fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fs="react-native":fs="node";const vN={"X-Client-Info":`supabase-js-${fs}/${yN}`},xN={headers:vN},wN={schema:"public"},bN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jN={};var NN=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const kN=t=>{let e;return t?e=t:typeof fetch>"u"?e=F0:e=fetch,(...r)=>e(...r)},_N=()=>typeof Headers>"u"?U0:Headers,SN=(t,e,r)=>{const n=kN(r),s=_N();return(i,a)=>NN(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var CN=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,[])).next())})};function EN(t){return t.endsWith("/")?t:t+"/"}function ON(t,e){var r,n;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>CN(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function TN(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(EN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tg="2.71.1",ln=30*1e3,Tc=3,il=Tc*ln,RN="http://localhost:9999",PN="supabase.auth.token",AN={"X-Client-Info":`gotrue-js/${tg}`},Rc="X-Supabase-Api-Version",rg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IN=10*60*1e3;class Qu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $N extends Qu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function DN(t){return M(t)&&t.name==="AuthApiError"}class ng extends Qu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Sr extends Qu{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Zt extends Sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function MN(t){return M(t)&&t.name==="AuthSessionMissingError"}class Ri extends Sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pi extends Sr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ai extends Sr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FN(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class Yh extends Sr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pc extends Sr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ol(t){return M(t)&&t.name==="AuthRetryableFetchError"}class Xh extends Sr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ac extends Sr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zh=` 	
\r=`.split(""),UN=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Zh.length;e+=1)t[Zh[e].charCodeAt(0)]=-2;for(let e=0;e<Fo.length;e+=1)t[Fo[e].charCodeAt(0)]=e;return t})();function ef(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Fo[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Fo[n]),e.queuedBits-=6}}function sg(t,e,r){const n=UN[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tf(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{qN(a,n,r)};for(let a=0;a<t.length;a+=1)sg(t.charCodeAt(a),s,i);return e.join("")}function BN(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function zN(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}BN(n,e)}}function qN(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function WN(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)sg(t.charCodeAt(s),r,n);return new Uint8Array(e)}function VN(t){const e=[];return zN(t,r=>e.push(r)),new Uint8Array(e)}function HN(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>ef(s,r,n)),ef(null,r,n),e.join("")}function QN(t){return Math.round(Date.now()/1e3)+t}function KN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const mt=()=>typeof window<"u"&&typeof document<"u",Er={tested:!1,writable:!1},ig=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Er.tested)return Er.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Er.tested=!0,Er.writable=!0}catch{Er.tested=!0,Er.writable=!1}return Er.writable};function JN(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const og=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>Jn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},GN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",cn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Or=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xt=async(t,e)=>{await t.removeItem(e)};class ba{constructor(){this.promise=new ba.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ba.promiseConstructor=Promise;function al(t){const e=t.split(".");if(e.length!==3)throw new Ac("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!LN.test(e[n]))throw new Ac("JWT not in base64url format");return{header:JSON.parse(tf(e[0])),payload:JSON.parse(tf(e[1])),signature:WN(e[2]),raw:{header:e[0],payload:e[1]}}}async function YN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function XN(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function ZN(t){return("0"+t.toString(16)).substr(-2)}function ek(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,ZN).join("")}async function tk(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function rk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await tk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nn(t,e,r=!1){const n=ek();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await cn(t,`${e}-code-verifier`,s);const i=await rk(n);return[i,n===i?"plain":"s256"]}const nk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sk(t){const e=t.headers.get(Rc);if(!e||!e.match(nk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ik(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ok(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ak=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sn(t){if(!ak.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ll(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rf(t){return JSON.parse(JSON.stringify(t))}var lk=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Pr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ck=[502,503,504];async function nf(t){var e;if(!GN(t))throw new Pc(Pr(t),0);if(ck.includes(t.status))throw new Pc(Pr(t),t.status);let r;try{r=await t.json()}catch(i){throw new ng(Pr(i),i)}let n;const s=sk(t);if(s&&s.getTime()>=rg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Xh(Pr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Zt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Xh(Pr(r),t.status,r.weak_password.reasons);throw new $N(Pr(r),t.status||500,n)}const uk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Rc]||(i[Rc]=rg["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await dk(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function dk(t,e,r,n,s,i){const a=uk(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new Pc(Pr(c),0)}if(l.ok||await nf(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await nf(c)}}function $t(t){var e;let r=null;pk(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=QN(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function sf(t){const e=$t(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function or(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hk(t){return{data:t,error:null}}function fk(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=lk(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function mk(t){return t}function pk(t){return t.access_token&&t.refresh_token&&t.expires_in}const cl=["global","local","others"];var gk=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class yk{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=og(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=cl[0]){if(cl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cl.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:or})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=gk(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:or})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mk});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){sn(e);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:or})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){sn(e);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:or})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){sn(e);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:or})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){sn(e.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(e){sn(e.userId),sn(e.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}function of(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function vk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const on={debug:!!(globalThis&&ig()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ag extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xk extends ag{}async function wk(t,e,r){on.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),on.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){on.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{on.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw on.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(on.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}vk();const bk={url:RN,storageKey:PN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function af(t,e,r){return await r()}const an={};class Qs{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qs.nextInstanceID,Qs.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},bk),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new yk({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=og(s.fetch),this.lock=s.lock||af,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=wk:this.lock=af,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ig()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=of(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=of(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=an[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){an[this.storageKey]=Object.assign(Object.assign({},an[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=an[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){an[this.storageKey]=Object.assign(Object.assign({},an[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=JN(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),mt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),FN(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new ng("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:$t}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await nn(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:m},xform:$t})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$t})}else throw new Pi("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sf})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sf})}else throw new Pi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ri}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,a,l,c,u,d,h,f,g;let m,w;if("message"in e)m=e.message,w=e.signature;else{const{chain:x,wallet:v,statement:p,options:y}=e;let b;if(mt())if(typeof v=="object")b=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)m=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),w=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(m),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=N}}try{const{data:x,error:v}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:HN(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:$t});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Ri}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(M(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const r=await Or(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$t});if(await Xt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ri}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$t}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ri}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await nn(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Pi("You must provide either an email or phone number.")}catch(l){if(M(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:$t});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await nn(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:hk})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Zt;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Pi("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<il:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Or(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ll()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:or}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:or})})}catch(r){if(M(r))return MN(r)&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Zt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await nn(this.storage,this.storageKey));const{data:u,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:or});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=al(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Zt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!mt())throw new Ai("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ai(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ai("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yh("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new Ai("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const g=f-d;g*1e3<=ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(M(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Or(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(DN(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=KN(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await nn(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return mt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(M(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XN(async s=>(s>0&&await YN(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$t})),(s,i)=>{const a=200*Math.pow(2,s);return i&&ol(i)&&Date.now()+a-n<ln})}catch(n){if(this._debug(r,"error",n),M(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),mt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Or(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await cn(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ll()}else if(s&&!s.user&&!s.user){const a=await Or(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Xt(this.storage,this.storageKey+"-user"),await cn(this.storage,this.storageKey,s)):s.user=ll()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<il;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${il}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),ol(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ba;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Zt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),M(i)){const a={session:null,error:i};return ol(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await cn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=rf(s);await cn(this.storage,this.storageKey,i)}else{const s=rf(r);await cn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Xt(this.storage,this.storageKey),await Xt(this.storage,this.storageKey+"-code-verifier"),await Xt(this.storage,this.storageKey+"-user"),this.userStorage&&await Xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ln);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ln}ms, refresh threshold is ${Tc} ticks`),s<=Tc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ag)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await nn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=al(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+IN>s)return n;const{data:i,error:a}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:m}=await this.getSession();if(m||!g.session)return{data:null,error:m};n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=al(n);r!=null&&r.allowExpired||ik(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const d=ok(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,VN(`${l}.${c}`)))throw new Ac("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}Qs.nextInstanceID=0;const jk=Qs;class Nk extends jk{constructor(e){super(e)}}var kk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,[])).next())})};class _k{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const l=TN(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:wN,realtime:jN,auth:Object.assign(Object.assign({},bN),{storageKey:c}),global:xN},d=ON(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=SN(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Uj(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new gN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new vj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return kk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nk({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new nN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lg=(t,e,r)=>new _k(t,e,r);function Sk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Sk()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ck="https://imhkrycglxvjlpseieqv.supabase.co",Ek="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltaGtyeWNnbHh2amxwc2VpZXF2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMDI1NjcsImV4cCI6MjA3Mzc3ODU2N30.Lc2j8sEFCElNARu3JZet53Z6Yn50X1e3snM5yHlg36E";lg(Ck,Ek);const cg=(t="siddhi")=>{const[e,r]=j.useState([]),[n,s]=j.useState(!1),[i,a]=j.useState(!0);return j.useEffect(()=>{let l=null;const c=async()=>{try{console.log("🔄 Fetching orders from backend API...");const d=await(await fetch(`/api/admin-supabase/orders?store=${t}`)).json();d.success&&d.orders?(console.log("✅ Fetched",d.orders.length,"orders from backend API"),r(d.orders),s(!0)):(console.error("Error fetching orders from API:",d.error),s(!1))}catch(u){console.error("Error in fetchOrders:",u),s(!1)}finally{a(!1)}};return c(),l=setInterval(c,5e3),()=>{l&&clearInterval(l)}},[t]),{orders:e,isConnected:n,isLoading:i}},ug=(t="siddhi")=>{const[e,r]=j.useState([]),[n,s]=j.useState({}),[i,a]=j.useState(!1),[l,c]=j.useState(!0);return j.useEffect(()=>{let u=null;const d=async()=>{try{console.log("🔄 Fetching customers from backend API...");const f=await(await fetch(`/api/admin-supabase/customers?store=${t}`)).json();f.success&&f.customers?(console.log("✅ Fetched",f.customers.length,"customers from backend API"),r(f.customers),f.statistics&&s(f.statistics),a(!0)):(console.error("Error fetching customers from API:",f.error),a(!1))}catch(h){console.error("Error in fetchCustomers:",h),a(!1)}finally{c(!1)}};return d(),u=setInterval(d,5e3),()=>{u&&clearInterval(u)}},[t]),{customers:e,statistics:n,isConnected:i,isLoading:l}},Ok=(t="siddhi")=>{const[e,r]=j.useState([]),[n,s]=j.useState({}),[i,a]=j.useState(!1),[l,c]=j.useState(!0);return j.useEffect(()=>{let u=null;const d=async()=>{try{console.log("🔄 Fetching coupons from backend API...");const f=await(await fetch(`/api/admin-supabase/coupons?store=${t}`)).json();f.success&&f.coupons?(console.log("✅ Fetched",f.coupons.length,"coupons from backend API"),r(f.coupons),f.statistics&&s(f.statistics),a(!0)):(console.error("Error fetching coupons from API:",f.error),a(!1))}catch(h){console.error("Error in fetchCoupons:",h),a(!1)}finally{c(!1)}};return d(),u=setInterval(d,5e3),()=>{u&&clearInterval(u)}},[t]),{coupons:e,statistics:n,isConnected:i,isLoading:l}},Tk=(t="siddhi",e="today")=>{const[r,n]=j.useState(null),[s,i]=j.useState(!1),[a,l]=j.useState(!0);return j.useEffect(()=>{let c=null;const u=async()=>{try{console.log("🔄 Fetching dashboard data from backend API...",{storeSlug:t,timeFilter:e});const h=await(await fetch(`/api/admin-supabase/dashboard?store=${t}&period=${e}`)).json();h.success&&h.data?(console.log("✅ Fetched dashboard data from backend API"),n(h.data),i(!0)):(console.error("Error fetching dashboard from API:",h.error),i(!1))}catch(d){console.error("Error in fetchDashboard:",d),i(!1)}finally{l(!1)}};return u(),c=setInterval(u,5e3),()=>{c&&clearInterval(c)}},[t,e]),{dashboardData:r,isConnected:s,isLoading:a}},lf=()=>{var c;const[t,e]=j.useState("today"),{dashboardData:r,isConnected:n,isLoading:s}=Tk("siddhi",t),i=async()=>{try{const d=await(await fetch(`/api/admin-supabase/dashboard?store=siddhi&period=${t}`)).json();d.success&&d.data&&window.location.reload()}catch(u){console.error("Error refreshing dashboard:",u)}},a=u=>{e(u)};if(s)return o.jsx(Fe,{title:"Dashboard Overview",subtitle:"Welcome back to your dashboard",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-gray-800 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})})});const l=r||{totalOrders:0,totalRevenue:0,pendingOrders:0,inKitchenOrders:0,outForDeliveryOrders:0,deliveredOrders:0,cancelledOrders:0,recentOrders:[]};return o.jsxs(Fe,{title:"Dashboard Overview",subtitle:"Welcome back to your dashboard",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Key Metrics"}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Showing data for: ",o.jsx("span",{className:"font-medium capitalize",children:t})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"text-xs text-gray-500",children:n?"Live":"Offline"})]}),o.jsx("button",{onClick:i,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"Refresh"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>a("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t==="today"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Today"}),o.jsx("button",{onClick:()=>a("weekly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t==="weekly"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Weekly"}),o.jsx("button",{onClick:()=>a("monthly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t==="monthly"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Monthly"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.totalOrders})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["₹",new Intl.NumberFormat("en-IN").format(l.totalRevenue)]})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Orders Pending"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.pendingOrders})]}),o.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Kitchen"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.inKitchenOrders})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})})]})})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Revenue Trend"}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Revenue Chart"}),o.jsx("p",{className:"text-gray-500",children:"Chart visualization coming soon"})]})})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Orders by Status"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Pending"})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:l.pendingOrders})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"In Kitchen"})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:l.inKitchenOrders})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Out for Delivery"})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:l.outForDeliveryOrders})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Delivered"})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:l.deliveredOrders})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Cancelled"})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:l.cancelledOrders})]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Recent Activity"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ORDER ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CUSTOMER"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ITEMS"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TOTAL"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"STATUS"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(c=l.recentOrders)==null?void 0:c.slice(0,5).map(u=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u.orderNumber}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.customerName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.items}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u.formattedTotal}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u.status==="PENDING"?"bg-gray-100 text-gray-800":u.status==="CONFIRMED"?"bg-blue-100 text-blue-800":u.status==="PREPARING"?"bg-yellow-100 text-yellow-800":u.status==="OUT_FOR_DELIVERY"?"bg-blue-100 text-blue-800":u.status==="DELIVERED"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.status})})]},u.id))})]})})]})]})]})},Rk=()=>{const[t,e]=j.useState("all"),r=h=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(h);j.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const{orders:n,isConnected:s,isLoading:i}=cg("siddhi"),a=async()=>{try{const f=await(await fetch("/api/admin-supabase/orders?store=siddhi")).json();f.success&&f.orders&&window.location.reload()}catch(h){console.error("Error refreshing orders:",h)}},l=h=>new Date(h).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}),c={totalOrders:n.length,pendingOrders:n.filter(h=>h.status==="PENDING").length,inKitchenOrders:n.filter(h=>h.status==="PREPARING").length,deliveredOrders:n.filter(h=>h.status==="DELIVERED").length},u=h=>({DELIVERED:"bg-green-100 text-green-800",OUT_FOR_DELIVERY:"bg-blue-100 text-blue-800",PREPARING:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-blue-100 text-blue-800",PENDING:"bg-gray-100 text-gray-800",CANCELLED:"bg-red-100 text-red-800",delivered:"bg-green-100 text-green-800",out_for_delivery:"bg-blue-100 text-blue-800",in_kitchen:"bg-yellow-100 text-yellow-800",pending:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"})[h]||"bg-gray-100 text-gray-800",d=t==="all"?n:n.filter(h=>h.status===t);return i?o.jsx(Fe,{title:"Order Management",subtitle:"Track and manage customer orders",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-gray-800 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})})}):o.jsxs(Fe,{title:"Order Management",subtitle:"Track and manage customer orders",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.totalOrders||0})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Orders"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.pendingOrders||0})]}),o.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Kitchen"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.inKitchenOrders||0})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Delivered"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.deliveredOrders||0})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>e("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="all"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"All Orders"}),o.jsx("button",{onClick:()=>e("PENDING"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="PENDING"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Pending"}),o.jsx("button",{onClick:()=>e("CONFIRMED"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="CONFIRMED"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Confirmed"}),o.jsx("button",{onClick:()=>e("PREPARING"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="PREPARING"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"In Kitchen"}),o.jsx("button",{onClick:()=>e("OUT_FOR_DELIVERY"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="OUT_FOR_DELIVERY"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Out for Delivery"}),o.jsx("button",{onClick:()=>e("DELIVERED"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="DELIVERED"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Delivered"})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Recent Orders (",n.length,")"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"text-xs text-gray-500",children:s?"Live":"Offline"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleTimeString()]}),o.jsx("button",{onClick:a,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"Refresh"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(h=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h.id}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.customer.name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.itemsSummary||h.items.map(f=>`${f.quantity}x ${f.name||"Item"}`).join(", ")}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h.formattedTotal||r(h.total)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(h.status)}`,children:h.status.replace("_"," ").toUpperCase()})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l(h.createdAt)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600",children:o.jsx("button",{className:"hover:text-blue-800",children:"View Details"})})]},h.id))})]})})]})]})},Pk=({itemId:t,isAvailable:e,onToggle:r,storeSlug:n="siddhi",disabled:s=!1})=>{const[i,a]=j.useState(e),[l,c]=j.useState(!1),u=async()=>{if(l||s)return;c(!0);const d=!i;try{const h=await Le.updateItemAvailability(t,d,n);h.success?(a(d),r==null||r(d,h.statistics)):(console.error("Failed to update availability:",h.error),a(i))}catch(h){console.error("Error updating availability:",h),a(i)}finally{c(!1)}};return o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i?"Available":"Out of Stock"}),o.jsx("button",{onClick:u,disabled:l||s,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${i?"bg-green-600":"bg-gray-200"} ${l||s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i?"translate-x-6":"translate-x-1"}`})}),l&&o.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"})]})},Ak=()=>null,Lk=({isOpen:t,onClose:e,onItemAdded:r,onItemUpdated:n,categories:s=[],editingItem:i=null})=>{const a=Wn(),[l,c]=j.useState({name:"",description:"",price:"",categoryId:"",isVeg:!0,isAvailable:!0,imageUrl:""}),[u,d]=j.useState(!1),[h,f]=j.useState({});ce.useEffect(()=>{var p;c(i?{name:i.name||"",description:i.description||"",price:((p=i.price)==null?void 0:p.toString())||"",categoryId:i.categoryId||"",isVeg:i.isVeg??!0,isAvailable:i.isAvailable??!0,imageUrl:i.imageUrl||""}:{name:"",description:"",price:"",categoryId:"",isVeg:!0,isAvailable:!0,imageUrl:""})},[i]);const g=p=>{const{name:y,value:b,type:S,checked:N}=p.target;c(_=>({..._,[y]:S==="checkbox"?N:b})),h[y]&&f(_=>({..._,[y]:""}))},m=()=>{const p={};return l.name.trim()||(p.name="Name is required"),l.description.trim()||(p.description="Description is required"),(!l.price||isNaN(l.price)||parseFloat(l.price)<=0)&&(p.price="Valid price is required"),l.categoryId||(p.categoryId="Category is required"),l.imageUrl&&!w(l.imageUrl)&&(p.imageUrl="Please enter a valid URL"),f(p),Object.keys(p).length===0},w=p=>{try{return new URL(p),!0}catch{return!1}},x=async p=>{var y,b,S,N;if(p.preventDefault(),!!m()){d(!0);try{const _={name:l.name.trim(),description:l.description.trim(),price:parseFloat(l.price),categoryId:l.categoryId,isVeg:l.isVeg,isAvailable:l.isAvailable,imageUrl:l.imageUrl.trim()||null};console.log("📤 Sending item data:",_);let E;if(i?E=await Le.updateMenuItem(i.id,_):E=await Le.addMenuItem(_),E.success){const A=i?"updated":"added";U.success(`${l.name} ${A} successfully!`),a.invalidateQueries(["admin-menu-items"]),a.invalidateQueries(["menu","siddhi"]),i?n(E.item,E.statistics):r(E.item,E.statistics),v()}else{const A=i?"update":"add";U.error(`Failed to ${A} item`)}}catch(_){if(console.error("Add item error:",_),(b=(y=_.response)==null?void 0:y.data)!=null&&b.details){const A=_.response.data.details[0];U.error(`${A.param}: ${A.msg}`)}else(N=(S=_.response)==null?void 0:S.data)!=null&&N.error?U.error(_.response.data.error):U.error("Failed to add item")}finally{d(!1)}}},v=()=>{c({name:"",description:"",price:"",categoryId:"",isVeg:!0,isAvailable:!0,imageUrl:""}),f({}),e()};return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i?"Edit Food Item":"Add New Food Item"}),o.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:i?"Update the details for this food item.":"Enter details for the new food item."}),o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"w-20 h-20 bg-pink-100 rounded-full flex items-center justify-center cursor-pointer hover:bg-pink-200 transition-colors",children:[l.imageUrl?o.jsx("img",{src:l.imageUrl,alt:"Food preview",className:"w-16 h-16 rounded-full object-cover",onError:p=>{p.target.style.display="none",p.target.nextSibling.style.display="block"}}):null,o.jsxs("div",{className:`text-center ${l.imageUrl?"hidden":"block"}`,children:[o.jsx("svg",{className:"w-8 h-8 text-pink-400 mx-auto mb-1",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),o.jsx("p",{className:"text-xs text-pink-600",children:"Click to upload image"})]})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),o.jsx("input",{type:"text",name:"name",value:l.name,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter item name"}),h.name&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"₹"}),o.jsx("input",{type:"number",name:"price",value:l.price,onChange:g,className:`w-full pl-8 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.price?"border-red-500":"border-gray-300"}`,placeholder:"0",min:"0",step:"0.01"})]}),h.price&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.price})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{name:"description",value:l.description,onChange:g,rows:3,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter item description"}),h.description&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsxs("select",{name:"categoryId",value:l.categoryId,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.categoryId?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select a category"}),s.map(p=>o.jsx("option",{value:p.id,children:p.name},p.id))]}),h.categoryId&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.categoryId})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL (Optional)"}),o.jsx("input",{type:"url",name:"imageUrl",value:l.imageUrl,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.imageUrl?"border-red-500":"border-gray-300"}`,placeholder:"https://example.com/image.jpg"}),h.imageUrl&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.imageUrl})]}),o.jsxs("div",{className:"flex space-x-6",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isVeg",checked:l.isVeg,onChange:g,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),o.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Vegetarian"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isAvailable",checked:l.isAvailable,onChange:g,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),o.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Available"})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:v,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?i?"Updating...":"Adding...":i?"Update Item":"Add Item"})]})]})]})})}):null},Ik=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:s})=>t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Delete Menu Item"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Are you sure?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone."})]})]}),o.jsxs("p",{className:"text-gray-700",children:["You are about to delete ",o.jsxs("strong",{children:['"',n,'"']})," from the menu. This item will be permanently removed from both the admin panel and customer menu."]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:e,disabled:s,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),o.jsx("button",{onClick:r,disabled:s,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Deleting...":"Delete Item"})]})]})})}):null,$k=({isOpen:t,onClose:e,onCategoryAdded:r,onCategoryUpdated:n,editingCategory:s=null})=>{const i=Wn(),[a,l]=j.useState({name:"",description:"",slug:"",sortOrder:""}),[c,u]=j.useState(!1),[d,h]=j.useState({});ce.useEffect(()=>{var x;l(s?{name:s.name||"",description:s.description||"",slug:s.slug||"",sortOrder:((x=s.sortOrder)==null?void 0:x.toString())||""}:{name:"",description:"",slug:"",sortOrder:""})},[s]);const f=x=>{const{name:v,value:p}=x.target;if(l(y=>({...y,[v]:p})),d[v]&&h(y=>({...y,[v]:""})),v==="name"){const y=p.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();l(b=>({...b,slug:y}))}},g=()=>{const x={};return a.name.trim()||(x.name="Category name is required"),a.slug.trim()?/^[a-z0-9-]+$/.test(a.slug)||(x.slug="Slug can only contain lowercase letters, numbers, and hyphens"):x.slug="Slug is required",a.sortOrder&&(isNaN(a.sortOrder)||parseInt(a.sortOrder)<0)&&(x.sortOrder="Sort order must be a positive number"),x},m=async x=>{var p,y,b,S;x.preventDefault();const v=g();if(Object.keys(v).length>0){h(v),U.error("Please correct the form errors.");return}u(!0);try{const N={name:a.name.trim(),description:a.description.trim()||null,slug:a.slug.trim(),sortOrder:a.sortOrder?parseInt(a.sortOrder):void 0};console.log("📤 Sending category data:",N);let _;if(s?_=await Le.updateCategory(s.id,N):_=await Le.addCategory(N),_.success){const E=s?"updated":"added";U.success(`Category ${E} successfully!`),i.invalidateQueries(["admin-categories"]),s?n(_.category,_.statistics):r(_.category,_.statistics),w()}else{const E=s?"update":"add";U.error(`Failed to ${E} category`)}}catch(N){if(console.error("Category error:",N),(y=(p=N.response)==null?void 0:p.data)!=null&&y.details){const E=N.response.data.details[0];U.error(`${E.param}: ${E.msg}`)}else if((S=(b=N.response)==null?void 0:b.data)!=null&&S.error)U.error(N.response.data.error);else{const _=s?"update":"add";U.error(`Failed to ${_} category`)}}finally{u(!1)}},w=()=>{l({name:"",description:"",slug:"",sortOrder:""}),h({}),e()};return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s?"Edit Category":"Add New Category"}),o.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:s?"Update the details for this category.":"Enter details for the new category."}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name *"}),o.jsx("input",{type:"text",name:"name",value:a.name,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${d.name?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Main Course",disabled:c}),d.name&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{name:"description",value:a.description,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Brief description of the category",rows:3,disabled:c})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug *"}),o.jsx("input",{type:"text",name:"slug",value:a.slug,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${d.slug?"border-red-500":"border-gray-300"}`,placeholder:"e.g., main-course",disabled:c}),d.slug&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.slug}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL-friendly identifier (auto-generated from name)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),o.jsx("input",{type:"number",name:"sortOrder",value:a.sortOrder,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${d.sortOrder?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 1",min:"0",disabled:c}),d.sortOrder&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.sortOrder}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first (optional)"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:w,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?s?"Updating...":"Adding...":s?"Update Category":"Add Category"})]})]})]})})}):null},Dk=({isOpen:t,onClose:e,onConfirm:r,categoryName:n,itemCount:s,isLoading:i})=>t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Delete Category"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Are you sure?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone."})]})]}),s>0?o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Cannot Delete Category"}),o.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:o.jsxs("p",{children:["The category ",o.jsxs("strong",{children:['"',n,'"']})," contains ",o.jsxs("strong",{children:[s," menu items"]}),". Please move or delete all items in this category before deleting the category."]})})]})]})}):o.jsxs("p",{className:"text-gray-700",children:["You are about to delete the category ",o.jsxs("strong",{children:['"',n,'"']}),". This category will be permanently removed."]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:e,disabled:i,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),o.jsx("button",{onClick:r,disabled:i||s>0,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Deleting...":"Delete Category"})]})]})})}):null,Mk=()=>{const[t,e]=j.useState("items"),[r,n]=j.useState({}),[s,i]=j.useState(!1),[a,l]=j.useState(!1),[c,u]=j.useState(null),[d,h]=j.useState(null),[f,g]=j.useState(!1),[m,w]=j.useState(!1),[x,v]=j.useState(!1),[p,y]=j.useState(null),[b,S]=j.useState(null),[N,_]=j.useState(!1),E=I=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(I),{data:A,isLoading:C,refetch:R}=Vn("admin-menu-items",()=>Le.getMenuItems(),{refetchInterval:5e3,staleTime:0,cacheTime:3e4}),J=(A==null?void 0:A.menuItems)||[],ee=(A==null?void 0:A.categories)||[],Y=(A==null?void 0:A.statistics)||{};ce.useEffect(()=>{Object.keys(Y).length>0&&n(Y)},[Y]);const Ee=(I,be)=>{n(be),R()},G=(I,be)=>{console.log("🆕 New item added:",I),n(be),R({queryKey:["admin-menu-items"],stale:!1,cacheTime:0})},ze=(I,be)=>{console.log("✏️ Item updated:",I),n(be),u(null),R({queryKey:["admin-menu-items"],stale:!1,cacheTime:0})},T=I=>{console.log("✏️ Editing item:",I),u(I),i(!0)},L=I=>{console.log("🗑️ Deleting item:",I),h(I),l(!0)},$=async()=>{var I,be;if(d){g(!0);try{const je=await Le.deleteMenuItem(d.id);je.success?(U.success(`${d.name} deleted successfully!`),n(je.statistics),l(!1),h(null),R({queryKey:["admin-menu-items"],stale:!1,cacheTime:0})):U.error("Failed to delete item")}catch(je){console.error("Delete item error:",je),U.error(((be=(I=je.response)==null?void 0:I.data)==null?void 0:be.error)||"Failed to delete item")}finally{g(!1)}}},q=()=>{i(!1),u(null)},Q=(I,be)=>{console.log("🆕 New category added:",I),n(je=>({...je,...be})),R({queryKey:["admin-categories"],stale:!1,cacheTime:0})},kt=(I,be)=>{console.log("✏️ Category updated:",I),n(je=>({...je,...be})),y(null),R({queryKey:["admin-categories"],stale:!1,cacheTime:0})},qe=I=>{console.log("✏️ Editing category:",I),y(I),w(!0)},Gt=I=>{console.log("🗑️ Deleting category:",I),S(I),v(!0)},Lt=async()=>{var I,be;if(b){_(!0);try{const je=await Le.deleteCategory(b.id);je.success?(U.success(`Category "${b.name}" deleted successfully!`),n(Cr=>({...Cr,...je.statistics})),v(!1),S(null),R({queryKey:["admin-categories"],stale:!1,cacheTime:0})):U.error("Failed to delete category")}catch(je){console.error("Delete category error:",je),U.error(((be=(I=je.response)==null?void 0:I.data)==null?void 0:be.error)||"Failed to delete category")}finally{_(!1)}}},en=()=>{w(!1),y(null)};return j.useEffect(()=>{const I=Mt.connect("siddhi");I.emit("join-admin","siddhi");const be=Cr=>{console.log("Menu statistics updated:",Cr),n(Cr.statistics)},je=Cr=>{console.log("🆕 New menu item added via socket:",Cr),n(Cr.statistics),R({queryKey:["admin-menu-items"],stale:!1,cacheTime:0})};return I.on("menu.statistics.updated",be),I.on("menu.item.added",je),()=>{I.off("menu.statistics.updated",be),I.off("menu.item.added",je)}},[]),C?o.jsx(Fe,{title:"Menu & Category Management",subtitle:"Manage your restaurant menu items and categories",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-gray-800 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading menu items..."})]})})}):o.jsxs(o.Fragment,{children:[o.jsx(Ak,{}),o.jsxs(Fe,{title:"Menu & Category Management",subtitle:"Manage your restaurant menu items and categories",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.totalItems||0})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Categories"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.totalCategories||0})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Items"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.availableItems||0})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.outOfStockItems||0})]}),o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})]})})]}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>e("items"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="items"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Menu Items"}),o.jsx("button",{onClick:()=>e("categories"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="categories"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Categories"})]})})}),t==="items"&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Menu Items"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>R(),className:"bg-blue-100 text-blue-600 px-3 py-2 rounded-lg text-sm hover:bg-blue-200",children:"🔄 Refresh"}),o.jsx("button",{onClick:()=>i(!0),className:"bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-700",children:"Add New Item"})]})]}),o.jsx("div",{className:"divide-y divide-gray-200",children:J.map(I=>o.jsx("div",{className:"p-6 hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900",children:I.name}),o.jsx("p",{className:"text-sm text-gray-600",children:I.description}),o.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[o.jsxs("span",{className:"text-sm text-gray-500",children:["Category: ",I.category]}),o.jsxs("span",{className:"text-sm text-gray-500",children:["Price: ",E(I.price)]}),o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${I.isVeg?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:I.isVeg?"Veg":"Non-Veg"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Pk,{itemId:I.id,isAvailable:I.isAvailable,onToggle:Ee,storeSlug:"siddhi"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>T(I),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),o.jsx("button",{onClick:()=>L(I),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})]})},I.id))})]}),t==="categories"&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Categories"}),o.jsx("button",{onClick:()=>w(!0),className:"bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-700",children:"Add New Category"})]}),o.jsx("div",{className:"divide-y divide-gray-200",children:ee.map(I=>o.jsx("div",{className:"p-6 hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900",children:I.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:[I.itemCount," items"]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${I.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:I.isActive?"Active":"Inactive"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>qe(I),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),o.jsx("button",{onClick:()=>Gt(I),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})]})},I.id))})]})]}),o.jsx(Lk,{isOpen:s,onClose:q,onItemAdded:G,onItemUpdated:ze,categories:ee,editingItem:c}),o.jsx(Ik,{isOpen:a,onClose:()=>{l(!1),h(null)},onConfirm:$,itemName:(d==null?void 0:d.name)||"",isLoading:f}),o.jsx($k,{isOpen:m,onClose:en,onCategoryAdded:Q,onCategoryUpdated:kt,editingCategory:p}),o.jsx(Dk,{isOpen:x,onClose:()=>{v(!1),S(null)},onConfirm:Lt,categoryName:(b==null?void 0:b.name)||"",itemCount:(b==null?void 0:b.itemCount)||0,isLoading:N})]})},Fk=()=>{const[t,e]=j.useState(""),[r,n]=j.useState("all"),s=v=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(v),{customers:i,statistics:a,isConnected:l,isLoading:c}=ug("siddhi"),u=async()=>{try{const p=await(await fetch("/api/admin-supabase/customers?store=siddhi")).json();p.success&&p.customers&&window.location.reload()}catch(v){console.error("Error refreshing customers:",v)}},d=a.totalCustomers||i.length,h=a.activeCustomers||i.filter(v=>v.status==="Active").length,f=a.newThisMonth||0,g=a.blockedCustomers||i.filter(v=>v.status==="Blocked").length,m=a.growthPercentage||0,w=v=>({Active:"bg-green-100 text-green-800",Inactive:"bg-yellow-100 text-yellow-800",Blocked:"bg-red-100 text-red-800"})[v]||"bg-gray-100 text-gray-800",x=i.filter(v=>{const p=v.name.toLowerCase().includes(t.toLowerCase())||v.email.toLowerCase().includes(t.toLowerCase())||v.phone.includes(t),y=r==="all"||v.status===r;return p&&y});return c?o.jsx(Fe,{title:"Customer Management",subtitle:"Manage customer accounts and relationships",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-gray-800 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading customers..."})]})})}):o.jsxs(Fe,{title:"Customer Management",subtitle:"Manage customer accounts and relationships",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:d})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Customers"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:h})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"New This Month"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:f}),o.jsxs("p",{className:`text-sm mt-1 ${m>=0?"text-green-600":"text-red-600"}`,children:[m>=0?"+":"",m,"% from last month"]})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Blocked Customers"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:g})]}),o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"})})})]})})]}),o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",placeholder:"Search customers by name, email, or phone...",value:t,onChange:v=>e(v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-gray-800 focus:border-gray-800"})]})}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="all"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"All"}),o.jsx("button",{onClick:()=>n("Active"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="Active"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Active"}),o.jsx("button",{onClick:()=>n("Inactive"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="Inactive"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Inactive"}),o.jsx("button",{onClick:()=>n("Blocked"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="Blocked"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Blocked"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Customer List (",i.length,")"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${l?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"text-xs text-gray-500",children:l?"Live":"Offline"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleTimeString()]}),o.jsx("button",{onClick:u,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"Refresh"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Spent"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Order"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(v=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-medium text-gray-700",children:v.name.split(" ").map(p=>p[0]).join("")})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Joined: ",v.joinDate]})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:v.email}),o.jsx("div",{className:"text-sm text-gray-500",children:v.phone})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.totalOrders}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s(v.totalSpent)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.lastOrder}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w(v.status)}`,children:v.status})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600",children:[o.jsx("button",{className:"hover:text-blue-800 mr-4",children:"View"}),o.jsx("button",{className:"hover:text-blue-800",children:"Edit"})]})]},v.id))})]})})]})]})},Uk=()=>{const[t,e]=j.useState("today"),r=c=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(c),{data:n,isLoading:s}=Vn(["admin-transactions",t],()=>Le.getTransactions({period:t}),{refetchInterval:1e4}),i=(n==null?void 0:n.transactions)||[],a=(n==null?void 0:n.statistics)||{};if(s)return o.jsx(Fe,{title:"Payments & Transactions",subtitle:"Manage and track all payment transactions",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-gray-800 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading transactions..."})]})})});const l=c=>{const u={Completed:"bg-green-100 text-green-800",Pending:"bg-orange-100 text-orange-800",Failed:"bg-red-100 text-red-800",Refunded:"bg-blue-100 text-blue-800"},d={Completed:o.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),Pending:o.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),Failed:o.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),Refunded:o.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})};return o.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u[c]}`,children:[d[c],c]})};return o.jsxs(Fe,{title:"Payments & Transactions",subtitle:"Manage and track all payment transactions",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>e("today"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="today"?"bg-orange-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Today"}),o.jsx("button",{onClick:()=>e("weekly"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="weekly"?"bg-orange-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Weekly"}),o.jsx("button",{onClick:()=>e("monthly"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="monthly"?"bg-orange-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Monthly"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-gray-600 flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Total Transactions"]}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:a.totalTransactions||0})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-gray-600 flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Total Revenue"]}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r(a.totalRevenue||0)})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-gray-600 flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pending Transactions"]}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:a.pendingTransactions||0})]})})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction Details"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(c=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.date}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c.id}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.customer}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.method}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:r(c.amount)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l(c.status)})]},c.id))})]})})]})]})},Bk=({isOpen:t,onClose:e,onCouponAdded:r,onCouponUpdated:n,editingCoupon:s=null})=>{const i=Wn(),[a,l]=j.useState({code:"",name:"",description:"",type:"PERCENTAGE",value:"",minOrderAmount:"",maxDiscount:"",usageLimit:"",validFrom:"",validUntil:"",isActive:!0}),[c,u]=j.useState(!1),[d,h]=j.useState({});ce.useEffect(()=>{var x,v,p,y;if(s)l({code:s.code||"",name:s.name||"",description:s.description||"",type:s.type||"PERCENTAGE",value:((x=s.value)==null?void 0:x.toString())||"",minOrderAmount:((v=s.minOrderAmount)==null?void 0:v.toString())||"",maxDiscount:((p=s.maxDiscount)==null?void 0:p.toString())||"",usageLimit:((y=s.usageLimit)==null?void 0:y.toString())||"",validFrom:s.validFrom?new Date(s.validFrom).toISOString().slice(0,16):"",validUntil:s.validUntil?new Date(s.validUntil).toISOString().slice(0,16):"",isActive:s.isActive??!0});else{const b=new Date;new Date(b.getTime()+24*60*60*1e3);const S=new Date(b.getTime()+30*24*60*60*1e3);l({code:"",name:"",description:"",type:"PERCENTAGE",value:"",minOrderAmount:"",maxDiscount:"",usageLimit:"",validFrom:b.toISOString().slice(0,16),validUntil:S.toISOString().slice(0,16),isActive:!0})}},[s]);const f=x=>{const{name:v,value:p,type:y,checked:b}=x.target;l(S=>({...S,[v]:y==="checkbox"?b:p})),d[v]&&h(S=>({...S,[v]:""}))},g=()=>{const x={};return a.code.trim()?/^[A-Z0-9_-]+$/.test(a.code)||(x.code="Coupon code can only contain uppercase letters, numbers, hyphens, and underscores"):x.code="Coupon code is required",a.name.trim()||(x.name="Coupon name is required"),a.value.trim()?isNaN(a.value)||parseFloat(a.value)<=0?x.value="Value must be a positive number":a.type==="PERCENTAGE"&&parseFloat(a.value)>100&&(x.value="Percentage cannot be greater than 100"):x.value="Value is required",a.minOrderAmount&&(isNaN(a.minOrderAmount)||parseFloat(a.minOrderAmount)<0)&&(x.minOrderAmount="Min order amount must be a positive number"),a.maxDiscount&&(isNaN(a.maxDiscount)||parseFloat(a.maxDiscount)<0)&&(x.maxDiscount="Max discount must be a positive number"),a.usageLimit&&(isNaN(a.usageLimit)||parseInt(a.usageLimit)<1)&&(x.usageLimit="Usage limit must be a positive integer"),a.validFrom||(x.validFrom="Valid from date is required"),a.validUntil?a.validFrom&&new Date(a.validUntil)<=new Date(a.validFrom)&&(x.validUntil="Valid until must be after valid from date"):x.validUntil="Valid until date is required",x},m=async x=>{var p,y,b,S;x.preventDefault();const v=g();if(Object.keys(v).length>0){h(v),U.error("Please correct the form errors.");return}u(!0);try{const N={code:a.code.trim().toUpperCase(),name:a.name.trim(),description:a.description.trim()||null,type:a.type,value:parseFloat(a.value),minOrderAmount:a.minOrderAmount?parseFloat(a.minOrderAmount):null,maxDiscount:a.maxDiscount?parseFloat(a.maxDiscount):null,usageLimit:a.usageLimit?parseInt(a.usageLimit):null,validFrom:new Date(a.validFrom).toISOString(),validUntil:new Date(a.validUntil).toISOString(),isActive:a.isActive};console.log("📤 Sending coupon data:",N);let _;if(s?_=await Le.updateCoupon(s.id,N):_=await Le.addCoupon(N),_.success){const E=s?"updated":"added";U.success(`Coupon ${E} successfully!`),i.invalidateQueries(["admin-coupons"]),s?n(_.coupon,_.statistics):r(_.coupon,_.statistics),w()}else{const E=s?"update":"add";U.error(`Failed to ${E} coupon`)}}catch(N){if(console.error("Coupon error:",N),(y=(p=N.response)==null?void 0:p.data)!=null&&y.details){const E=N.response.data.details[0];U.error(`${E.param}: ${E.msg}`)}else if((S=(b=N.response)==null?void 0:b.data)!=null&&S.error)U.error(N.response.data.error);else{const _=s?"update":"add";U.error(`Failed to ${_} coupon`)}}finally{u(!1)}},w=()=>{l({code:"",name:"",description:"",type:"PERCENTAGE",value:"",minOrderAmount:"",maxDiscount:"",usageLimit:"",validFrom:"",validUntil:"",isActive:!0}),h({}),e()};return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s?"Edit Coupon":"Create New Coupon"}),o.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:s?"Update the details for this coupon.":"Add a new promotional coupon to your system."}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coupon Code *"}),o.jsx("input",{type:"text",name:"code",value:a.code,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${d.code?"border-red-500":"border-gray-300"}`,placeholder:"e.g., BLACKFRIDAY25",disabled:c}),d.code&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.code})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coupon Name *"}),o.jsx("input",{type:"text",name:"name",value:a.name,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${d.name?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Black Friday Sale",disabled:c}),d.name&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.name})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{name:"description",value:a.description,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Brief description of the coupon",rows:3,disabled:c})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type *"}),o.jsxs("select",{name:"type",value:a.type,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:c,children:[o.jsx("option",{value:"PERCENTAGE",children:"Percentage Off"}),o.jsx("option",{value:"FIXED_AMOUNT",children:"Fixed Amount Off"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Value *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",name:"value",value:a.value,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${d.value?"border-red-500":"border-gray-300"}`,placeholder:a.type==="PERCENTAGE"?"e.g., 25":"e.g., 100",min:"0",max:a.type==="PERCENTAGE"?"100":void 0,step:a.type==="PERCENTAGE"?"1":"0.01",disabled:c}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:o.jsx("span",{className:"text-gray-500 text-sm",children:a.type==="PERCENTAGE"?"%":"₹"})})]}),d.value&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.value})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min. Purchase"}),o.jsx("input",{type:"number",name:"minOrderAmount",value:a.minOrderAmount,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${d.minOrderAmount?"border-red-500":"border-gray-300"}`,placeholder:"Optional, e.g., 500",min:"0",step:"0.01",disabled:c}),d.minOrderAmount&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.minOrderAmount})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount"}),o.jsx("input",{type:"number",name:"maxDiscount",value:a.maxDiscount,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${d.maxDiscount?"border-red-500":"border-gray-300"}`,placeholder:"Optional, e.g., 200",min:"0",step:"0.01",disabled:c}),d.maxDiscount&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.maxDiscount})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usage Limit"}),o.jsx("input",{type:"number",name:"usageLimit",value:a.usageLimit,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${d.usageLimit?"border-red-500":"border-gray-300"}`,placeholder:"Optional, e.g., 100",min:"1",disabled:c}),d.usageLimit&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.usageLimit})]}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isActive",checked:a.isActive,onChange:f,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded",disabled:c}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid From *"}),o.jsx("input",{type:"datetime-local",name:"validFrom",value:a.validFrom,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${d.validFrom?"border-red-500":"border-gray-300"}`,disabled:c}),d.validFrom&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.validFrom})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid Until *"}),o.jsx("input",{type:"datetime-local",name:"validUntil",value:a.validUntil,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 ${d.validUntil?"border-red-500":"border-gray-300"}`,disabled:c}),d.validUntil&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.validUntil})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:w,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?s?"Updating...":"Creating...":s?"Update Coupon":"Save Coupon"})]})]})]})})}):null},zk=({isOpen:t,onClose:e,onConfirm:r,couponName:n,usageCount:s,isLoading:i})=>t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Confirm Deletion"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Are you sure?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone."})]})]}),s>0?o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Cannot Delete Coupon"}),o.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:o.jsxs("p",{children:["The coupon ",o.jsxs("strong",{children:['"',n,'"']})," has been used ",o.jsxs("strong",{children:[s," times"]}),". Please deactivate it instead of deleting it."]})})]})]})}):o.jsxs("p",{className:"text-gray-700",children:["You are about to delete the coupon ",o.jsxs("strong",{children:['"',n,'"']}),". This coupon will be permanently removed."]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:e,disabled:i,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),o.jsx("button",{onClick:r,disabled:i||s>0,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Deleting...":"Delete"})]})]})})}):null,qk=()=>{const t=Wn(),[e,r]=j.useState(!1),[n,s]=j.useState(!1),[i,a]=j.useState(null),[l,c]=j.useState(null),[u,d]=j.useState(!1),{coupons:h,statistics:f,isConnected:g,isLoading:m}=Ok("siddhi"),w=C=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(C),x=async()=>{try{const R=await(await fetch("/api/admin-supabase/coupons?store=siddhi")).json();R.success&&R.coupons&&window.location.reload()}catch(C){console.error("Error refreshing coupons:",C)}},v=(C,R)=>{console.log("✅ Coupon added:",C),U.success(`Coupon "${C.name}" created successfully!`),t.invalidateQueries(["admin-coupons"])},p=(C,R)=>{console.log("✅ Coupon updated:",C),U.success(`Coupon "${C.name}" updated successfully!`),t.invalidateQueries(["admin-coupons"])},y=C=>{a(C),r(!0)},b=C=>{c(C),s(!0)},S=async()=>{if(l){d(!0);try{const C=await Le.deleteCoupon(l.id);C.success?(U.success(`Coupon "${l.name}" deleted successfully!`),t.invalidateQueries(["admin-coupons"]),s(!1),c(null)):U.error(C.error||"Failed to delete coupon")}catch(C){console.error("Delete coupon error:",C),U.error("Failed to delete coupon")}finally{d(!1)}}},N=()=>{r(!1),a(null)},_=C=>C?"bg-green-100 text-green-800":"bg-red-100 text-red-800",E=(C,R)=>R?Math.round(C/R*100):0,A=C=>new Date(C).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});return m?o.jsx(Fe,{title:"Offers & Coupons",subtitle:"Manage discount offers and promotional coupons",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-gray-800 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading coupons..."})]})})}):o.jsxs(Fe,{title:"Offers & Coupons",subtitle:"Manage discount offers and promotional coupons",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Coupons"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:f.activeCoupons||0})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usage"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:f.totalUsage||0})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Savings"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:w(f.totalSavings||0)})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[f.conversionRate||0,"%"]})]}),o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Coupons"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"text-xs text-gray-500",children:g?"Live":"Offline"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleTimeString()]}),o.jsx("button",{onClick:x,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"Refresh"}),o.jsx("button",{onClick:()=>r(!0),className:"bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-700",children:"Create New Coupon"})]})]}),o.jsx("div",{className:"divide-y divide-gray-200",children:h.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No coupons yet"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first promotional coupon to get started."}),o.jsx("button",{onClick:()=>r(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Create New Coupon"})]}):h.map(C=>o.jsx("div",{className:"p-6 hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900",children:C.name}),o.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm font-mono",children:C.code}),o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(C.isActive)}`,children:C.isActive?"Active":"Inactive"})]}),C.description&&o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:C.description}),o.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[C.minOrderAmount&&o.jsxs("span",{children:["Min Order: ",w(C.minOrderAmount)]}),C.maxDiscount&&o.jsxs("span",{children:["Max Discount: ",w(C.maxDiscount)]}),o.jsxs("span",{children:["Expires: ",A(C.validUntil)]})]})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.type==="PERCENTAGE"?`${C.value}%`:w(C.value)}),o.jsx("p",{className:"text-xs text-gray-500",children:"Discount"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[C.usedCount,"/",C.usageLimit||"∞"]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Usage"})]}),C.usageLimit&&o.jsxs("div",{className:"w-16",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[o.jsx("span",{children:"Usage"}),o.jsxs("span",{children:[E(C.usedCount,C.usageLimit),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${E(C.usedCount,C.usageLimit)}%`}})})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>y(C),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),o.jsx("button",{onClick:()=>b(C),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]})]})},C.id))})]}),o.jsx(Bk,{isOpen:e,onClose:N,onCouponAdded:v,onCouponUpdated:p,editingCoupon:i}),o.jsx(zk,{isOpen:n,onClose:()=>{s(!1),c(null)},onConfirm:S,couponName:(l==null?void 0:l.name)||"",usageCount:(l==null?void 0:l.usedCount)||0,isLoading:u})]})},Wk=()=>{const[t,e]=j.useState("today"),r=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(a),{data:n,isLoading:s}=Vn(["admin-reports",t],()=>Le.getReports({period:t}),{refetchInterval:15e3}),i=(n==null?void 0:n.analytics)||{};return s?o.jsx(Fe,{title:"Reports & Analytics",subtitle:"Business insights and performance analytics",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-gray-800 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})})}):o.jsxs(Fe,{title:"Reports & Analytics",subtitle:"Business insights and performance analytics",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>e("today"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="today"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Today"}),o.jsx("button",{onClick:()=>e("week"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="week"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"This Week"}),o.jsx("button",{onClick:()=>e("month"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="month"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"This Month"}),o.jsx("button",{onClick:()=>e("year"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t==="year"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"This Year"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r(i.totalRevenue||0)})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.totalOrders||0})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Order Value"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r(i.averageOrderValue||0)})]}),o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer Satisfaction"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[i.customerSatisfaction||0,"/5"]})]}),o.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),o.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-4 bg-gradient-to-r from-green-100 to-blue-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-16 h-16 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),o.jsx("p",{className:"text-gray-600",children:"Revenue Chart"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Chart visualization coming soon"})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Orders Trend"}),o.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-4 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-16 h-16 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),o.jsx("p",{className:"text-gray-600",children:"Orders Chart"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Chart visualization coming soon"})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Items"}),o.jsx("div",{className:"space-y-4",children:i.topItems&&i.topItems.length>0?i.topItems.map((a,l)=>{const c=["bg-green-100","bg-blue-100","bg-purple-100","bg-yellow-100","bg-red-100"],u=["text-green-600","text-blue-600","text-purple-600","text-yellow-600","text-red-600"],d=c[l%c.length],h=u[l%u.length];return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:`w-10 h-10 ${d} rounded-full flex items-center justify-center`,children:o.jsx("span",{className:`${h} font-bold`,children:l+1})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:a.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:[a.orderCount," orders"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium text-gray-900",children:r(a.revenue)}),o.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"})]})]},a.id)}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),o.jsx("p",{className:"text-gray-500",children:"No order data available"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Top performing items will appear here once orders are placed"})]})})]})]})},Vk=()=>{const[t,e]=j.useState("insights"),r=l=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(l),n=[],s=l=>{const c={Revenue:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),Menu:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Customer:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),Inventory:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})};return c[l]||c.Revenue},i=l=>{const c={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"};return c[l]||c.medium},a=l=>{const c={Revenue:"bg-green-100 text-green-800",Menu:"bg-blue-100 text-blue-800",Customer:"bg-purple-100 text-purple-800",Inventory:"bg-orange-100 text-orange-800"};return c[l]||c.Revenue};return o.jsxs(Fe,{title:"AI Recommendation Insights",subtitle:"Smart recommendations powered by artificial intelligence",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"AI Insights Generated"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"0"}),o.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"AI insights generated"})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Implementations"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"0"}),o.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Recommendations applied"})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenue Impact"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r(0)}),o.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Generated from AI insights"})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Accuracy Rate"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"0%"}),o.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Prediction accuracy"})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>e("insights"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="insights"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Smart Insights"}),o.jsx("button",{onClick:()=>e("predictions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="predictions"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Predictions"}),o.jsx("button",{onClick:()=>e("optimization"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="optimization"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Optimization"})]})})}),t==="insights"&&o.jsx("div",{className:"space-y-6",children:n.length>0?n.map(l=>o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${a(l.type)}`,children:s(l.type)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900",children:l.title}),o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a(l.type)}`,children:l.type}),o.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i(l.impact)}`,children:[l.impact.toUpperCase()," IMPACT"]})]}),o.jsx("p",{className:"text-gray-600 mb-3",children:l.description}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("span",{className:"font-medium",children:"Recommendation:"})," ",l.recommendation]})}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-2",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("span",{className:"font-medium",children:"Potential Gain:"})," ",l.potentialGain]})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700",children:"Implement"}),o.jsx("button",{className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300",children:"Dismiss"})]})]})},l.id)):o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No AI Insights Available"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"AI insights will appear here once the system has enough data to generate recommendations"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Collect more order data to unlock AI-powered insights and recommendations"})]})}),t==="predictions"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales Predictions"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),o.jsx("p",{className:"text-gray-500",children:"AI Sales Predictions"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Revenue and order predictions will appear here based on historical data"})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Demand Forecast"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),o.jsx("p",{className:"text-gray-500",children:"AI Demand Prediction"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Demand forecasting will appear here based on order patterns"})]})]})]}),t==="optimization"&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"AI Optimization Suggestions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Menu Optimization"}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"AI suggests removing low-performing items and promoting trending dishes"}),o.jsx("div",{className:"space-y-2",children:o.jsx("p",{className:"text-sm text-gray-500",children:"AI recommendations will appear here based on order data"})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Staffing Optimization"}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Optimal staffing levels based on predicted demand"}),o.jsx("div",{className:"space-y-2",children:o.jsx("p",{className:"text-sm text-gray-500",children:"AI staffing recommendations will appear here based on order patterns"})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Inventory Optimization"}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Smart inventory management suggestions"}),o.jsx("div",{className:"space-y-2",children:o.jsx("p",{className:"text-sm text-gray-500",children:"AI inventory recommendations will appear here based on usage patterns"})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pricing Optimization"}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Dynamic pricing recommendations for better margins"}),o.jsx("div",{className:"space-y-2",children:o.jsx("p",{className:"text-sm text-gray-500",children:"AI pricing recommendations will appear here based on demand and competition analysis"})})]})]})]})]})},Hk=()=>{const[t,e]=j.useState([]),{orders:r,isConnected:n,isLoading:s}=cg("siddhi"),{customers:i,isConnected:a,isLoading:l}=ug("siddhi");j.useEffect(()=>{const u=[];fetch("http://localhost:3001/api/admin-supabase/orders?store=siddhi").then(d=>d.json()).then(d=>{var h;u.push({test:"Backend API Orders",status:d.success?"✅ PASS":"❌ FAIL",details:d.success?`${((h=d.orders)==null?void 0:h.length)||0} orders`:d.error}),e([...u])}).catch(d=>{u.push({test:"Backend API Orders",status:"❌ FAIL",details:d.message}),e([...u])}),fetch("https://imhkrycglxvjlpseieqv.supabase.co/rest/v1/customers?select=count",{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltaGtyeWNnbHh2amxwc2VpZXF2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMDI1NjcsImV4cCI6MjA3Mzc3ODU2N30.Lc2j8sEFCElNARu3JZet53Z6Yn50X1e3snM5yHlg36E"}}).then(d=>d.json()).then(d=>{var h;u.push({test:"Supabase Direct Connection",status:"✅ PASS",details:`${((h=d[0])==null?void 0:h.count)||0} customers`}),e([...u])}).catch(d=>{u.push({test:"Supabase Direct Connection",status:"❌ FAIL",details:d.message}),e([...u])})},[]);const c=async()=>{try{const d=await(await fetch("http://localhost:3001/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storeSlug:"siddhi",customer:{name:`@Test Real Time ${Date.now()}`,phone:"9999999999",email:"test@realtime.com"},items:[{menuItemId:"cmfpllfb500008u996w5g5mlm-paneer-tikka",quantity:1}],paymentMethod:"CASH_ON_DELIVERY"})})).json();d.id?e(h=>[...h,{test:"Create Test Order",status:"✅ PASS",details:`Order ${d.orderNumber} created successfully`}]):e(h=>[...h,{test:"Create Test Order",status:"❌ FAIL",details:d.error||"Unknown error"}])}catch(u){e(d=>[...d,{test:"Create Test Order",status:"❌ FAIL",details:u.message}])}};return o.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Real-time System Test"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Orders Real-time"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${n?"bg-green-500":"bg-red-500"}`}),o.jsxs("span",{children:["Connection: ",n?"Connected":"Disconnected"]})]}),o.jsxs("div",{children:["Loading: ",s?"Yes":"No"]}),o.jsxs("div",{children:["Orders Count: ",r.length]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customers Real-time"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${a?"bg-green-500":"bg-red-500"}`}),o.jsxs("span",{children:["Connection: ",a?"Connected":"Disconnected"]})]}),o.jsxs("div",{children:["Loading: ",l?"Yes":"No"]}),o.jsxs("div",{children:["Customers Count: ",i.length]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Test Results"}),o.jsx("div",{className:"space-y-2",children:t.map((u,d)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[o.jsx("span",{className:"font-medium",children:u.test}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-bold",children:u.status}),o.jsx("div",{className:"text-sm text-gray-600",children:u.details})]})]},d))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Test Actions"}),o.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Create Test Order"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Orders (Real-time)"}),o.jsx("div",{className:"space-y-2",children:r.slice(0,5).map(u=>{var d;return o.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[o.jsx("div",{className:"font-medium",children:u.orderNumber}),o.jsxs("div",{className:"text-sm text-gray-600",children:[(d=u.customer)==null?void 0:d.name," - ",u.status]})]},u.id)})})]})]})})},Qk="https://imhkrycglxvjlpseieqv.supabase.co",Kk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltaGtyeWNnbHh2amxwc2VpZXF2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMDI1NjcsImV4cCI6MjA3Mzc3ODU2N30.Lc2j8sEFCElNARu3JZet53Z6Yn50X1e3snM5yHlg36E",Li=lg(Qk,Kk),Jk=()=>{const[t,e]=j.useState("Disconnected"),[r,n]=j.useState([]),[s,i]=j.useState([]),[a,l]=j.useState([]),c=f=>{l(g=>[...g,`${new Date().toLocaleTimeString()}: ${f}`])};j.useEffect(()=>{c("Starting Supabase real-time test...");const f=Li.channel("test-orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},m=>{var w,x;c(`Orders change: ${m.eventType} - ${((w=m.new)==null?void 0:w.id)||((x=m.old)==null?void 0:x.id)}`),u()}).subscribe(m=>{c(`Orders subscription status: ${m}`),m==="SUBSCRIBED"&&e("Connected")}),g=Li.channel("test-customers").on("postgres_changes",{event:"*",schema:"public",table:"customers"},m=>{var w,x;c(`Customers change: ${m.eventType} - ${((w=m.new)==null?void 0:w.id)||((x=m.old)==null?void 0:x.id)}`),d()}).subscribe(m=>{c(`Customers subscription status: ${m}`)});return u(),d(),()=>{Li.removeChannel(f),Li.removeChannel(g)}},[]);const u=async()=>{try{const g=await(await fetch("http://localhost:3001/api/admin-supabase/orders?store=siddhi")).json();g.success&&(n(g.orders),c(`Fetched ${g.orders.length} orders`))}catch(f){c(`Error fetching orders: ${f.message}`)}},d=async()=>{try{const g=await(await fetch("http://localhost:3001/api/admin-supabase/customers?store=siddhi")).json();g.success&&(i(g.customers),c(`Fetched ${g.customers.length} customers`))}catch(f){c(`Error fetching customers: ${f.message}`)}},h=async()=>{try{c("Creating test order...");const g=await(await fetch("http://localhost:3001/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storeSlug:"siddhi",customer:{name:`@Supabase Test ${Date.now()}`,phone:"8888888888",email:"supabase@test.com"},items:[{menuItemId:"cmfpllfb500008u996w5g5mlm-paneer-tikka",quantity:1}],paymentMethod:"CASH_ON_DELIVERY"})})).json();g.id?c(`✅ Order created: ${g.orderNumber}`):c(`❌ Order creation failed: ${g.error}`)}catch(f){c(`❌ Order creation error: ${f.message}`)}};return o.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Supabase Real-time Test"}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Connection Status"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${t==="Connected"?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"font-medium",children:t})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Orders"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:r.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total orders"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customers"}),o.jsx("div",{className:"text-3xl font-bold text-green-600",children:s.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total customers"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Test Actions"}),o.jsxs("div",{className:"space-x-4",children:[o.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Create Test Order"}),o.jsx("button",{onClick:u,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Refresh Orders"}),o.jsx("button",{onClick:d,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Refresh Customers"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Real-time Logs"}),o.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg h-64 overflow-y-auto font-mono text-sm",children:a.map((f,g)=>o.jsx("div",{children:f},g))})]})]})})};class dg extends ce.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){this.setState({error:e,errorInfo:r}),console.error("ErrorBoundary caught an error:",e,r)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"}),o.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Go Home"})]}),!1]})}):this.props.children}}function Gk(){const{storeSlug:t}=Xr();console.log("App component - storeSlug:",t);const{data:e,isLoading:r,error:n}=Vn(["store",t],()=>(console.log("Fetching store data for slug:",t),Le.getStore(t)),{enabled:!!t,retry:1,onSuccess:s=>{console.log("Store data fetched successfully:",s)},onError:s=>{console.error("Store fetch failed:",s)}});return r?o.jsx(zu,{}):n?(console.error("Store fetch error:",n),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Store Not Found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"The store you're looking for doesn't exist."}),o.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Store Slug: ",t]}),o.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Error: ",(n==null?void 0:n.message)||"Unknown error"]}),o.jsx("button",{onClick:()=>window.location.href="/",className:"btn btn-primary",children:"Go Home"})]})})):o.jsx(dg,{children:o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs(Ax,{children:[o.jsx(me,{path:"/",element:o.jsx(a2,{})}),o.jsx(me,{path:"/menu",element:o.jsx(oj,{})}),o.jsx(me,{path:"/cart",element:o.jsx(aj,{})}),o.jsx(me,{path:"/checkout",element:o.jsx(lj,{})}),o.jsx(me,{path:"/payment-complete",element:o.jsx(cj,{})}),o.jsx(me,{path:"/order/:id",element:o.jsx(uj,{})}),o.jsx(me,{path:"/admin/login",element:o.jsx(dj,{})}),o.jsx(me,{path:"/admin",element:o.jsx(lf,{})}),o.jsx(me,{path:"/admin/dashboard",element:o.jsx(lf,{})}),o.jsx(me,{path:"/admin/orders",element:o.jsx(Rk,{})}),o.jsx(me,{path:"/admin/menu",element:o.jsx(Mk,{})}),o.jsx(me,{path:"/admin/customers",element:o.jsx(Fk,{})}),o.jsx(me,{path:"/admin/payments",element:o.jsx(Uk,{})}),o.jsx(me,{path:"/admin/offers",element:o.jsx(qk,{})}),o.jsx(me,{path:"/admin/reports",element:o.jsx(Wk,{})}),o.jsx(me,{path:"/admin/ai-recommendations",element:o.jsx(Vk,{})}),o.jsx(me,{path:"/admin/realtime-test",element:o.jsx(Hk,{})}),o.jsx(me,{path:"/admin/supabase-test",element:o.jsx(Jk,{})})]})})})}const Yk=new rw({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});ul.createRoot(document.getElementById("root")).render(o.jsx(ce.StrictMode,{children:o.jsx(dg,{children:o.jsx(aw,{client:Yk,children:o.jsxs(Dx,{children:[o.jsx(Gk,{}),o.jsx(eb,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})}));
//# sourceMappingURL=index-CBCWqdyc.js.map
